(function(){/*
 https://www.pcjs.org/modules/v2/messages.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/diskapi.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/dumpapi.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/reportapi.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/userapi.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/keys.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/strlib.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/weblib.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/interrupts.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/state.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/embed.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/defines.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/format.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/databuffer.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/usrlib.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/component.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/jsonlib.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v3/charset.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/panel.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/bus.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/memory.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/cpu.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/cpux86.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/fpux86.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/segx86.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86func.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86help.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86mods.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86ops.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/x86op0f.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/chipset.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/rom.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/ram.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/keyboard.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/video.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/parallel.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/serial.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/testctl.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/testmon.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/mouse.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/disk.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/fdc.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/hdc.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/debugger.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/computer.js (C) 2012-2023 Jeff Parsons
 https://www.pcjs.org/modules/v2/save.js (C) 2012-2023 Jeff Parsons
*/
var p;function ba(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ca(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}}function da(a){if(!(a instanceof Array)){a=ca(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
var ea="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},fa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ha(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ia=ha(this);function la(a,b){if(b)a:{var c=ia;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&fa(c,a,{configurable:!0,writable:!0,value:b})}}var ma;
if("function"==typeof Object.setPrototypeOf)ma=Object.setPrototypeOf;else{var na;a:{var oa={a:!0},pa={};try{pa.__proto__=oa;na=pa.a;break a}catch(a){}na=!1}ma=na?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ra=ma;
function sa(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(ra)ra(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.xm=b.prototype}function ta(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}
la("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});
la("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});la("String.prototype.repeat",function(a){return a?a:function(b){if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");var c=this;if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});
la("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});la("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function va(a){return a?a:Array.prototype.fill}la("Int8Array.prototype.fill",va);la("Uint8Array.prototype.fill",va);la("Uint8ClampedArray.prototype.fill",va);
la("Int16Array.prototype.fill",va);la("Uint16Array.prototype.fill",va);la("Int32Array.prototype.fill",va);la("Uint32Array.prototype.fill",va);la("Float32Array.prototype.fill",va);la("Float64Array.prototype.fill",va);
la("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.A=f;fa(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.A};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
la("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ia[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&fa(d.prototype,a,{configurable:!0,writable:!0,value:function(){return wa(ba(this))}})}return a});function wa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function xa(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}la("Array.prototype.keys",function(a){return a?a:function(){return xa(this,function(b){return b})}});la("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});
var ya="undefined"!=typeof window?{}:null,Aa="undefined"!=typeof window?{}:global,r="undefined"!=typeof window?window:global,Ba="undefined"!=typeof document?document:{};r.PCjs||(r.PCjs={});var Ca=r.PCjs;Ca.machines||(Ca.machines={});Ca.components||(Ca.components=[]);Ca.commands||(Ca.commands={});r.LOCALDISKS=!1;var t={warn:549755813888,halt:70368744177664,buffer:0x800000000000};function Da(){this.A={};for(var a=0;23>a;a++)this.A["ACDFGHMNSTWYBbdfjcsoXx%"[a]]=null}
function Ea(){var a=ta.apply(0,arguments);if(void 0===a[0])a=new Date(Date.now());else if("string"===typeof a[0]){var b=a[0];0>b.indexOf(":")?b+=" "+(a[1]||"00:00:00 UTC"):b.match(/^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]$/)&&(a[1]||(b+=" UTC"));a=new Date(b)}else a=void 0===a[1]?new Date(a[0]):new Date(Date.UTC.apply(Date,da(a)));return a}
Da.prototype.B=function(a){var b=ta.apply(1,arguments);if(!b||!b.length)return a;var c="",d=a.split(/%([-+ 0#]*)([0-9]*|\*)(\.[0-9]+|)([bwhlL]?)([A-Za-z%])/),e=0,f;for(f=0;f<d.length-6;f+=6){c+=d[f];var g=d[f+5];if(void 0===this.A[g])c+="%"+d[f+1]+d[f+2]+d[f+3]+d[f+4]+g;else{if(e<b.length){var h=b[e];"%"!=g&&e++}else h=b[b.length-1];var k=d[f+1],l=0<=k.indexOf("#"),n=0<=k.indexOf("0"),m=d[f+2];"*"==m?(m=h,h=e<b.length?b[e++]:b[b.length-1]):m=+m||0;var q=d[f+3];q=q?+q.substr(1):-1;var u=d[f+4],x=null,
y=0,z="",D=0<="ACDFGHMNSTWY".indexOf(g)&&"object"!=typeof h?Ea(h):h;switch(g){case "C":c+=isNaN(D.getTime())?void 0:this.B("%#W, %#F %#D, %#Y".replaceAll("#",l?"#":""),D);continue;case "D":h=l?D.getUTCDate():D.getDate();g="d";break;case "A":case "G":case "H":h=l?D.getUTCHours():D.getHours();"A"==g?(h=12>h?"am":"pm",g="s"):("G"==g&&(h=h?12<h?h-12:h:12),g="d");break;case "F":case "M":h=l?D.getUTCMonth():D.getMonth();"F"==g?(h=Fa[h],g="s"):(h++,g="d");break;case "N":h=l?D.getUTCMinutes():D.getMinutes();
g="d";break;case "S":h=l?D.getUTCSeconds():D.getSeconds();g="d";break;case "T":c+=isNaN(D.getTime())?void 0:this.B("%#Y-%#02M-%#02D %#02H:%#02N:%#02S".replaceAll("#",l?"#":""),D);continue;case "W":h=Ga[l?D.getUTCDay():D.getDay()];g="s";break;case "Y":h=l?D.getUTCFullYear():D.getFullYear(),0<q&&(h%=Math.pow(10,q)),g="d"}switch(g){case "b":c+=h?"true":"false";break;case "d":h=Math.trunc(h),0<=q&&(n=!0,m<q&&(m=q),q=-1);case "f":h=+h;g=h+"";0<=q&&(g=h.toFixed(q));g.length<m&&(n?(0>h&&(m--,g=g.substr(1)),
g=("0".repeat(m)+g).slice(-m),0>h&&(g="-"+g)):g=(" ".repeat(m)+g).slice(-m));c+=g;break;case "j":c+=JSON.stringify(h,null,m||void 0);break;case "c":h="string"==typeof h?h[0]:String.fromCharCode(h);case "s":if(void 0!=h)for("string"!=typeof h&&(h=h.toString()),0<=q&&(h=h.substr(0,q));h.length<m;)h=0<=k.indexOf("-")?h+" ":" "+h;c+=h;break;case "B":y=2,l&&(z="0b");case "o":y||(y=8),!z&&l&&(z="0o");case "X":x=Ia;case "x":g="";y||(y=16);!z&&l&&(z="0x");x||(x=Ka);h=Math.trunc(h);0<=q&&(n=!0,m<q&&(m=q));
n&&!m&&("b"==u?m=2:"h"==u||"w"==u?m=4:"l"==u?m=8:(m=Math.abs(h),m=255>=m?2:65535>=m?4:4294967295>=m?8:9),m+=z.length);m-=z.length;do l=16,Number.isNaN(h)||(l=h&y-1,h=Math.trunc(h/y)),n||!g||l||h?g=x[l]+g:(z&&(g=z+g,z=""),0<m&&(g=" "+g));while(0<--m||h);c+=z+g;break;case "%":c+="%";break;default:c=this.A[g]?c+this.A[g](g,k,m,q,h):c+("(unimplemented sprintf type: %"+g+")")}}}return c+=d[f]};
var Ka="0123456789abcdef?",Ia="0123456789ABCDEF?",Ga="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Fa="January February March April May June July August September October November December".split(" "),La={163840:[40,1,8,,254],184320:[40,1,9,,252],327680:[40,2,8,,255],368640:[40,2,9,,253],737280:[80,2,9,,249],1228800:[80,2,15,,249],1474560:[80,2,18,,240],1720320:[80,2,21,,240],1884160:[80,2,23,,249],2949120:[80,2,36,,240],10653696:[306,4,17],21411840:[615,4,17],256256:[77,1,
26,128],2494464:[203,2,12,512],5242880:[256,2,40,256],10485760:[512,2,40,256]},v={gm:0,Mj:1,Nj:2,Oj:3,Pj:4,Qj:5,Rj:6,Sj:7,sh:8,Of:9,Pf:10,Tj:11,Uj:12,Qf:13,Vj:14,Wj:15,Xj:16,Yj:17,Zj:18,$j:19,th:20,ak:21,bk:22,ck:23,dk:24,ek:25,uh:26,hm:27," ":32,"!":33,'"':34,"#":35,$:36,"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,Rd:65,Lj:66,rh:67,gk:68,E:69,kk:70,mk:71,nk:72,pk:73,
rk:74,yk:75,zk:76,Ak:77,Bk:78,Ck:79,Dk:80,Q:81,Ek:82,Fk:83,Gk:84,Hk:85,Ik:86,Jk:87,Kk:88,Lk:89,Tf:90,"[":91,"\\":92,"]":93,"^":94,_:95,"`":96,a:97,b:98,c:99,d:100,e:101,f:102,Kh:103,Mh:104,Nh:105,Ph:106,k:107,Qh:108,Uh:109,n:110,aj:111,p:112,q:113,r:114,tj:115,t:116,zj:117,Cj:118,w:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126,hk:127},Na={Comma:188,Period:190,Semicolon:186,Quote:222,BracketLeft:219,BracketRight:221,Backquote:192,Backslash:220,Minus:189,Equal:187,AltLeft:18,AltRight:18,CapsLock:20,
ControlLeft:17,ControlRight:17,OSLeft:91,OSRight:93,ShiftLeft:16,ShiftRight:16,Enter:13,Space:32,Tab:9,Delete:46,End:35,Home:36,Insert:45,PageDown:34,PageUp:33,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Escape:27,PrintScreen:44,ScrollLock:145,Pause:19,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadAdd:107,NumpadSubtract:109,
NumpadMultiply:106,NumpadDivide:111,NumpadDecimal:110,NumpadEnter:Ma},Ma=2013,Oa={};Oa[173]=v["-"];Oa[186]=v[";"];Oa[187]=v["="];Oa[189]=v["-"];Oa[188]=v[","];Oa[190]=v["."];Oa[191]=v["/"];Oa[192]=v["`"];Oa[219]=v["["];Oa[220]=v["\\"];Oa[221]=v["]"];Oa[222]=v["'"];var Qa={};Qa[v["1"]]=v["!"];Qa[v["2"]]=v["@"];Qa[v["3"]]=v["#"];Qa[v["4"]]=v.$;Qa[v["5"]]=v["%"];Qa[v["6"]]=v["^"];Qa[v["7"]]=v["&"];Qa[v["8"]]=v["*"];Qa[v["9"]]=v["("];Qa[v["0"]]=v[")"];Qa[186]=v[":"];Qa[187]=v["+"];Qa[188]=v["<"];
Qa[189]=v._;Qa[190]=v[">"];Qa[191]=v["?"];Qa[192]=v["~"];Qa[219]=v["{"];Qa[220]=v["|"];Qa[221]=v["}"];Qa[222]=v['"'];Qa[173]=v._;Qa[61]=v["+"];Qa[59]=v[":"];function Ra(){}
function Sa(a,b){if(a){b||(b=10);var c,d=0<a.indexOf(",");d&&(a=a.replace(/,/g,""));var e=c=a.charAt(0);"#"==c?(b=8,c=""):"$"==c&&(b=16,c="");e!=c?a=a.substr(1):(e=c=a.substr(0,2),"0b"==c&&d||"^B"==c?(b=2,c=""):"0o"==c||"^O"==c?(b=8,c=""):"^D"==c?(b=10,c=""):"0x"==c&&(b=16,c=""),e!=c&&(a=a.substr(2)));e=c=a.slice(-1);"Y"==c||"y"==c?(b=2,c=""):"."==c?(b=10,c=""):"H"==c||"h"==c?(b=16,c=""):"K"==c?c="000":"M"==c?c="000000":"G"==c&&(c="000000000");e!=c&&(a=a.slice(0,-1)+c);var f;e=0;10>=b&&(c=a.match(/(-?[0-9]+)B([0-9]*)/))&&
(a=c[1],e=35-((c[2]||35)&255));if((b&&10!=b?16==b?null!==a.match(/^-?[0-9a-f]+$/i):8==b?null!==a.match(/^-?[0-7]+$/):2==b&&null!==a.match(/^-?[01]+$/):null!==a.match(/^-?[0-9]+$/))&&!isNaN(f=parseInt(a,b))){e&&(0>f&&(f+=Math.pow(2,36)),f=0<e?f*Math.pow(2,e):Math.trunc(f/Math.pow(2,-e)));var g=f}}return g}
function Ua(a,b,c,d,e){e=void 0===e?0:e;var f="";isNaN(a)||"number"!=typeof a?a=null:(0>a&&-1<a&&(a=-1),0>a&&(a+=Math.pow(b,c)),a>=Math.pow(b,c)&&(c=Math.ceil(Math.log(a)/Math.log(b))));for(var g=e||-1;0<c--;){g||(f=","+f,g=e);if(null==a)f="?"+f;else{var h=a%b;h+=0<=h&&9>=h?48:55;f=String.fromCharCode(h)+f;a=Math.trunc(a/b)}g--}return(void 0===d?"":d)+f}function Va(a,b,c){b?36<b&&(b=36):(b=Math.abs(a),b=255>=b?8:262143>=b?18:36);return Ua(a,2,b,"",c)}
function Wa(a,b,c){b?12<b&&(b=12):(b=Math.abs(a),b=262143>=b?6:16777215>=b?8:12);return Ua(a,8,b,c?"0o":"")}function w(a,b,c){b?9<b&&(b=9):(b=Math.abs(a),b=65535>=b?4:4294967295>=b?8:9);return Ua(a,16,b,c?"0x":"")}function Xa(a,b){var c=a,d=a.lastIndexOf("/");0<=d&&(c=a.substr(d+1));d=c.indexOf("&");0<d&&(c=c.substr(0,d));b&&(d=c.lastIndexOf("."),0<d&&(c=c.substring(0,d)));return c}function Ya(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase(),"json5"==b&&(b="json"));return b}
function Za(a,b){return-1!==a.indexOf(b,a.length-b.length)}function $a(a){return a.replace(/[&<>"'$]/g,function(b){return ab[b]})}function bb(a,b,c){return c?("                                        "+a).slice(-b):(a+"                                        ").slice(0,b)}function cb(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}var ab={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;"},db=new Da,eb=db.B.bind(db);
function fb(a,b,c){var d=0,e=a.length,f=0;for(void 0===c&&(c=function(k,l){return k>l?1:k<l?-1:0});d<e;){var g=d+e>>1,h=void 0;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d}function gb(a,b){var c=0,d=1,e;for(e in a){if(d>=arguments.length)break;var f=a[e],g=arguments[d++];c=c&~f.tg|g<<f.shift&f.tg}return c}function hb(a,b){return(b&a.tg)>>a.shift}
function ib(a,b){if(Array.prototype.indexOf)return a.indexOf(b,c);var c=c||0;0>c&&(c+=a.length);0>c&&(c=0);for(var d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1}var jb=[31,28,31,30,31,30,31,31,30,31,30,31];
function kb(a,b,c,d,e){function f(){if(4!==n.readyState)return e&&e(1),null;try{h=m?n.response:n.responseText}catch(x){lb(68719476736,"xmlHTTPRequest(%s) exception: %s\n",a,x.message)}if(null==h||200!=n.status&&(n.status||!h.length||"file:"!=(r.location?r.location.protocol:"file:")))if(g=n.status||-1,lb(68719476736,"xmlHTTPRequest(%s) returned error %d\n",a,g),!n.status&&!mb){var u=a.match(/(^https?:\/\/[^/]+)(.*)/);u&&(mb=!0,nb("PCjs was unable to perform a cross-origin resource request to '"+u[1]+
"'.\n\nIf you're running an ad blocker, try adding '"+ob()+"' to your whitelist (or find a smarter ad blocker)."))}e&&e(2);d&&d(a,h,g);return[h,g]}b=void 0===b?"text":b;c=void 0===c?!1:c;var g=0,h=null,k=null,l=r.resources;if("object"==typeof l&&(h=l[a]))return d&&d(a,h,g),[h,g];if(c&&"function"==typeof l)return l(a,function(u,x){d&&d(a,u,x)}),k;a=r.LOCALDISKS&&qb().match(/^(.+\.local|localhost|0\.0\.0\.0|pcjs)$/)?a.replace(/^\/(diskettes|gamedisks|miscdisks|harddisks|decdisks|pcsigdisks|pcsig[0-9a-z]*-disks|private)\//,
"/disks/$1/").replace(/^\/discs\/([^/]*)\//,"/disks/cdroms/$1/"):a.replace(/^\/(disks\/|)(diskettes|gamedisks|miscdisks|harddisks|decdisks|pcsigdisks|pcsig[0-9a-z]*-disks|private)\//,"https://$2.pcjs.org/").replace(/^\/(disks\/cdroms|discs)\/([^/]*)\//,"https://$2.pcjs.org/");if(Aa.zl){try{h=Aa.zl(a)}catch(u){g=u.errno}if(void 0!==h)return d&&d(a,h,g),[h,g]}if(r.XMLHttpRequest)var n=new r.XMLHttpRequest;else if(r.ActiveXObject)n=new r.ActiveXObject("Microsoft.XMLHTTP");else if(r.fetch)return fetch(a).then(function(u){switch(b){case "json":case "text":return u.text();
case "arraybuffer":return u.arrayBuffer();default:throw Error("unsupported response type: "+b);}}).then(function(u){d&&d(a,u,g)}).catch(function(){d&&d(a,h,g)}),k;var m=!1;l="string"===typeof n.responseType;c&&(n.onreadystatechange=f);e&&e(0);if(b&&"object"==typeof b){l="";for(var q in b)b.hasOwnProperty(q)&&(l&&(l+="&"),l+=q+"="+encodeURIComponent(b[q]));l=l.replace(/%20/g,"+");n.open("POST",a,c);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(l)}else n.open("GET",a,
c),"arraybuffer"==b&&(l?(m=!0,n.responseType=b):n.overrideMimeType("text/plain; charset=x-user-defined")),n.send();c||(n.readyState=4,k=f());return k}
function rb(a){a=a.replace("/disks/pc/","/disks/pcx86/");a=a.replace("/disks/pcx86/private/","/disks-private/pcx86/");0>a.indexOf("archive.pcjs.org")&&(a=a.replace("/disks/pcx86/","/disks-demo/pcx86/"));a=a.replace("/pcjs-disks/","/disks-demo/");a=a.replace("/pcjs-games/","/disks-game/");a=a.replace("/disks-demo/pcx86/games/","/disks-game/pcx86/");a=a.replace("/private-disks/","/disks-private/");return a=a.replace("/fixed/","/drives/")}
function qb(){return r.location?r.location.hostname:"localhost"}function ob(){return r.location?r.location.protocol+"//"+r.location.host:"https://www.pcjs.org"}function sb(){return r.navigator?r.navigator.userAgent:""}function tb(){if(null==ub){var a=!1;if(r.localStorage)try{r.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==r.localStorage.getItem("PCjs.localStorage"),r.localStorage.removeItem("PCjs.localStorage")}catch(b){vb(b),a=!1}ub=a}return ub}
function vb(a){lb(1099511627776,"Local storage error: %s\n",a.message)}function wb(a){if(tb())try{var b=r.localStorage.getItem(a)}catch(c){vb(c)}return b}function xb(a,b){if(tb())try{return r.localStorage.setItem(a,b),!0}catch(c){vb(c)}return!1}function yb(a){if(r.navigator){var b=sb();return"iOS"==a&&(!!b.match(/(iPod|iPhone|iPad)/)||"MacIntel"===r.navigator.platform&&1<r.navigator.maxTouchPoints)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}
function zb(a){var b=Ab("mobile");if(b)return"true"==b;if(yb("Mobi")){if(!a)return!0;(b="!"==a[0])&&(a=a.substr(1));return yb(a)!=b}return!1}function Bb(a,b,c){if(a)for(var d=0;d<Cb.length;d++){var e=Cb[d];if(c){if(e+=c,b+e in a)return e}else if(e=e?e+b[0].toUpperCase():b[0],e+=b.substr(1),e in a)return e}return null}
function Ab(a){if(!Db){var b,c={};if(r.location){b||(b=r.location.search.substr(1));for(var d,e=/\+/g,f=/([^&=]+)=?([^&]*)/g;d=f.exec(b);)c[decodeURIComponent(d[1].replace(e," "))]=decodeURIComponent(d[2].replace(e," "))}Db=c}return Db[a]||Db[a.toLowerCase()]}
function Eb(a,b,c,d){var e=null,f;"string"!=typeof a?"function"==typeof Blob&&"undefined"!=typeof URL&&URL&&"function"==typeof URL.createObjectURL&&(f=URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}))):f="data:application/"+b+(c?";base64":"")+","+(c?a:encodeURIComponent(a));if(f)if(d&&(e=document.createElement("a"),"string"!=typeof e.download&&(e=null)),e){e.href=f;e.download=d;document.body.appendChild(e);e.click();document.body.removeChild(e);var g="Check your Downloads folder for "+
d+"."}else r.open&&(r.open(f),g="Check your browser for a new window/tab containing the requested data"+(d?" ("+d+")":"")+".");else g="Operation unsupported by your browser.";return g}function Gb(a,b,c){function d(){--a;0<=a&&(b()||(a=0));0<a?setTimeout(d,0):c()}d()}
function Hb(a,b){function c(){b(100===d)&&(e=setTimeout(c,d),d=100)}var d=0,e=null,f=!1;a.onmousedown=function(){f||e||(d=500,c())};a.ontouchstart=function(){e||(d=500,c())};a.onmouseup=a.onmouseout=function(){e&&(clearTimeout(e),e=null)};a.ontouchend=a.ontouchcancel=function(){e&&(clearTimeout(e),e=null);f=!0}}function Ib(a,b){var c=r[a];r[a]="function"!==typeof c?b:function(){c&&c();b()}}function Jb(a){Kb.init.push(a)}
function Lb(a){lb(274877906944,"%s\n\nIf it happens again, please send the URL to support@pcjs.org. Thanks.\n",a)}function Mb(a){if((a=Kb[a])&&Ob)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){Lb("An unexpected error occurred: "+c.message)}}function Pb(a){!Ob&&a?(Ob=!0,Qb&&Mb("init"),Rb&&Mb("show")):Ob=a}var Db=null,Kb={init:[],show:[],exit:[]},Cb=["","moz","ms","webkit"],Qb=!1,Rb=!1,Ob=!0,mb=!1,ub=null;Ib("onload",function(){Qb=!0;Mb("init",!0)});Ib("onpageshow",function(){Rb=!0;Mb("show",!0)});
Ib(yb("iOS")?"onpagehide":yb("Opera")?"onunload":"onbeforeunload",function(){Mb("exit",!0)});
function Sb(a,b,c){this.type=a;b||(b={id:"",name:""});this.name=b.name;this.Ij=b.comment;this.hh=b;this.id=this.id=b.id||"";this.exports={};this.ca=this.bindings={};a=this.id.indexOf(".");0>a?(this.Ac="PCjs",this.ad=this.id):(this.Ac=this.id.substr(0,a),this.ad=this.id.substr(a+1));this.flags={ready:!1,ye:!1,Zf:!1,De:!1,Nb:!1,Qd:!1,error:!1};this.uf=null;this.flags.error=!1;this.Tb=c||0;this.ga=this.J=this.sa=this.ya=null;Ca.components.push(this)}
function Tb(a,b,c){Ca.machines[a]&&b&&(Ca.machines[a][b]=c,"parms"==b&&"string"==typeof c&&(Ca.machines[a].config=eval("("+c+")")))}function Vb(){return Date.now()||+new Date}function lb(a){var b=ta.apply(1,arguments);if(68719476736<=a&&1099511627776>=a){var c=!1;if("number"==typeof a){var d=a;a=b.shift();1099511627776==d?(c=!0,a="Error: "+a):549755813888==d?(c=!0,a="Warning: "+a):274877906944==d&&(c=!0)}b=eb.apply(Ra,[a].concat(da(b))).trim();c?nb(b):console.log(b)}}
function Wb(a){lb(1099511627776,a)}function nb(a){r.alert&&r.alert(a);console.log(a)}function Xb(a){var b=!1;r.confirm&&(b=r.confirm(a));return b}function Yb(a,b){a.value+=b;b=a.value;8192<b.length&&(a.value=b.substr(b.length-4096));a.scrollTop=a.scrollHeight}function Zb(a,b,c){var d=a.value,e=d.lastIndexOf(b);d=0>e?d+(b+"\n"):d.substr(0,e)+c+d.substr(e+b.length);8192<d.length&&(d=d.substr(d.length-4096));a.value=d;a.scrollTop=a.scrollHeight}
function $b(a,b){if(b){var c=ac("Panel",a.id);c&&(c=c.ca[b])&&a.ub("",b,c)}}
function bc(a,b){b=cc("pcx86-control","",b.parentNode);for(var c=0;c<b.length;c++)for(var d=b[c].childNodes,e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){var g=f.getAttribute("class");if(g)for(var h=g.split(" "),k=0;k<h.length;k++)switch(g=h[k],g){case "pcx86-binding":(g=dc(f))&&void 0!==g.binding?a.ub(g.type,g.binding,f,g.value):g&&"description"==g.type||lb(549755813888,'Component "%s" missing binding%s\n',a.toString(),g?" for "+g.type:""),k=h.length}}}}
function ec(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");var d=Ca.components;for(b=0;b<d.length;b++){var e=d[b];a&&e.id.indexOf(a)||c.push(e)}return c}function fc(a,b){b=void 0===b?null:b;if(void 0!==a){var c;b&&0<(c=b.indexOf("."))&&(a=b.substr(0,c+1)+a);var d=Ca.components;for(c=0;c<d.length;c++)if(d[c].id===a)return d[c];d.length&&!1!==b&&lb(549755813888,'Component ID "%s" not found\n',a)}return null}
function ac(a,b){var c=void 0===c?null:c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");var e=Ca.components;for(d=0;d<e.length;d++)if(c)c==e[d]&&(c=null);else if(!(a!=e[d].type||b&&e[d].id.indexOf(b)))return e[d]}return null}function dc(a){var b=null;if(a.getAttribute){if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(d){Wb(d.message+" ("+a+")")}}else if(b=a.config||null){a=a.id;var c=b.id;a&&c&&0>c.indexOf(".")&&(b.id=a+"."+c)}return b}
function cc(a,b,c){b=void 0===b?"":b;c=void 0===c?Ba:c;var d=[];b&&(a+="-"+b,"machine"!=b&&(a+="-object"));if(c.getElementsByClassName)d=c.getElementsByClassName(a);else if(c.getElementsByTagName){b=c.getElementsByTagName("*");var e=new RegExp("(^| )"+a+"( |$)");a=0;for(c=b.length;a<c;a++)e.test(b[a].className)&&d.push(b[a])}else for(a=Object.keys(Ca.machines),c=0;c<a.length;c++){e=a[c];var f=Ca.machines[e].config;if(f&&(f=f[b])){Array.isArray(f)||(f=[f]);f=ca(f);for(var g=f.next();!g.done;g=f.next())d.push({id:e,
config:g.value})}}return d}function gc(a,b){var c=!1,d=Ca.commands;a+=".machine";if(!b)delete d[a],c=!0;else if("string"==typeof b&&!d[a]){c=!0;for(var e=a,f=b.length,g=[],h=[],k="",l=null,n=0;n<f;n++){var m=b[n];if('"'==m||"'"==m)l&&m!=l?k+=m:(l?l=null:l=m,k&&(h.push(k),k=""));else{if(!l){if("\r"==m||"\n"==m)m=";";if(" "==m||"\t"==m||";"==m){k&&(h.push(k),k="");";"==m&&h.length&&(g.push(h),h=[]);continue}}k+=m}}k&&h.push(k);h.length&&g.push(h);d[e]=g;hc(a)||(c=!1)}return c}
function hc(a){for(var b=!0,c=Ca.commands[a];c&&c.length;){var d=c.splice(0,1)[0],e=d[0];lb(8796093022208,d.join(" "));var f=null;0<=ic.indexOf(e)&&(f=function(){return function(){hc(a)}}());var g=jc[e];if(g)if(!f)b=g(d[1],d[2],d[3]);else{if(!g(f,d[1],d[2],d[3]))break}else{b=!1;var h=ac(d[1],a);if(h)if(g=kc[e])b=g(h,d[2],d[3]);else{var k=h.exports;if(k&&(g=k[e]))if(b=!0,!f)b=g.call(h,d[2],d[3]);else if(!g.call(h,f,d[2],d[3]))break}}if(!b){nb("Script error: '"+e+"' command "+(g?" failed":" not recognized"));
break}}c&&!c.length&&delete c[a];return b}p=Sb.prototype;p.toString=function(){return this.name?this.name:this.id||this.type};
p.ub=function(a,b,c){switch(b){case "clear":return this.ca[b]||(this.ca[b]=c,c.onclick=function(d){return function(){d.ca.print&&(d.ca.print.value="")}}(this)),!0;case "print":return this.ca[b]||(this.ca[b]=c,c.value="",this.print=function(d,e){return function(f,g){f||(f="");4398046511104==(void 0===g?0:g)&&"...\n"==f.slice(-4)?Zb(e,f.slice(0,-1),f.slice(0,-1)+"."):Yb(e,f)}}(this,c)),!0;default:return!1}};p.print=function(a,b){lb(void 0===b?0:b,a)};
function lc(a,b){a.flags.error=!0;a.N(274877906944,"%s\n",b)}function mc(a){return a.flags.error?(a.print(a.toString()+" error\n"),!0):!1}function nc(a,b){b&&(a.flags.ready?b():a.uf=b);return a.flags.ready}function oc(a,b){a.flags.error||(a.flags.ready=!1!==b,a.flags.ready&&(b=a.uf,a.uf=null,b&&b()))}function pc(a,b){a.flags.ye&&(b?a.flags.Zf=!0:void 0===b&&a.print(a.toString()+" busy\n"));return a.flags.ye}
function rc(a,b){if(a.flags.Zf)return a.flags.ye=!1,a.flags.Zf=!1;if(a.flags.error)return a.print(a.toString()+" error\n"),!1;a.flags.ye=b;return a.flags.ye}p.Mb=function(){return this.flags.Nb=!0};p.Lb=function(a,b){b&&(this.flags.Nb=!1);return!0};function sc(a,b){var c=Math.pow(2,32);return(a&~b)+((a/c|0)&~(b/c|0))*c}function tc(a,b){var c=Math.pow(2,32);return(a|b)+(a/c|0|b/c|0)*c}function uc(a,b){var c=Math.pow(2,32),d=b/c|0;return(a&b)==(b|0)&&((a/c|0)&d)==d}
function vc(a,b){b=void 0===b?0:b;b&1&&--b;b=b||a.Tb;return!uc(b,2199023255552)&&(uc(0xff000000000,b)||a.ga&&uc(a.ga.Tb,b))?!0:!1}p.N=function(a){var b=ta.apply(1,arguments),c=0;"number"==typeof a&&(c=a||4398046511104,a=b.shift(),68719476736==c?a=(this.id||this.type||"log")+": "+a:137438953472==c&&(a=this.type+": "+a));vc(this,c)&&(b=eb.apply(Ra,[a].concat(da(b))),this.ga&&this.ga.message?this.ga.message(b,c):this.print(b,c))};
var ic=["hold","sleep","wait"],jc={alert:function(a){nb(a);return!0},sleep:function(a,b){setTimeout(a,+b);return!1}},kc={select:function(a,b,c){var d=!1;if(a=a.bindings[b])for(b=0;b<a.options.length;b++)if(a.options[b].textContent==c){a.selectedIndex!=b&&(a.selectedIndex=b);d=!0;break}return d}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;b<c;b++)if(this[b]===a)return b;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind: non-callable object");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});t.cpu=2;t.seg=4;t.desc=8;t.port=32;t.tss=16;t.iopm=64;t["int"]=1024;t.nmi=128;t.fault=512;t.trap=256;t.bus=4096;
t.irq=2048;t.mem=8192;t.dma=16384;t.fdc=32768;t.hdc=65536;t.disk=131072;t.pic=262144;t.timer=524288;t.cmos=1048576;t.rtc=2097152;t["8042"]=4194304;t.kbd=8388608;t.parallel=16777216;t.serial=33554432;t.mouse=67108864;t.speaker=134217728;t.chipset=268435456;t.video=536870912;t.computer=1073741824;t.dos=4294967296;t.data=2147483648;t.event=8589934592;t.key=17179869184;
var wc={Gf:4,$b:5,$c:6,Cc:7,Dc:8,Pa:9,Ib:11,Jb:12,Nd:4,Zh:60,$h:83,Xb:3,yb:9,kc:16,Ff:1,di:19,fi:28,hi:16,gi:21,ei:37,bi:2,Bg:9,ci:5,ai:33,Dg:10,Cg:8,Je:3,Ie:15,wi:51,Eg:1,xi:2,yi:4,vi:32,Fg:15,Ai:15,La:16,Ma:4,Ci:11,Bi:18,zi:24,Kb:4,Di:2,he:16,Ei:17,Kg:18,Fi:19,Jg:5,Lg:6,Ki:2,Ji:8,Hi:9,Ii:10,Gi:10,Mg:10,Ng:10,ji:80,li:124,ii:86,ki:134,ni:101,pi:145,mi:107,oi:151,Mi:70,Oi:93,Li:76,Ni:104,si:80,ui:108,ri:86,ti:114,Le:3,Ke:16,Sg:10,Rg:8,Pi:51,Yb:8,Qi:17,Ri:36,oc:11,Si:16,Od:10,Kc:2,yg:18,zg:7,Ag:15,
Gg:12,Hg:7,Ig:11,Og:18,Pg:7,Qg:15,Tg:15,Ug:7,Vg:13,Zg:11,$g:7,ah:8,Ti:8,Wi:12,Ui:18,Vi:17,Xi:15,Xg:8,Wg:20,Yg:2,eh:3,Me:9,dh:5,bh:11,gh:4,fh:17,Yi:11},xc={Gf:0,$b:0,$c:0,Cc:0,Dc:0,Pa:0,Ib:1,Jb:1,Nd:3,Zh:14,$h:16,Xb:2,yb:7,kc:7,Ff:0,di:7,fi:13,hi:7,gi:11,ei:16,bi:3,Bg:6,ci:2,ai:13,Dg:5,Cg:5,Je:2,Ie:7,wi:23,Eg:0,xi:1,yi:3,vi:17,Fg:7,Ai:11,La:7,Ma:3,Ci:7,Bi:11,zi:15,Kb:2,Di:3,he:7,Ei:8,Kg:8,Fi:8,Jg:4,Lg:4,Ki:2,Ji:3,Hi:5,Ii:2,Gi:3,Mg:5,Ng:3,ji:14,li:22,ii:17,ki:25,ni:17,pi:25,mi:20,oi:28,Mi:13,Oi:21,
Li:16,Ni:24,si:13,ui:21,ri:16,ti:24,Le:2,Ke:7,Sg:5,Rg:5,Pi:19,Yb:5,Qi:5,Ri:17,oc:3,Si:5,Od:3,Kc:0,yg:8,zg:5,Ag:9,Gg:5,Hg:5,Ig:4,Og:5,Pg:5,Qg:4,Tg:7,Ug:5,Vg:8,Zg:3,$g:4,ah:3,Ti:11,Wi:11,Ui:15,Vi:15,Xi:7,Xg:5,Wg:8,Yg:0,eh:2,Me:6,dh:3,bh:6,gh:3,fh:5,Yi:5},yc="\x00\u263a\u263b\u2665\u2666\u2663\u2660\u2022\u25d8\u25cb\u25d9\u2642\u2640\u266a\u266b\u263c\u25ba\u25c4\u2195\u203c\u00b6\u00a7\u25ac\u21a8\u2191\u2193\u2192\u2190\u221f\u2194\u25b2\u25bc !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\u00c7\u00fc\u00e9\u00e2\u00e4\u00e0\u00e5\u00e7\u00ea\u00eb\u00e8\u00ef\u00ee\u00ec\u00c4\u00c5\u00c9\u00e6\u00c6\u00f4\u00f6\u00f2\u00fb\u00f9\u00ff\u00d6\u00dc\u00a2\u00a3\u00a5\u20a7\u0192\u00e1\u00ed\u00f3\u00fa\u00f1\u00d1\u00aa\u00ba\u00bf\u2310\u00ac\u00bd\u00bc\u00a1\u00ab\u00bb\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255d\u255c\u255b\u2510\u2514\u2534\u252c\u251c\u2500\u253c\u255e\u255f\u255a\u2554\u2569\u2566\u2560\u2550\u256c\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256b\u256a\u2518\u250c\u2588\u2584\u258c\u2590\u2580\u03b1\u00df\u0393\u03c0\u03a3\u03c3\u00b5\u03c4\u03a6\u0398\u03a9\u03b4\u221e\u03c6\u03b5\u2229\u2261\u00b1\u2265\u2264\u2320\u2321\u00f7\u2248\u00b0\u2219\u00b7\u221a\u207f\u00b2\u25a0\u00a0".split(""),
zc={16:{0:"set mode (@AL)",1:"set cursor type (start=@CH,end=@CL)",2:"set cursor pos (row=@DH,col=@DL,page=@BH)",3:"read cursor pos (page=@BH)",4:"read light pen",5:"set display page (@AL)",6:"scroll up (lines=@AL)",7:"scroll down (lines=@AL)",8:"read character (page=@BH)",9:"write char/attr (@AL,attr=@BL,count=@CX)",10:"write char (@AL,count=@CX)",11:"set palette (id=@BH,color=@BL)",12:"write dot (row=@DX,col=@CX)",13:"read dot (row=@DX,col=@CX)",14:"write tty (@AL)"},19:{0:"disk reset",1:"get status",
2:"read drive @DL (@CH:@DH:@CL,@AL) into @ES:@BX",3:"write drive @DL (@CH:@DH:@CL,@AL) from @ES:@BX",4:"verify drive @DL (@CH:@DH:@CL,@AL)",5:"format drive @DL using @ES:@BX",8:"read drive @DL parameters",21:"get drive @DL DASD type",22:"get drive @DL change line status",23:"set drive @DL DASD type",24:"set drive @DL media type"},21:{128:"open device",129:"close device",130:"program termination",131:"wait @CX:@DXus for event",132:"joystick support",133:"SYSREQ pressed",134:"wait @CX:@DXus",135:"move block (@CX words)",
136:"get extended memory size",137:"processor to virtual mode",144:"device busy loop",145:"interrupt complete flag set"},33:{0:"terminate program",1:"read character (AL) from stdin with echo",2:"write character #@DL to stdout",3:"read character (AL) from stdaux",4:"write character #@DL to stdaux",5:"write character #@DL to stdprn",6:"direct console output (input if @DL=FF)",7:"direct console input without echo",8:"read character (AL) from stdin without echo",9:"write string $@DS:@DX to stdout",10:"buffered input (DS:DX)",
11:"get stdin status",12:"flush buffer and read stdin",13:"disk reset",14:"select default drive @DL",15:"open file using FCB ^@DS:@DX",16:"close file using FCB ^@DS:@DX",17:"find first matching file using FCB ^@DS:@DX",18:"find next matching file using FCB ^@DS:@DX",19:"delete file using FCB ^@DS:@DX",20:"sequential read from file using FCB ^@DS:@DX",21:"sequential write to file using FCB ^@DS:@DX",22:"create or truncate file using FCB ^@DS:@DX",23:"rename file using FCB ^@DS:@DX",25:"get current default drive (AL)",
26:"set disk transfer area (DTA=@DS:@DX)",27:"get allocation information for default drive",28:"get allocation information for specific drive @DL",31:"get drive parameter block for default drive",33:"read random record from file using FCB ^@DS:@DX",34:"write random record to file using FCB ^@DS:@DX",35:"get file size using FCB ^@DS:@DX",36:"set random record number for FCB ^@DS:@DX",37:"set address @DS:@DX of interrupt vector @AL",38:"create new PSP at segment @DX",39:"random block read from file using FCB ^@DS:@DX",
40:"random block write to file using FCB ^@DS:@DX",41:"parse filename $@DS:@SI into FCB @ES:@DI using @AL",42:"get system date (year=CX, mon=DH, day=DL)",43:"set system date (year=@CX, mon=@DH, day=@DL)",44:"get system time (hour=CH, min=CL, sec=DH, 100ths=DL)",45:"set system time (hour=@CH, min=@CL, sec=@DH, 100ths=@DL)",46:"set verify flag @AL",47:"get disk transfer area (DTA=ES:BX)",48:"get DOS version (AL=major, AH=minor)",49:"terminate and stay resident",50:"get drive parameter block (DPB=DS:BX) for drive @DL",
51:"extended break check",52:"get address (ES:BX) of InDOS flag",53:"get address (ES:BX) of interrupt vector @AL",54:"get free disk space of drive @DL",55:"get(0)/set(1) switch character @DL (@AL)",56:"get country-specific information",57:"create subdirectory $@DS:@DX",58:"remove subdirectory $@DS:@DX",59:"set current directory $@DS:@DX",60:"create or truncate file $@DS:@DX with attributes @CX",61:"open file $@DS:@DX with mode @AL",62:"close file @BX",63:"read @CX bytes from file @BX into buffer @DS:@DX",
64:"write @CX bytes to file @BX from buffer @DS:@DX",65:"delete file $@DS:@DX",66:"set position @CX:@DX of file @BX relative to @AL",67:"get(0)/set(1) attributes @CX of file $@DS:@DX (@AL)",68:"get device information (IOCTL)",69:"duplicate file handle @BX",70:"force file handle @CX to duplicate file handle @BX",71:"get current directory (DS:SI) for drive @DL",72:"allocate memory segment with @BX paragraphs",73:"free memory segment @ES",74:"resize memory segment @ES to @BX paragraphs",75:"load program $@DS:@DX using parameter block @ES:@BX",
76:"terminate with return code @AL",77:"get return code (AL)",78:"find first matching file $@DS:@DX with attributes @CX",79:"find next matching file",80:"set current PSP @BX",81:"get current PSP (bx)",82:"get system variables (ES:BX)",83:"translate BPB @DS:@SI to DPB (ES:BP)",84:"get verify flag (AL)",85:"create child PSP at segment @DX",86:"rename file $@DS:@DX to $@ES:@DI",87:"get(0)/set(1) file @BX date @DX and time @CX (@AL)",88:"get(0)/set(1) memory allocation strategy (@AL)",89:"get extended error information",
90:"create temporary file $@DS:@DX with attributes @CX",91:"create file $@DS:@DX with attributes @CX",92:"lock(0)/unlock(1) file @BX region @CX:@DX length @SI:@DI (@AL)",93:"critical error information (@AL)",96:"get fully-qualified filename from $@DS:@SI",99:"get lead byte table (@AL)",108:"extended open file $@DS:@SI"},65:{79:"check debugger loaded"}};
function Ac(){this.A=[void 0,void 0,void 0,void 0];this.B=null;this.A[0]=256*Math.random()|0;this.A[1]=256*Math.random()|0;this.A[2]=256*Math.random()|0;this.A[3]=255;this.B=null}Ac.prototype.toString=function(){this.B||(this.B="#"+w(this.A[0],2)+w(this.A[1],2)+w(this.A[2],2));return this.B};function Ec(a,b,c,d){this.x=a;this.y=b;this.cx=c;this.A=d}Ec.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.cx&&b>=this.y&&b<this.y+this.A};
function Fc(a,b){this.active=!1;this.B=a;this.A=null;this.color=a.style.backgroundColor;this.setColor(b);Gc(this)}function Gc(a){a.A!=a.color?(a.A=a.color,a.B.style.backgroundColor=a.color||Hc):a.active||(a.color=null)}Fc.prototype.setColor=function(a){a?(this.color=a,this.active=!0):this.active=!1};function Ic(a){Sb.call(this,"Panel",a);this.P={};this.la=0;this.canvas=null;this.Pd=this.G=this.H=this.M=-1;this.A=null;this.ha=!1}sa(Ic,Sb);p=Ic.prototype;
p.ub=function(a,b,c,d){if(this.ya&&this.ya.ub(a,b,c,d)||this.J&&this.J.ub(a,b,c,d)||this.Ea&&this.Ea.ub(a,b,c,d)||this.ga&&this.ga.ub(a,b,c,d))return!0;if("led"==a.substr(-3,3))return this.P[b]=new Fc(c,d),this.la++,Jc(this),!0;if(!this.canvas&&"canvas"==a){this.ha=!0;this.canvas=c;this.context=this.canvas.getContext("2d");0<=sb().indexOf("MSIE")&&(this.canvas.onresize=function(f,g,h){return function(){f.style.height=(f.clientWidth*h/g|0)+"px"}}(this.canvas,this.canvas.width,this.canvas.height),this.canvas.onresize(null));
this.Ka=this.Qa=0;this.Y=this.canvas.width*Kc/Lc|0;this.Aa=this.canvas.height;this.ta=this.Y;this.Za=0;this.aa=this.canvas.width-this.Y;this.Ba=this.canvas.height;this.Ga=this.ta;this.Na=this.canvas.height*(Mc-Nc)/Oc|0;this.xa=this.aa;this.za=this.canvas.height*Nc/Oc|0;this.D=document.createElement("canvas");this.D.width=Kc;this.D.height=Pc;this.T=this.D.getContext("2d");this.T.createImageData(this.D.width,this.D.height);this.B=document.createElement("canvas");this.B.width=Qc;this.B.height=Mc;this.I=
this.B.getContext("2d");var e=this;this.canvas.addEventListener("mousemove",function(f){e.Fe(f)},!1);this.canvas.addEventListener("mousedown",function(f){e.be(f,!0)},!1);this.canvas.addEventListener("mouseup",function(f){e.be(f,!1)},!1);this.ba=!0;Jc(this);return!0}return Sb.prototype.ub.call(this,a,b,c,d)};p.Mf=function(a,b){(a=this.P[a])&&a.setColor(b)};function Jc(a){0>a.Pd&&(a.la||a.canvas)&&a.J&&(a.Pd=Rc(a.J,a.id,function(){Sc(a)},1E3/Tc))}p.Mb=function(a,b){b||Uc();return!0};p.Lb=function(){return!0};
p.be=function(a,b){a.button||(this.M=b?0:-1,Vc(this,a,b))};p.Fe=function(a){Vc(this,a)};
function Vc(a,b,c){var d=Lc/a.canvas.offsetWidth,e=Oc/a.canvas.offsetHeight,f=a.canvas.getBoundingClientRect();d=(b.clientX-f.left)*d|0;b=(b.clientY-f.top)*e|0;null==c&&(a.M||(a.M=Math.abs(a.G-d)>Math.abs(a.H-b)?1:2),1==a.M?b=a.H:2==a.M&&(d=a.G));a.G=d;a.H=b;if(0<=d&&d<Lc&&0<=b&&b<Oc){a:{c=d;if(c<Kc&&a.A&&a.A.Wd)for(f=0;f<a.A.Wd.length;f++)if(e=a.A.Wd[f],e.contains(c,b)){c-=e.x;b-=e.y;d=a.A.ue[f];var g=hb(Wc.$i,a.A.Uf[d.nl]);f=g*a.sa.A;d=(g+d.kd)*a.sa.A-1;0<b&&(f+=e.cx*(b-1)*a.na);f+=c*a.na;f|=0;
f>d&&(f=d);c=f;break a}c=-1}-1!==c&&(c&=-16,c!=a.Z&&(Xc(a,c,!0),a.Z=c))}}
function Sc(a){for(var b in a.P)Gc(a.P[b]);if(a.ba){dd(a,ed,a.D,a.T,a.canvas.style.color);if(a.ha){b=a.sa;var c=a.A,d,e;null==d&&(d=0);null==e&&(e=b.M-d|0);null==c&&(c={ag:0,kd:0,Uf:[]});var f=d>>>12;d=d+e-1>>>12;c.ag=0;for(c.kd=0;f<=d;)e=b.V[f],c.ag+=e.size,e.size&&(c.Uf.push(gb(Wc,f,0,0,e.type)),c.kd++),f++;a.A=c;a.na=a.A.kd*a.sa.A/(Kc*Pc);b=0;a.A.Ah=0;a.A.ue||(a.A.ue=[]);c=-1;d=f=0;for(var g=-1;f<a.A.kd;f++){var h=a.A.Uf[f];e=hb(Wc.type,h);h=hb(Wc.$i,h);if(e!=c||h!=g+1)(g=f-d)&&(b+=fd(a,d,g,c)),
c=e,d=f;g=h}b+=fd(a,d,f-d,c);c=a.A.bl!=b;a.A.bl=b;if(c){c=new Ec(0,0,a.D.width,a.D.height);a.A.Wd=[];f=a.A.kd;for(b=0;b<a.A.Ah;b++){d=a.A.ue[b].kd;e=a.A.Wd;g=e.push;h=c;var k=d;var l=f,n=!b;void 0===n&&(n=k>=l>>2);n?(k=new Ec(h.x,h.y,h.cx,h.A*k/l|0),h.y+=k.A,h.A-=k.A):(k=new Ec(h.x,h.y,h.cx*k/l|0,h.A),h.x+=k.cx,h.cx-=k.cx);g.call(e,k);f-=d}for(b=0;b<a.A.Wd.length;b++)c=a.A.ue[b],d=f=a.A.Wd[b],e=a.T,(g=gd[c.type])||(g=new Ac),e.strokeStyle="black",e.strokeRect(d.x,d.y,d.cx,d.A),e.fillStyle="string"==
typeof g?g:g.toString(),e.fillRect(d.x,d.y,d.cx,d.A),d=a,g=f,d.O=d.ia,d.L=d.ka,f=g.x+(g.cx>>1),e=g.y+(g.A>>1),h=g.A,g.cx<g.A&&(h=g.cx,d.fa=!0,d.F.save(),d.F.translate(f,e),d.F.rotate(-Math.PI/2),f=e=0),h<d.L&&(d.L=h,d.O=d.L+"px "+hd),d.C=f,d.K=e,f=a,c=id[c.type]+" ("+(c.kd*a.sa.A/1024|0)+"Kb)",f.F.font=f.O,f.C-=f.F.measureText(c).width>>1,f.K+=(f.L>>1)-2,jd(f,c),f.fa&&(f.F.restore(),f.fa=!1)}}else jd(a,"This space intentionally left blank");a.context.drawImage(a.D,0,0,a.D.width,a.D.height,a.Ka,a.Qa,
a.Y,a.Aa);a.ba=!1}}function fd(a,b,c,d){a.A.ue[a.A.Ah++]={nl:b,kd:c,type:d};return gb(Wc,b,c,0,d)}
function Xc(a,b,c){if(a.context&&a.B&&a.I){var d=Mc-Nc,e=a.B.width;a.I.fillStyle=kd;a.I.fillRect(0,d,e,Nc);dd(a,d+ed,a.B,a.I,a.canvas.style.color);ld(a,24);if(null==b)jd(a,"Mouse over memory to dump");else{jd(a,w(b,8,!0),null,0,1);for(var f=1;16>=f;f++){for(var g="",h=1;8>=h;h++){var k=a.sa;var l=b++;k=k.V[(l&k.B)>>>12].Cd(l&k.C,l);jd(a,w(k,2),null,1);g+=32<=k&&128>k?String.fromCharCode(k):"."}jd(a,g,null,0,1)}}c&&a.context.drawImage(a.B,0,d,e,Nc,a.Ga,a.Na,a.xa,a.za)}}
function dd(a,b,c,d,e){var f,g=a.Ia=10;a.C=g;a.K=b;a.L=a.ka=ed;f||(f=a.ia||a.ka+"px "+hd);a.O=a.ia=f;c&&(a.va=c);d&&(a.F=d,a.wa=e||"white")}function ld(a,b){a.V=a.va.width/b|0}function md(a,b){a.C=a.Ia;a.K+=(a.L+2)*(b||1)}function jd(a,b,c,d,e){a.F.font=a.O;a.F.fillStyle=a.wa;a.F.fillText(b,a.C,a.K);a.C+=a.V;null!=c&&(16!=a.Fa?b=c.toString():(b=8>a.ma?"0x":"",b+=w(c,a.ma)),a.F.fillText(b,a.C,a.K),a.C+=a.V);d&&(a.C+=a.V*d);e&&md(a,e)}
function Uc(){for(var a=!1,b=cc("pcx86","panel"),c=0;c<b.length;c++){var d=b[c],e=dc(d),f=fc(e.id,!1);f||(a=!0,f=new Ic(e));bc(f,d);a&&oc(f)}if(!a){a=Object.keys(Ca.machines);for(var g in a)if(b=a[+g]+".panel",c=ac("Panel",b),!c){c=new Ic({id:b});oc(c);break}}}var Hc="#000000",Lc=1280,Oc=720,ed=18,hd="Monaco, Lucida Console, Courier New",Kc=3*Lc>>2,Pc=Oc,Qc=Lc-Kc,Mc=Oc,kd="black",Nc=Oc>>1,Tc=10;Jb(Uc);function nd(){}nd.prototype.vf=function(){return[]};nd.prototype.jg=function(){return[]};
function pd(a,b,c){Sb.call(this,"BusX86",a);this.J=b;this.ga=c;this.L=+a.busWidth||20;this.M=Math.pow(2,this.L);this.P=this.B=this.M-1|0;this.A=4096;this.O=this.A>>2;this.C=this.A-1;this.K=this.M/this.A|0;this.T=this.K-1;this.F=[];this.G=[];this.H=this.I=!1;this.Y=[];this.Z=[];a=new A;qd(a,this.ga);this.V=Array(this.K);for(b=0;b<this.K;b++)this.V[b]=a;a=this.J;b=this.V;a.pc=a.V=b;a.mb=12;a.Zi=1<<a.mb;a.lb=a.Zi-1;a.Ye=b.length;a.Fd=a.Ye-1;a=this.J;a.Gd=a.ic=this.B;oc(this)}sa(pd,Sb);p=pd.prototype;
p.reset=function(){rd(this,!0)};p.Mb=function(a,b){b||this.reset();return!0};
function xd(a,b,c,d,e){for(var f=b,g=c,h=f>>>12;0<g&&h<a.V.length;){var k=a.V[h],l=h*a.A,n=a.A-(f-l);n>g&&(n=g);if(k&&k.size){if(k.type==d&&k.controller==e){if(f+g<=k.qa)return k.le+=k.qa-f,k.qa=f,!0;if(f>=k.qa+k.le){n=k.size-(f-l);n>g&&(n=g);k.le=f-k.qa+n;f=l+a.A;g-=n;h++;continue}}return yd(a,zd,f,g)}f=new A(f,n,a.A,d,e);qd(f,a.ga,k);a.V[h++]=f;f=l+a.A;g-=n}return 0>=g?(Ad(a.J),a.J.flags.Oa||(e=c/1024|0,a.N(137438953472,"%s %s at 0x%X\n",e?e+"Kb":c+" bytes",id[d],b)),!0):yd(a,Bd,b,c)}
function Cd(a,b,c,d){var e=!0,f=b>>>12;for(b=a.A-(b&a.C);0<c&&f<a.V.length;){var g=a.V[f];g.flags&Dd?(d&&(g.flags=g.flags&~Dd|Ed),g=!1):g=!0;g||(e=!1);c-=b;b=a.A;f++}return e}function rd(a,b){32==a.L?b?a.D&&(Fd(a,1048576,1048576,a.D),a.D=null):a.D||(a.D=Gd(a,1048576,1048576),Fd(a,1048576,1048576,Gd(a,0,1048576))):20<a.L&&(b=a.B&-1048577|(b?1048576:0),b!=a.B&&(a.B=b,a.J&&(a=a.J,a.Gd=a.ic=b)))}
p.Te=function(a,b,c,d){if(a&this.C||!b||b&this.C)yd(this,Hd,a,b);else for(var e=a>>>12;0<b;){var f=this.V[e];if(!f.controller){yd(this,Id,a,b,d);break}Jd(f,c,!0);b-=this.A;e++}};function Kd(a,b,c){if(!(b&a.C||!c||c&a.C)){for(var d=b>>>12;0<c;){var e=a.V[d];b=new A(b);qd(b,a.ga,e);a.V[d++]=b;b=d*a.A;c-=a.A}Ad(a.J);return!0}return yd(a,Ld,b,c)}function Gd(a,b,c){var d=[];for(b>>>=12;0<c&&b<a.V.length;)d.push(a.V[b++]),c-=a.A;return d}
function Fd(a,b,c,d,e){for(var f=0,g=b>>>12;0<c&&g<a.V.length;){var h=d[f++];if(!h)break;if(void 0!==e){var k=new A(b),l=k,n=e,m=a.ga;l.id=h.id|1;l.le=h.le;l.size=h.size;n&&(l.type=n,l.F=n==Md);l.buffer=h.buffer;l.H=h.H;l.Ja=h.Ja;l.Ad=h.Ad;l.X=h.X;Jd(l,Nd?Od:Pd);qd(l,m,h);h=k}a.V[g++]=h;c-=a.A}}p.ra=function(a){return this.V[(a&this.B)>>>12].lc(a&this.C,a)};p.kb=function(a,b){this.V[(a&this.B)>>>12].mc(a&this.C,b&255,a)};
function Qd(a,b,c){var d=b&a.C,e=(b&a.B)>>>12;d!=a.C?a.V[e].oh(d,c&65535,b):(a.V[e++].me(d,c&255,b),a.V[e&a.T].me(0,c>>8&255,b+1))}function Rd(a,b,c,d){for(var e=0,f=0;0<c;){var g=a.F[b],h=a.Y[b]||1,k=1==h?255:2==h?65535:-1,l=k;void 0!==g?(g[0]&&(l=g[0](b,d),null==l?l=k:l&=k),a.ga&&a.H!=g[1]&&Sd(a.ga,b,l)):a.ga&&(Td(a.ga,a,b,void 0,d),a.H&&Sd(a.ga,b,l));e|=l<<f;f+=h<<3;b+=h;c-=h}return e}
function Ud(a,b,c,d,e){for(var f=0;0<c;){var g=a.G[b],h=a.Z[b]||1,k=1==h?255:2==h?65535:-1,l=(d>>>=f)&k;if(void 0!==g){if(g[0])g[0](b,l,e);a.ga&&a.I!=g[1]&&Vd(a.ga,b,l)}else a.ga&&(Td(a.ga,a,b,l,e),a.I&&Vd(a.ga,b,l));f+=h<<3;b+=h;c-=h}}function yd(a,b,c,d,e){a.N(e?2199023255552:0,"Memory block error (%d: %x,%x)\n",b,c,d);return!1}var Wc,Wd={$i:20,count:8,nm:1,type:3},Xd=0,Yd;for(Yd in Wd){var de=Wd[Yd];Wd[Yd]={tg:(1<<de)-1<<Xd,shift:Xd};Xd+=de}Wc=Wd;var zd=1,Bd=2,Id=3,Hd=4,Ld=5,Nd,ee=new ArrayBuffer(2);
(new DataView(ee)).setUint16(0,256,!0);Nd=256===(new Uint16Array(ee))[0];
function A(a,b,c,d,e,f){this.id=fe+=2;this.X=null;this.D=0;this.qa=a;this.le=b;this.size=c||0;this.type=d||ge;this.F=d==Md;this.controller=null;this.C=f;qd(this);this.flags=he;c?e?(this.controller=e,a=e.jg(a|0),this.X=a[0],this.D=a[1],Jd(this,e.vf())):(this.buffer=new ArrayBuffer(c),this.H=new DataView(this.buffer,0,c),this.Ja=new Uint8Array(this.buffer,0,c),this.Ad=new Uint16Array(this.buffer,0,c>>1),this.X=new Int32Array(this.buffer,0,c>>2),Jd(this,Nd?Od:Pd)):Jd(this)}p=A.prototype;
p.ng=function(a){this.qa=a};p.save=function(){var a;if(this.controller)var b=null;else for(b=Array(this.size>>2),a=0;a<b.length;a++)b[a]=this.H.getInt32(a<<2,!0);return b};
p.restore=function(a){var b;if(this.controller){if(this.X){if(2048==this.X.length||8192==this.X.length){var c=this.D>>1;for(b=0;b<a.length&&!(c>=this.X.length);b++)this.X[c++]=a[b]&65535,this.X[c++]=a[b]>>16&65535}else for(c=this.D>>2,b=0;b<a.length&&!(c>=this.X.length);b++)this.X[c++]=a[b];this.flags|=Dd}return!0}if(this.size==a.length<<2){for(b=0;b<a.length;b++)this.H.setInt32(b<<2,a[b],!0);this.flags|=Dd;return!0}return!1};
function Jd(a,b,c){b||(b=a.type==ie?je:a.type==ke?le:me);ne(a,b,c);oe(a,b,c)}function ne(a,b,c){c&&a.Zd||(a.lc=b[0]||a.lj,a.Qe=b[2]||a.mj,a.pd=b[4]||a.jj);if(c||void 0===c)a.Cd=b[0]||a.lj,a.Re=b[2]||a.mj,a.ih=b[4]||a.jj}function oe(a,b,c){c&&a.$d||(a.mc=!a.F&&b[1]||a.ne,a.Ve=!a.F&&b[3]||a.nh,a.Ue=!a.F&&b[5]||a.mh);if(c||void 0===c)a.me=b[1]||a.ne,a.oh=b[3]||a.nh,a.L=b[5]||a.mh}p.hd=function(a,b,c){b?0===this.$d++&&(c&&(this.C=c),oe(this,pe,!1)):0===this.Zd++&&(c&&(this.C=c),ne(this,pe,!1))};
function qe(a,b){b?0===--a.$d&&(a.mc=a.F?a.ne:a.me,a.Ve=a.F?a.nh:a.oh,a.Ue=a.F?a.mh:a.L):0===--a.Zd&&(a.lc=a.Cd,a.Qe=a.Re,a.pd=a.ih)}function qd(a,b,c){a.ga=b;a.Zd=a.$d=0;c&&(c.C&&(a.C=c.C),(a.Zd=c.Zd)&&ne(a,pe,!1),(a.$d=c.$d)&&oe(a,pe,!1))}p.lj=function(a,b){this.ga&&this.ga.N(8194,"attempt to read invalid block %%%x\n",b);return 255};p.ne=function(a,b,c){this.ga&&this.ga.N(8194,"attempt to write %#06x to invalid block %%%x\n",b,c)};p.mj=function(a,b){return this.lc(a++,b++)|this.lc(a,b)<<8};
p.jj=function(a,b){return this.lc(a++,b++)|this.lc(a++,b++)<<8|this.lc(a++,b++)<<16|this.lc(a,b)<<24};p.nh=function(a,b,c){this.mc(a++,b&255,c++);this.mc(a,b>>8,c)};p.mh=function(a,b,c){this.mc(a++,b&255,c++);this.mc(a++,b>>8&255,c++);this.mc(a++,b>>16&255,c++);this.mc(a,b>>>24,c)};p.vl=function(a,b){this.ga&&null!=this.qa&&re(this.ga,this.qa+a)||this.C&&se(this.C,b,1,!1);return this.Cd(a,b)};
p.Gl=function(a,b){this.ga&&null!=this.qa&&re(this.ga,this.qa+a,2)||this.C&&se(this.C,b,2,!1);return this.Re(a,b)};p.Bl=function(a,b){this.ga&&null!=this.qa&&re(this.ga,this.qa+a,4)||this.C&&se(this.C,b,4,!1);return this.ih(a,b)};p.Tl=function(a,b,c){this.ga&&null!=this.qa&&te(this.ga,this.qa+a)||this.C&&se(this.C,c,1,!0);this.F?this.ne(a,b,c):this.me(a,b,c)};p.cm=function(a,b,c){this.ga&&null!=this.qa&&te(this.ga,this.qa+a,2)||this.C&&se(this.C,c,2,!0);this.F?this.ne(a,b,c):this.oh(a,b,c)};
p.Yl=function(a,b,c){this.ga&&null!=this.qa&&te(this.ga,this.qa+a,4)||this.C&&se(this.C,c,4,!0);this.F?this.ne(a,b,c):this.L(a,b,c)};p.xl=function(a,b){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.G;return this.I.lc(a,b)};p.Il=function(a,b){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.G;return this.I.Qe(a,b)};p.Dl=function(a,b){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.G;return this.I.pd(a,b)};
p.Vl=function(a,b,c){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.K;this.I.mc(a,b,c)};p.em=function(a,b,c){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.K;this.I.Ve(a,b,c)};p.$l=function(a,b,c){this.bb.X[this.A]|=this.G;this.cb.X[this.B]|=this.K;this.I.Ue(a,b,c)};p.yl=function(a,b){return ue(this.C,b,!1).lc(a,b)};p.Jl=function(a,b){return ue(this.C,b,!1).Qe(a,b)};p.El=function(a,b){return ue(this.C,b,!1).pd(a,b)};p.Wl=function(a,b,c){ue(this.C,c,!0).mc(a,b,c)};
p.fm=function(a,b,c){ue(this.C,c,!0).Ve(a,b,c)};p.am=function(a,b,c){ue(this.C,c,!0).Ue(a,b,c)};p.ul=function(a){return this.Ja[a]};p.ij=function(a){return this.Ja[a]};p.wl=function(a){this.bb.X[this.A]|=32;this.cb.X[this.B]|=32;this.lc=this.ij;return this.Ja[a]};p.Fl=function(a){return this.H.getUint16(a,!0)};p.nj=function(a){return a&1?this.Ja[a]|this.Ja[a+1]<<8:this.Ad[a>>1]};
p.Hl=function(a){this.bb.X[this.A]|=32;this.cb.X[this.B]|=32;this.Qe=this.nj;return a&1?this.Ja[a]|this.Ja[a+1]<<8:this.Ad[a>>1]};p.Al=function(a){return this.H.getInt32(a,!0)};p.kj=function(a){return a&3?this.Ja[a]|this.Ja[a+1]<<8|this.Ja[a+2]<<16|this.Ja[a+3]<<24:this.X[a>>2]};p.Cl=function(a){this.bb.X[this.A]|=32;this.cb.X[this.B]|=32;this.pd=this.kj;return a&3?this.Ja[a]|this.Ja[a+1]<<8|this.Ja[a+2]<<16|this.Ja[a+3]<<24:this.X[a>>2]};p.Sl=function(a,b){this.Ja[a]=b};
p.Fj=function(a,b){this.Ja[a]=b};p.Ul=function(a,b){this.Ja[a]=b;this.bb.X[this.A]|=32;this.cb.X[this.B]|=96;this.mc=this.Fj};p.bm=function(a,b){this.H.setUint16(a,b,!0)};p.Hj=function(a,b){a&1?(this.Ja[a]=b,this.Ja[a+1]=b>>8):this.Ad[a>>1]=b};p.dm=function(a,b){a&1?(this.Ja[a]=b,this.Ja[a+1]=b>>8):this.Ad[a>>1]=b;this.bb.X[this.A]|=32;this.cb.X[this.B]|=96;this.Ve=this.Hj};p.Xl=function(a,b){this.H.setInt32(a,b,!0)};
p.Gj=function(a,b){a&3?(this.Ja[a]=b,this.Ja[a+1]=b>>8,this.Ja[a+2]=b>>16,this.Ja[a+3]=b>>24):this.X[a>>2]=b};p.Zl=function(a,b){a&3?(this.Ja[a]=b,this.Ja[a+1]=b>>8,this.Ja[a+2]=b>>16,this.Ja[a+3]=b>>24):this.X[a>>2]=b;this.bb.X[this.A]|=32;this.cb.X[this.B]|=96;this.Ue=this.Gj};function ve(a){Nd||(a=a<<24|a<<8&16711680|a>>8&65280|a>>>24);return a}
var ge=0,Md=2,ie=5,ke=6,gd=["black","blue","green","cyan"],id="NONE RAM ROM VIDEO H/W UNPAGED PAGED".split(" "),he=0,Dd=1,Ed=2,fe=0,me=[],pe=[A.prototype.vl,A.prototype.Tl,A.prototype.Gl,A.prototype.cm,A.prototype.Bl,A.prototype.Yl],le=[A.prototype.xl,A.prototype.Vl,A.prototype.Il,A.prototype.em,A.prototype.Dl,A.prototype.$l],je=[A.prototype.yl,A.prototype.Wl,A.prototype.Jl,A.prototype.fm,A.prototype.El,A.prototype.am],Pd=[A.prototype.ul,A.prototype.Sl,A.prototype.Fl,A.prototype.bm,A.prototype.Al,
A.prototype.Xl],Od=[A.prototype.ij,A.prototype.Fj,A.prototype.nj,A.prototype.Hj,A.prototype.kj,A.prototype.Gj],we=[A.prototype.wl,A.prototype.Ul,A.prototype.Hl,A.prototype.dm,A.prototype.Cl,A.prototype.Zl];
function xe(a,b){Sb.call(this,"CPU",a,2);var c=a.multiplier||1;this.Ed=a.cycles||b;this.Kj=Math.round(1E3/ye);this.ph=this.lf=this.sc=c;this.gf=Math.round(this.Ed/1E4)/100;this.Gc=this.Ud=this.gf*this.sc;this.flags.lh=this.flags.Oa=this.flags.Nf=!1;this.flags.Id=a.autoStart;this.flags.Hh=!1;this.flags.ae=!1;this.oe=this.ud=0;this.pe=a.csStart;this.fd=a.csInterval;this.vd=a.csStop;this.Ua=[];this.ed=0;this.qh=this.Kl.bind(this)}sa(xe,Sb);p=xe.prototype;p.reset=function(){};p.save=function(){return null};
p.restore=function(){return!1};p.Mb=function(a,b){if(!b){if(a&&this.restore){ze(this);if(!this.restore(a))return!1;Ae(this)}else this.reset();this.ga?this.ga.ng():this.N(0,"No debugger detected\n")}Ee(this,!1);return!0};p.Lb=function(a,b){var c=this.flags.Oa;b&&Fe(this);return a?this.save(c):!0};p.Id=function(){return this.flags.Oa?!0:this.flags.Id||void 0==this.flags.Id&&!this.ga?Ge(this,!0):!1};p.Lh=function(){return 0};
function Ae(a){void 0===a.pe&&(a.pe=0);void 0===a.fd&&(a.fd=-1);void 0===a.vd&&(a.vd=-1);a.flags.ae=0<=a.pe&&0<a.fd;a.flags.ae&&(a.oe=0,a.ud=a.pe-a.Xc)}function He(a,b){if(a.flags.ae){var c=!1;a.oe=a.oe+a.Lh()|0;a.ud-=b;0>=a.ud&&(a.ud+=a.fd,c=!0);0<=a.vd&&a.vd<=Ie(a)&&(a.fd=a.vd=-1,Ae(a),Fe(a),c=!0);c&&a.N("%d cycles: checksum=%x\n",Ie(a),a.oe)}}
p.ub=function(a,b,c){var d=this;a=!1;switch(b){case "power":case "reset":this.ca[b]=c;a=!0;break;case "run":this.ca[b]=c;c.onclick=function(){var e=d.flags.Oa,f;if(f=d.ya)if(f=d.ya,f.flags.Qd&&(f.flags.Qd=!1,f.flags.De&&!f.flags.Nb&&f.je(Je)),f.flags.Nb)f=!0;else{var g=null,h,k=ec(f.id);for(h=0;h<k.length&&(g=k[h],g===f||g.flags.ready);h++);if(h==k.length)for(h=0;h<k.length&&(g=k[h],g===f||g.flags.Nb);h++);h==k.length&&(g=f);lb(274877906944,"The %s component (%s) is not %s\n",g.type,g.id,g.flags.ready?
"powered yet":"ready yet"+(g.uf?" (waiting for notification)":""));f=!1}f&&e==d.flags.Oa&&(d.flags.Oa?Fe(d,!0):Ge(d,!0))};a=!0;break;case "speed":this.ca[b]=c;a=!0;break;case "setSpeed":this.ca[b]=c,c.onclick=function(){Ke(d,d.sc<<1,!0)},c.textContent=Le(this),a=!0}return a};function Me(a,b,c){a.Xc+=b;c&&(a.Mc=a.A=0)}function Ne(a){var b=a.Gc/a.gf;!b||b>a.sc?b=a.sc:1>b&&(b=1);a.ik=Math.floor(a.Ed/ye*b);return a.lf!==b?(a.lf=b,!0):!1}
function Ie(a,b){var c=a.Xc+a.Nc+a.Mc-a.A;b&&1<a.sc&&a.Gc>a.gf&&(c=Math.round(c/a.sc));return c}function ze(a){a.Xc=a.Nc=a.Mc=a.A=0;Ae(a);Ke(a,a.ph)}function Oe(a){return a.flags.Oa&&a.Gc?a.Gc.toFixed(2)+"Mhz":"Stopped"}function Le(a){return a.Ud.toFixed(2)+"Mhz"}
function Ke(a,b,c){var d=!0;if(void 0!==b){0<a.Gc&&a.Gc<.9*a.Ud&&(b=a.ph,d=!1);a.Gc=0;a.sc=b;b=a.gf*a.sc;if(a.Ud!=b){a.Ud=b;b=Le(a);var e=a.ca.setSpeed;e&&(e.textContent=b);a.N(0,"target speed: %s\n",b)}c&&a.ya&&a.ya.wc()}Me(a,a.Nc);a.Nc=0;a.hc=a.Uc=0;if(Ne(a))for(c=a.Ua.length-1;0<=c;c--)b=a.Ua[c],b[2]&&Pe(a,c,b[2],!0);return d}function Rc(a,b,c,d){d=void 0===d?0:d;var e=a.Ua.length;a.Ua.push([b,-1,d,c]);d&&Pe(a,e,d);return e}
function Qe(a,b){for(var c=0;c<a.Ua.length;c++){var d=a.Ua[c];if(d[0]==b)return d}return null}function Pe(a,b,c,d){0<=b&&b<a.Ua.length&&(b=a.Ua[b],d||0>b[1])&&(c=0<c?a.Ed*a.lf/1E3*c|0:-c,a.flags.Oa&&(c+=Re(a)),b[1]=c)}function Ue(a,b){for(var c=a.Ua.length-1;0<=c;c--){var d=a.Ua[c];0>d[1]||(d[1]-=b,0>=d[1]&&(d[1]=-1,d[3](),d[2]&&Pe(a,c,d[2])))}}function Re(a){var b=a.Mc-a.A;a.Mc=a.A=0;a.nf+=b;a.Nc+=b;return b}
p.Kl=function(){this.ed=0;if(this.flags.Oa){Ne(this);this.pg=this.nf=0;this.Vc=Vb();this.hc||(this.hc=this.Vc);if(this.Uc){var a=this.Vc-this.Uc;a>this.Kj&&(this.hc+=a,this.hc>this.Vc&&(this.hc=this.Vc))}try{this.flags.Nf=!1;do{for(var b,c=this.flags.ae?1:this.Ed*this.lf|0,d=this.Ua.length-1;0<=d;d--){var e=this.Ua[d];0>e[1]||c>e[1]&&(c=e[1])}b=c;if(this.la){Ve(this.la);var f=this.la;a=b;var g=f.Ua[0];if(g.pf){var h=(Ie(f.J,f.K)-g.nd)/f.Ba|0,k=We(f,0)-h;g.mode==Xe&&(k-=h);var l=k*f.Ba|0;g.mode==Xe&&
(l>>=1);a>l&&(a=l)}b=a;var n=this.la;a=b;if(n.A&&n.A[Ye]&Ze){var m=n.L-Ie(n.J,n.K);0<m&&a>m&&(a=m)}b=a}try{this.Rf(b)}catch(q){if("number"!=typeof q)throw q;}if(b=Re(this))Ue(this,b),He(this,b)}while(this.flags.Oa&&!this.flags.Nf)}catch(q){Fe(this);Ee(this);this.ya&&this.ya.stop(Vb(),Ie(this));lc(this,q.stack||q.message);return}if(this.flags.Oa){this.Uc=Vb();this.pg&&(this.hc+=this.pg,this.Vc+=this.pg);b=this.Kj;this.nf&&(b=Math.round(b*this.nf/this.ik));b-=this.Uc-this.Vc;if(c=this.Uc-this.hc)this.Gc=
Math.round(this.Nc/(10*c))/100,864E5<=c&&(this.Xc=0,this.la&&Ve(this.la,!0),Ke(this));0>b?(-1E3>b&&(this.hc-=b),b=0):this.Gc<this.Ud&&(b=0);this.Uc+=b;this.ed=setTimeout(this.qh,b)}}};function Ge(a,b,c){if(mc(a))return!1;if(a.flags.Oa)return c||a.N(0,"%s busy\n",a.toString()),!1;a.ed&&(clearTimeout(a.ed),a.ed=0);Ke(a);a.flags.Oa=!0;a.flags.lh=!0;a.la&&a.la.start();if(c=a.ca.run)c.textContent="Halt";a.ya&&($e(a.ya,!0),b&&a.ya.wc(),a.ya.start(Vb(),Ie(a)));a.ed=setTimeout(a.qh,0);return!0}p.Rf=function(){return 0};
function Fe(a,b){var c=!1;if(a.flags.Oa){if(c=Re(a))Ue(a,c),He(a,c);Me(a,a.Nc);a.Nc=0;a.flags.Oa=!1;a.la&&a.la.stop();if(c=a.ca.run)c.textContent="Run";a.ya&&(a.ya.stop(Vb(),Ie(a)),$e(a.ya,!0));a.ga||a.N(137438953472,"Stopped\n");c=!0}a.flags.complete=b;return c}function Ee(a,b){a.ya&&$e(a.ya,b)}var ye=60;
function af(a){var b=+a.model||8088;switch(b){default:var c=4772727;break;case 80286:c=6E6;break;case 80386:c=16E6}xe.call(this,a,c);this.model=b;a=a.stepping;this.cd=b+(a?Sa(a,16):0);this.fj=61442;this.dd=1792;this.bj=28672;this.Ze=4;this.Na=255;this.B=80286<=this.model?xc:wc;this.ma=bf;this.vj=cf;this.yj=df;this.Aj=ef;if(80186<=this.model&&(this.ma=bf.slice(),this.vj=cf.slice(),this.yj=df.slice(),this.Na=31,this.ma[15]=ff,this.ma[96]=gf,this.ma[97]=hf,this.ma[98]=jf,this.ma[99]=ff,this.ma[100]=
ff,this.ma[101]=ff,this.ma[102]=ff,this.ma[103]=ff,this.ma[104]=kf,this.ma[105]=lf,this.ma[106]=mf,this.ma[107]=nf,this.ma[108]=of,this.ma[109]=pf,this.ma[110]=qf,this.ma[111]=rf,this.ma[192]=sf,this.ma[193]=tf,this.ma[200]=uf,this.ma[201]=vf,this.ma[241]=wf,this.vj[7]=xf,this.yj[7]=xf,80286<=this.model)){this.fj=2;this.dd|=28672;this.Ze=0;this.ma[15]=yf;this.Ec=zf.slice();for(b=0;b<this.Ec.length;b++)this.Ec[b]||(this.Ec[b]=wf);this.ma[84]=Af;this.ma[99]=Bf;if(80386<=this.model){var d;this.bj=0;
this.dd|=196608;this.ma[100]=Ff;this.ma[101]=Gf;this.ma[102]=Hf;this.ma[103]=If;this.ma[241]=Jf;for(d in B)this.Ec[+d]=B[+d];80546<=this.cd&&80562>=this.cd&&(this.Ec[166]=Kf,this.Ec[167]=Lf)}else for(b=0;b<B.length;b++)B[b]&&this.Ec[b]==wf&&(this.Ec[b]=ff)}this.fk=[];this.hj=[];this.mg=0;ze(this);this.flags.complete=this.flags.eg=!1;this.Ej=0;this.pc=this.V=[];this.Gd=this.ic=-1;this.mb=this.Zi=this.lb=this.Ye=this.Fd=0;Mf(this)}sa(af,xe);
function Nf(a,b,c,d){qe((d?a.pc:a.V)[b>>>a.mb],c);d&&Ad(a)}function Of(a){var b;if(a.V===a.pc){a.V=Array(a.Ye);a.bf=new A(void 0,0,0,ie,null,a);qd(a.bf,a.ga);for(b=0;b<a.Ye;b++)a.V[b]=a.bf;a.Td=new A;a.gj=Array(cg);a.ff=0}else for(var c=0;c<a.We.length;c++){b=a.We[c];var d=a.V[b];a.ff<cg&&(a.gj[a.ff++]=d);a.V[b]=a.bf}a.We=[]}function Ad(a){a.ia&-2147483648&&Of(a)}
function ue(a,b,c,d){var e=(b&-4194304)>>>20,f=a.pc[(a.Rb+e&a.Gd)>>>a.mb],g=f.pd(e);if(!(g&1))return d||dg.call(a,b,!1,c),a.Td;if(!(g&4)&&3==a.Ka)return d||dg.call(a,b,!0,c),a.Td;var h=(b&4190208)>>>10;g=a.pc[((g&-4096)+h&a.Gd)>>>a.mb];var k=g.pd(h);if(!(k&1))return d||dg.call(a,b,!1,c),a.Td;if(!(k&4)&&3==a.Ka)return d||dg.call(a,b,!0,c),a.Td;c=a.pc[((k&-4096)+(b&4095)&a.Gd)>>>a.mb];if(d)return c;d=b>>>a.mb;k=a.V[d];b&=-4096;if(0<a.ff){var l=a.gj[--a.ff];l.ng(b)}else l=new A(b,0,0,ke);b=l;b.I=c;b.bb=
f;b.A=e>>2;b.cb=g;b.B=h>>2;!Nd||!c.X||c.controller||c.Zd||c.$d?(b.G=c?ve(32):0,b.K=c?ve(96):0,Jd(b,le)):(b.Ja=c.Ja,b.Ad=c.Ad,b.X=c.X,Jd(b,we));qd(b,a.ga,k);a.V[d]=b;a.We.push(d);return b}function eg(a){a.V!==a.pc&&(a.V=a.pc,a.bf=null,a.We=null,a.Td=null)}p=af.prototype;p.reset=function(){fg(this);Mf(this);ze(this);this.flags.error=!1};function fg(a){a.la&&(+gg(a.la,hg)?a.rc=a.Jj:a.rc=null)}
function ig(a,b){switch(b){case 0:var c=a.D;break;case 1:c=a.H;break;case 2:c=a.L;break;case 3:c=a.G;break;case 4:c=C(a);break;case 5:c=a.M;break;case 6:c=a.K;break;case 7:c=a.I}return c}function jg(a,b,c){switch(b){case 0:a.D=c;break;case 1:a.H=c;break;case 2:a.L=c;break;case 3:a.G=c;break;case 4:F(a,c);break;case 5:a.M=c;break;case 6:a.K=c;break;case 7:a.I=c}}
function Mf(a){a.D=0;a.G=0;a.H=0;a.L=0;a.jc=0;a.M=0;a.K=0;a.I=0;a.Wb=!1;a.Aa=a.Qa=0;a.jk=[0,0];a.lk=[0,0];a.ta=0;a.Dj=0;a.ba=0;a.ia=65520;a.zb=0;a.Fc=1023;a.P=a.Pb=0;a.xd=a.re=a.wd=a.yd=0;a.Wc=-1;a.Ic=a.vc=-1;a.uc=a.na=-1;a.aa=new kg(a,lg,"CS");a.wa=new kg(a,mg,"DS");a.ka=new kg(a,mg,"ES");a.T=new kg(a,ng,"SS");F(a,0);og(a,0);if(80386<=a.model){switch(a.cd){case 80562:case 80563:a.L=771;break;case 80578:a.L=772;break;case 80594:a.L=773;break;case 80595:case 80596:a.L=776;break;default:a.L=768}a.ia=
2147483632;a.qg=0;a.Jc=0;a.Rb=0;a.Ab=[0,0,0,0,null,null,0,0];a.wf=[null,null,null,null,null,null,0,0];a.Fa=new kg(a,mg,"FS");a.Ga=new kg(a,mg,"GS");eg(a)}a.ug=new kg(a,pg,"NULL");a.Ba=a.wa;a.xb=a.T;a.O=a.Z=0;a.C=a.F=-1;a.xa=a.ug;a.Ea=0;if(80286>a.model)qg(a,0,65535);else{a.wb=0;a.qc=65535;a.nb=new kg(a,rg,"LDT",!0);a.ha=new kg(a,sg,"TSS",!0);a.fb=new kg(a,tg,"VER",!0);qg(a,65520,61440);var b=G(a);var c=a.aa;var d=-65536;80386>c.vb.model&&(d&=16777215);c=c.pa=d;a.Y=c+b|0;a.rg=(c>>>0)+(a.aa.Ra>>>0)+
1}ug(a,0);vg(a)}function wg(a){2==a.ac?(a.Qb=a.ea,a.Ob=xg,a.Vb=yg,a.Lc=zg,2==a.U?(a.fa=Ag,a.va=Bg,a.Za=Cg):(a.fa=Dg,a.va=Eg,a.Za=Fg)):(a.Qb=a.da,a.Ob=Gg,a.Vb=Hg,a.Lc=Ig,2==a.U?(a.fa=Jg,a.va=Kg,a.Za=Lg):(a.fa=Mg,a.va=Ng,a.Za=Og))}function Pg(a,b){a.U!=b&&(a.Z|=1024,a.U=b,a.R=2==b?65535:-1,Qg(a))}
function Qg(a){2==a.U?(a.rb=32768,a.$a=a.ea,a.Fb=a.Ta,2==a.ac?(a.fa=Ag,a.va=Bg,a.Za=Cg):(a.fa=Jg,a.va=Kg,a.Za=Lg)):(a.rb=-2147483648,a.$a=a.da,a.Fb=a.Sa,2==a.ac?(a.fa=Dg,a.va=Eg,a.Za=Fg):(a.fa=Mg,a.va=Ng,a.Za=Og))}function Rg(a){a.ac!=a.aa.ac&&(a.ac=a.aa.ac,a.oa=a.aa.oa,wg(a));a.U!=a.aa.U&&(a.U=a.aa.U,a.R=a.aa.R,Qg(a));a.Z&=-3073}p.Lh=function(){var a=this.D+this.G+this.H+this.L+C(this)+this.M+this.K+this.I|0;return a=a+G(this)+Sg(this)+this.wa.W+this.T.W+this.ka.W+Tg(this)|0};
function Ug(a,b){var c=a.hj[b];null!=c&&(c(--a.mg),delete a.hj[b])}function Vg(a,b){for(var c=a.Ab[7],d=c>>16,e=0;4>e;e++){if(c&3){var f=!!(d&1),g=a.Ab[e];g&=~(d>>2&3);b?a.V[g>>>a.mb].hd(g&a.lb,f,a):qe(a.V[g>>>a.mb],f)}c>>=2;d>>=4}}function se(a,b,c,d){if(!(a.O&8192)&&a.Ab[7]&255){c--;var e=a.Ab[7],f=e>>16;d=d?1:0==d?3:0;for(var g=0;4>g;g++){if(e&3&&(f&3)==d){var h=f>>2;if(b+c>=a.Ab[g]&&b<=a.Ab[g]+h){a.Ab[6]|=1<<g;a.Ea|=2;break}}e>>=2;f>>=4}}}
function vg(a,b,c){void 0===b&&(b=!!(a.ia&1));void 0===c&&(c=!!(a.P&131072));a.Aj=b&&!c?Wg:ef;Xg(a.aa,!1,b,c);Xg(a.wa,!1,b,c);Xg(a.T,!1,b,c);Xg(a.ka,!1,b,c);80386<=a.model&&(Xg(a.Fa,!1,b,c),Xg(a.Ga,!1,b,c));Rg(a)}
p.save=function(a){var b=new Yg(this);b.set(0,[this.D,this.G,this.H,this.L,C(this),this.M,this.K,this.I]);var c=G(this),d=this.aa.save(),e=this.wa.save(),f=this.T.save(),g=this.ka.save();if(null!=this.wb){var h=[this.ia,this.wb,this.qc,this.zb,this.Fc,this.nb.save(),this.ha.save(),this.Pb];80386<=this.model&&(h.push(this.qg),h.push(this.Jc),h.push(this.Rb),h.push(this.Ab),h.push(this.wf))}else h=null;c=[c,d,e,f,g,h,Tg(this)];80386<=this.model&&(c.push(this.Fa.save()),c.push(this.Ga.save()));b.set(1,
c);b.set(2,[this.Ba.Se,this.xb.Se,this.O,this.Z,this.Ea,this.C,this.F]);c=b.set;d=this.Xc;e=this.sc;f=[];for(g=0;g<this.Ua.length;g++)h=this.Ua[g],f.push([h[0],h[1],h[2],!0]);c.call(b,3,[0,d,e,a,f]);a=b.set;c=this.sa;var k=void 0===k?!0:k;(d=!c.D&&c.P==c.B)||rd(c,!0);e=0;f=[];for(g=0;g<c.K;g++)if(h=c.V[g],h.size&&(k&&h.type!=Md||0!=(h.flags&(Dd|Ed)))){var l=h.save();if(l){f[e++]=g;h=e++;if(l){for(var n=0,m=0,q=[];n<l.length;){for(var u=l[n],x=n+1;x<l.length&&l[x]===u;)x++;q[m++]=x-n;q[m++]=u;n=x}q.length<
l.length&&(l=q)}f[h]=l}}d||rd(c,!1);f[e]=d;a.call(b,4,f);return b.data()};
p.restore=function(a){var b=a[0];this.D=b[0];this.G=b[1];this.H=b[2];this.L=b[3];var c=b[4];this.M=b[5];this.K=b[6];this.I=b[7];b=a[1];this.aa.restore(b[1]);this.wa.restore(b[2]);this.T.restore(b[3]);this.ka.restore(b[4]);var d=b[5];d&&d.length&&(this.ia=d[0],this.wb=d[1],this.qc=d[2],this.zb=d[3],this.Fc=d[4],this.nb.restore(d[5]),this.ha.restore(d[6]),this.Pb=d[7],80386<=this.model&&(this.qg=d[8],this.Jc=d[9],this.Rb=d[10],this.Ab=d[11],this.wf=d[12]),vg(this));ug(this,b[6]);d=!1;a:{var e=this.sa;
var f=a[4],g,h=1;for(g=0;g<f.length-1;g+=2){var k=f[g]*h,l=f[g+1];if(l){if(l.length<e.O*h||l.length&l.length-1){for(var n=0,m=[],q=0;q<l.length-1;)for(var u=l[q++],x=l[q++];u--;)m[n++]=x;l=m}for((n=l.length/e.O|0)&&1==h&&(h=n);0<n;){m=1<n?l.splice(0,e.O):l;q=e.V[k];if(!q||!q.restore(m)){Wb("Unable to restore memory block "+k);e=!1;break a}n--;k++}}}void 0!==f[g]&&rd(e,f[g]);e=!0}e&&(qg(this,b[0],this.aa.W),F(this,c),og(this,this.T.W),80386<=this.model&&(this.Fa.restore(b[7]),this.Ga.restore(b[8])),
d=!0);b=a[2];this.Ba=null!=b[0]&&Zg(this,b[0])||this.wa;this.xb=null!=b[1]&&Zg(this,b[1])||this.T;this.O=b[2];this.Z=b[3];this.Ea=b[4];this.C=b[5];this.F=b[6];b=a[3];this.Xc=b[1];Ke(this,b[2]);null!=b[3]&&(this.flags.Id=b[3]||void 0);if(null!=b[4])for(a=b[4],b=0;b<a.length;b++)c=a[b],(e=Qe(this,c[0]))&&(e[1]=c[1]);return d};function Zg(a,b){switch(b){case "CS":return a.aa;case "DS":return a.wa;case "SS":return a.T;case "ES":return a.ka;case "NULL":return a.ug;default:return[0,b,0,0,""]}}
function Sg(a){return a.aa.W}function $g(a,b){null!=qg(a,G(a),b)&&(a.O|=a.Ze)}function ah(a,b){-1!==a.wa.load(b)&&(a.O|=a.Ze)}function og(a,b,c){var d=C(a);-1!==a.T.load(b)&&(F(a,d),a.T.Qc?(a.qe=(a.T.pa>>>0)+(a.T.oa>>>0),a.tf=(a.T.pa>>>0)+(a.T.Ra>>>0)):(a.qe=(a.T.pa>>>0)+(a.T.Ra>>>0),a.tf=a.T.pa>>>0),a.qe=Math.min(a.qe,a.ic>>>0),a.tf=Math.min(a.tf,a.ic>>>0),c||(a.O|=4))}function bh(a,b){-1!==a.ka.load(b)&&(a.O|=a.Ze)}function G(a){return a.Y-a.aa.pa|0}function H(a,b){a.Y=a.aa.pa+(b&a.R)|0}
function ch(a,b){a.Y=b;a.rg=(a.aa.pa>>>0)+(a.aa.Ra>>>0)+1;a.Ka=a.aa.ob;80386<=a.model&&Rg(a)}function qg(a,b,c,d){var e=a.aa;e.Oe=b;e.B=d;b=e.load(c);return-1!==b?(ch(a,b+(a.aa.Oe&a.aa.R)),a.aa.fe):null}function dh(a,b){var c=(a.Y>>>0)+b;c>a.rg&&(8088>=a.model?(c=a.aa.pa+(c-a.rg&a.R),2==b&&(a.O|=8)):I.call(a,13,0));return c|0}function eh(a,b){(void 0===b?0:b)&&a.Z&16&&8088>=a.model&&a.Z&16384&&a.P&512||(a.O|=256,a.Y=a.uc)}function C(a){return a.jc&~a.T.oa|a.za-a.T.pa}
function F(a,b){a.jc=b;a.za=a.T.pa+(b&a.T.oa)|0}function fh(a,b,c,d,e,f){if(63!=(e&63)&&e!=a.resultType){var g=(e^a.resultType)&a.resultType;g&&(g&1&&gh(a),g&2&&hh(a),g&4&&ih(a),g&8&&jh(a),g&16&&kh(a),g&32&&lh(a))}f?(a.xd=d,a.wd=b):(a.xd=b,a.wd=d);a.re=c;a.yd=d;a.resultType=e}function mh(a,b,c,d,e){a.resultType=c|26;a.yd=b;d?nh(a):oh(a);e?ph(a):qh(a);return b}function rh(a,b,c,d){c&d?nh(a):oh(a);(b^c)&d?ph(a):qh(a)}function sh(a){return gh(a)?1:0}
function gh(a){a.resultType&1&&(a.P&=-2,(a.xd^(a.xd^a.re)&(a.re^a.wd))&a.resultType&-2147450752&&(a.P|=1),a.resultType&=-2);return a.P&1}function hh(a){a.resultType&2&&(a.P&=-5,38505>>((a.yd^a.yd>>4)&15)&1&&(a.P|=4),a.resultType&=-3);return a.P&4}function ih(a){a.resultType&4&&(a.P&=-17,(a.wd^a.xd^a.re)&16&&(a.P|=16),a.resultType&=-5);return a.P&16}function jh(a){a.resultType&8&&(a.P&=-65,a.yd&((a.resultType&-2147450752)-1|a.resultType&-2147450752)||(a.P|=64),a.resultType&=-9);return a.P&64}
function kh(a){a.resultType&16&&(a.P&=-129,a.yd&a.resultType&-2147450752&&(a.P|=128),a.resultType&=-17);return a.P&128}function lh(a){a.resultType&32&&(a.P&=-2049,(a.xd^a.wd)&(a.re^a.wd)&a.resultType&-2147450752&&(a.P|=2048),a.resultType&=-33);return a.P&2048}function oh(a){a.resultType&=-2;a.P&=-2}function th(a){a.resultType&=-5;a.P&=-17}function uh(a){a.resultType&=-9;a.P&=-65}function qh(a){a.resultType&=-33;a.P&=-2049}function nh(a){a.resultType&=-2;a.P|=1}
function vh(a){a.resultType&=-5;a.P|=16}function wh(a){a.resultType&=-9;a.P|=64}function ph(a){a.resultType&=-33;a.P|=2048}function Tg(a){return a.P&-2262|gh(a)|hh(a)|ih(a)|jh(a)|kh(a)|lh(a)}function xh(a,b){b|=a.ia&1|65520;a.ia=a.ia&-65536|b&65535;a.ia&1&&vg(a,!0)}function ug(a,b,c){a.ia&1||(b&=~a.bj);void 0===c&&(c=a.Ka);c?b=b&-12289|a.P&12288:a.Pb=(b&12288)>>12;c>a.Pb&&(b=b&-513|a.P&512);a.resultType=128;a.P=a.P&~(a.dd|2261)|b&(a.dd|2261)|a.fj;a.P&256&&(a.Ea|=2,a.O|=4)}
function yh(a,b,c,d){var e=0;if(a.ia&1&&(a.Ka>a.Pb||a.P&131072)&&a.ha.wh){var f=a.ha.wh+(b>>>3);for(e=(1<<c)-1<<(b&7);e&&f<=a.ha.Nk&&!(a.ra(f)&e);)e>>>=8,f++}return e?(a.N(65,"checkIOPM(%#06x,%d,%s): trapped\n",b,c,d?"input":"output"),I.call(a,13,0),!1):!0}
p.ub=function(a,b,c){switch(b){case "EAX":case "EBX":case "ECX":case "EDX":case "ESP":case "EBP":case "ESI":case "EDI":case "EIP":case "AX":case "BX":case "CX":case "DX":case "SP":case "BP":case "SI":case "DI":case "IP":case "PC":case "CS":case "DS":case "SS":case "ES":case "FS":case "GS":case "CR0":case "CR2":case "CR3":case "PS":case "C":case "P":case "A":case "Z":case "S":case "T":case "I":case "D":case "V":this.ca[b]=c;this.Ej++;a=!0;break;default:a=xe.prototype.ub.call(this,a,b,c)}return a};
function zh(a,b,c,d){var e=(d?a.pc:a.V)[(b&a.ic)>>>a.mb];e&&e.type==ie&&(e=ue(a,b,!1,!0));if(e){var f=b&a.lb;if(!c||1==c)return e.Cd(f,b);if(2==c)return f<a.lb?e.Re(f,b):e.Cd(f,b)|zh(a,b+1,1,d)<<8;if(4==c)return f<a.lb-2?e.ih(f,b):f==a.lb-1?e.Re(f,b)|zh(a,b+2,2,d)<<16:e.Cd(f,b)|zh(a,b+1,1,d)<<8|zh(a,b+2,1,d)<<16|zh(a,b+3,1,d)<<24}return null}p.ra=function(a){return this.V[(a&this.ic)>>>this.mb].lc(a&this.lb,a)};
p.ea=function(a){var b=a&this.lb,c=(a&this.ic)>>>this.mb;this.A-=this.B.Gf;if(b<this.lb)return this.V[c].Qe(b,a);b=this.V[c].lc(b,a);this.O&4096||(b|=this.V[c+1&this.Fd].lc(0,a+1)<<8);return b};p.da=function(a){var b=a&this.lb,c=(a&this.ic)>>>this.mb;if(b<this.lb-2)return this.V[c].pd(b,a);for(var d=0,e=4,f=0,g=4-(b&3);e--;){d|=this.V[c].lc(b++,a++)<<f;if(this.O&4096)break;--g||(c=c+1&this.Fd,b=0);f+=8}return d};p.kb=function(a,b){this.V[(a&this.ic)>>>this.mb].mc(a&this.lb,b&255,a)};
p.Ta=function(a,b){var c=a&this.lb,d=(a&this.ic)>>>this.mb;this.A-=this.B.Gf;c<this.lb?this.V[d].Ve(c,b&65535,a):(this.V[d++].mc(c,b&255,a),this.O&4096||this.V[d&this.Fd].mc(0,b>>8&255,a+1))};p.Sa=function(a,b){var c=a&this.lb,d=(a&this.ic)>>>this.mb;this.A-=this.B.Gf;if(c<this.lb-2)this.V[d].Ue(c,b,a);else for(var e=4,f=4-(c&3);e--;){this.V[d].mc(c++,b&255,a++);if(this.O&4096)break;--f||(d=d+1&this.Fd,c=0);b>>>=8}};function Ah(a,b,c){a.xa=b;a.Ia=c&a.oa;a.C=b.ib(a.Ia,1);return a.O&1?0:a.ra(a.C)}
function J(a,b){return Ah(a,a.Ba,b)}function Bh(a,b){return Ah(a,a.xb,b)}function Ch(a,b,c){a.xa=b;a.Ia=c&a.oa;a.C=b.ib(a.Ia,a.U);if(a.O&9){if(a.O&1)return 0;a=a.ra(a.C)|a.ra(b.ib(0,1))<<8}else a=a.$a(a.C);return a}function K(a,b){a.xa=a.Ba;a.Ia=b&a.oa;a.C=a.xa.ib(a.Ia,2);if(a.O&9){if(a.O&1)return 0;b=a.ra(a.C)|a.ra(a.xa.ib(0,1))<<8;a.O&=-9}else b=a.ea(a.C);return b}
function Dh(a,b){a.xa=a.xb;a.Ia=b&a.oa;a.C=a.xa.ib(a.Ia,2);if(a.O&9){if(a.O&1)return 0;b=a.ra(a.C)|a.ra(a.xa.ib(0,1))<<8;a.O&=-9}else b=a.ea(a.C);return b}function L(a,b){a.xa=a.Ba;a.Ia=b&a.oa;a.C=a.xa.ib(a.Ia,4);return a.O&1?0:a.da(a.C)}function M(a,b){a.xa=a.Ba;a.Ia=b&a.oa;a.F=a.C=a.xa.ib(a.Ia,4);return a.O&1?0:a.da(a.C)}function Eh(a,b){a.xa=a.xb;a.Ia=b&a.oa;a.C=a.xa.ib(a.Ia,4);return a.O&1?0:a.da(a.C)}function Fh(a,b){a.xa=a.xb;a.Ia=b&a.oa;a.F=a.C=a.xa.ib(a.Ia,4);return a.O&1?0:a.da(a.C)}
function Gh(a,b){a.O&2||a.kb(a.xa.Gb(a.Ia,1),b)}function Hh(a,b){if(!(a.O&2)){var c=a.xa.Gb(a.Ia,2);a.O&8?(a.kb(c,b),a.kb(a.xa.Gb(0,1),b>>8),a.O&=-9):a.Ta(c,b)}}function Ih(a,b){a.O&2||a.Sa(a.xa.Gb(a.Ia,4),b)}function Jh(a,b,c){c=b.ib(c,a.U);a.O&8?(b=a.ra(c)|a.ra(b.ib(0,1))<<8,a.O&=-9):b=a.$a(c);return b}function Kh(a,b,c,d){c=b.Gb(c,a.U);a.O&8?(a.kb(c,d),a.kb(b.Gb(0,1),d>>8),a.O&=-9):a.Fb(c,d)}p.ja=function(){var a=dh(this,1),b=this.ra(this.Y);this.Y=a;return b};
function Lh(a){var b=dh(a,2);if(a.O&8){var c=a.ra(a.Y)|a.ra(b-1)<<8;a.O&=-9}else c=a.ea(a.Y);a.Y=b;return c}function N(a){var b=dh(a,a.ac);if(a.O&8){var c=a.ra(a.Y)|a.ra(b-1)<<8;a.O&=-9}else c=a.Qb(a.Y);a.Y=b;return c}p.Ca=function(){var a=dh(this,this.U);if(this.O&8){var b=this.ra(this.Y)|this.ra(a-1)<<8;this.O&=-9}else b=this.$a(this.Y);this.Y=a;return b};p.S=function(){var a=dh(this,1),b=this.ra(this.Y)<<24>>24;this.Y=a;return b};
function Mh(a){var b=a.$a(a.za);a.za=a.za+a.U|0;var c=a.qe-(a.za>>>0);0>c&&(8088>=a.model?(F(a,a.za-a.T.pa&a.T.oa),-1>c&&(b=b&255|a.ra(a.za-1)<<8)):-1>c?I.call(a,12,0):(!a.T.Qc&&a.T.Ra==a.T.oa||a.T.Qc&&!a.T.Ra)&&F(a,a.za-a.T.pa&a.T.oa));return b}function Nh(a,b){Oh(a,b,a.U)}
function Oh(a,b,c,d){d=void 0===d?c:d;var e=a.za-c|0,f=(e>>>0)-a.tf;if(0>f){if(8088>=a.model&&-1==f){a.kb(e+1,b>>8);F(a,e-a.T.pa&a.T.oa);a.kb(a.za,b);return}if(!a.T.Qc&&a.T.Ra==a.T.oa||a.T.Qc&&!a.T.Ra){if(f>-c){I.call(a,12,0);return}F(a,e-a.T.pa&a.T.oa);e=a.za}else{I.call(a,12,0);return}}switch(d){case 1:a.kb(e,b);break;case 2:a.Ta(e,b);break;case 4:a.Sa(e,b)}a.za=e}
function Ph(a,b,c){var d=4;1==b.length&&(d=1,c=c?1:0);if(80386>a.model)2<b.length&&(b=b.substr(1,2));else if("PS"==b||2<b.length)d=8;a.ca[b]&&(void 0===c&&(lc(a,"Value for "+b+" is invalid"),Fe(a)),d=!a.flags.Oa||a.flags.Hh?w(c,d):"--------".substr(0,d),a.ca[b].textContent!=d&&(a.ca[b].textContent=d))}
p.Rf=function(a){this.flags.complete=!0;this.flags.eg=this.ga&&Qh(this.ga);this.Ea=this.flags.eg?this.Ea|16:this.Ea&-17;var b=a?this.flags.lh?0:1:-1;this.flags.lh=!1;this.Mc=this.A=a;this.la&&!a&&Ve(this.la);a||vc(this,262144)||(this.O|=4);do{var c=this.O&3312;if(c)this.Z|=c;else if(this.uc=this.Y,this.Ba=this.wa,this.xb=this.T,this.C=this.F=-1,this.Z&3072&&Rg(this),this.Z=this.O&16640,this.Ea){a:{if(!(this.O&4)){c=80286>this.model?0:1;for(var d=0;2>d;d++){switch(c){case 0:if(this.Ea&1&&this.P&512){var e=
Rh(this.la);if(-1<=e&&(this.Ea&=-2,0<=e)){this.Ea&=-5;Sh.call(this,e);c=!0;break a}}break;case 1:if(this.Ea&2){this.Ea&=-3;80386<=this.model&&(this.Ab[6]|=16384);Sh.call(this,1);c=!0;break a}}c=1-c}}c=!1}if(c&&!a){this.N("interrupt dispatched\n");this.O=0;break}if(this.Ea&4){Th.call(this);continue}if(this.Ea&16){if(Uh(this.ga,this.Y,b)){Fe(this);break}b=1}}this.O=0;this.ma[this.ja()].call(this)}while(0<this.A);return this.flags.complete?this.Mc-this.A:void 0===this.flags.complete?0:-1};var cg=512;
Jb(function(){for(var a=cc("pcx86","cpu"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new af(d);bc(d,c)}});
function Vh(a){Sb.call(this,"FPU",a);this.model=this.hh.model||8087;this.G=new Float64Array(8);this.M=new Int32Array(this.G.buffer);this.Y=new Float32Array(1);this.fa=new Int32Array(this.Y.buffer);this.L=new Float64Array(1);this.H=new Int32Array(this.L.buffer);this.F=Array(3);this.O=this.P=-1;this.I=this.K=this.T=this.B=0;this.V=new Float64Array(1);this.Z=new Int32Array(this.V.buffer);this.Z[0]=0;this.Z[1]=268402688;Wh(this);this.ba=Vh.prototype.kh;this.aa=Vh.prototype.xj}sa(Vh,Sb);p=Vh.prototype;
p.Mb=function(a,b){if(!b)if(!a||!this.restore)Wh(this);else if(!this.restore(a))return!1;return!0};p.Lb=function(a){return a?this.save():!0};p.save=function(){var a=new Yg(this),b=[],c=0;b[c++]=this.Sb;b[c++]=Xh(this);b[c++]=Yh(this);for(var d=0;d<this.G.length;d++)b[c++]=this.G[d];a.set(0,b);return a.data()};p.restore=function(a){a=a[0];var b=0;this.Sb=a[b++]&-57409;var c=a[b++];this.A=c&-14337;this.C=(c&14336)>>11;Zh(this);$h(this,a[b++]);for(c=0;c<this.G.length;c++)this.G[c]=a[b++];return!0};
function Wh(a){a.D=0;a.Sb=959;a.A=0;a.C=0;a.la&&(a=a.la,a.model>=ii&&ji(a,ki))}function Zh(a){a.A&=-129;a.A&~a.Sb&63&&(a.A|=128);if(a.A&128&&!(a.Sb&128))return a=a.la,a.model>=ii?li(a,ki):a.G&mi&&Sh.call(a.J,2),!0;a=a.la;a.model>=ii&&ji(a,ki);return!1}function ni(a,b){80387<=a.model||(b&=-65);a.A|=b;return Zh(a)}function Xh(a){return a.A|a.C<<11}function oi(a,b){return isFinite(b)?!0:!ni(a,Infinity===b?8:16)}function pi(a,b,c){var d=null;null!=b&&null!=c&&(d=b+c,oi(a,d)||(d=null));return d}
function qi(a,b,c){var d=null;null!=b&&null!=c&&(d=b-c,oi(a,d)||(d=null));return d}function ri(a,b,c){var d=null;null!=b&&null!=c&&(d=b*c,oi(a,d)||(d=null));return d}function si(a,b,c){var d=null;null==b||null==c||!c&&ni(a,2)||(d=b/c,oi(a,d)||(d=null));return d}function ti(a,b,c){if(null!=b&&null!=c){var d=0;isNaN(b)||isNaN(c)?d=17664:(b-=c,0>b?d=256:0===b&&(d=16384));a.A=a.A&-18177|d;return!0}return!1}
function ui(a,b,c){if(null==b)return null;var d=a.Sb&3072;0==d?(d=Math.round(b),.5===d-b&&d%2&&d--):d=1024==d||3072==d&&0<b?Math.floor(b):Math.ceil(b);if(c){if(d>=c){if(ni(a,1))return null;d=-c}else if(d<-c){if(ni(a,1))return null;d=-c}a.H[0]=d|0;2147483648<c&&(a.H[1]=d/4294967296|0,!a.H[1]&&0>d&&(a.H[1]=-1))}return d}function vi(a,b){var c=3;a.D&1<<b&&(a=a.G[b],c=0,0===a?c=1:isFinite(a)||(c=2));return c}function Yh(a){for(var b=0,c=a.G.length-1;0<=c;c--)b<<=2,b|=vi(a,c);return b}
function $h(a,b){a.D=0;for(var c=1;128>=c;c<<=1)3!=(b&3)&&(a.D|=c),b>>=2}function wi(a){var b=a.C+0&7;return a.D&1<<b?(a.Y[0]=a.G[b],!0):ni(a,1)?!1:(a.Y[0]=a.V[0],!0)}function xi(a){var b=a.C+0&7;return a.D&1<<b?(a.L[0]=a.G[b],!0):ni(a,1)?!1:(a.L[0]=a.V[0],!0)}function O(a,b){var c=null;b=a.C+b&7;a.D&1<<b?c=a.G[b]:ni(a,1)||(c=a.V[0]);return c}function P(a,b,c){return null!=c&&(isNaN(c)?!ni(a,1):1)?(b=a.C+b&7,a.G[b]=c,a.D|=1<<b,!0):!1}
function yi(a,b,c){var d=null;b=a.C+b&7;if(c||a.D&1<<b||!ni(a,1))c=b<<1,d=zi(a,a.M[c],a.M[c+1]);return d}function Ai(a){return a.J.ea(a.J.C)<<16>>16}function Bi(a){return a.J.da(a.J.C)}function Ci(a){a.fa[0]=a.J.da(a.J.C);return a.Y[0]}function Di(a){a.H[0]=a.J.da(a.J.C);a.H[1]=a.J.da(a.J.C+4);return a.L[0]}function Ei(a){a.F[0]=a.J.da(a.J.C);a.F[1]=a.J.da(a.J.C+4);a.F[2]=a.J.ea(a.J.C+8);return a.F}p.kh=function(){this.J.Sa(this.J.C,this.H[0])};
p.xj=function(){this.J.Sa(this.J.C,this.H[0]);this.J.Sa(this.J.C+4,this.H[1])};function Fi(a){a.J.Sa(a.J.C,a.F[0]);a.J.Sa(a.J.C+4,a.F[1]);a.J.Ta(a.J.C+8,a.F[2])}function Gi(a,b){var c=b[1],d=(b[2]&32768)>>4,e=b[2]&32767;b=b[0]>>>11|c<<21;c=c>>11&1048575;32767==e?e=2047:e&&(e+=-15360,0>=e&&(e=2047,b=c=0));a.H[0]=b;a.H[1]=c|(d|e)<<20;return a.L[0]}
function zi(a,b,c){var d=c>>20&2047,e=2147483648|(c&1048575)<<11|b>>>21;2047==d?d=32767:d?d+=15360:e&=2147483647;a.F[0]=b<<11;a.F[1]=e;a.F[2]=c>>16&32768|d;return a.F}function Hi(a,b){for(var c=0,d=1;b--;)c+=(a&15)*d,d*=10,a>>=4;return c}function Ii(a,b){for(var c=0,d=0;b--;)c|=a%10<<d,a/=10,d+=4;return c}function Ji(a){var b=null,c=1<<a.C;if(!(a.D&c)&&(a.A&=-513,ni(a,65)))return b;a.D&=~c;b=a.G[a.C];a.C=a.C+1&7;return b}
function Ki(a,b){if(null!=b){var c=a.C-1&7,d=1<<c;if(a.D&d&&(a.A|=512,ni(a,65)))return;if(isNaN(b)&&ni(a,1)){if(ni(a,1))return;b=NaN}a.G[a.C=c]=b;a.D|=d}}
function Li(a,b){var c=a.J;var d=c.$a(b);a.Sb=d&-57409;d=c.$a(b+=c.U);a.A=d&-14337;a.C=(d&14336)>>11;Zh(a);$h(a,c.$a(b+=c.U));!(c.ia&1)||c.P&131072?(a.I=c.$a(b+=c.U),d=c.$a(b+=c.U),a.T=d&2047,a.I|=(d&-4096)<<4,a.O=-1,a.K=c.$a(b+=c.U),a.K|=(c.$a(b+=c.U)&-4096)<<4,a.P=-1):(a.I=c.$a(b+=c.U),d=c.$a(b+=c.U),a.O=d&65535,a.T=d>>16&2047,a.K=c.$a(b+=c.U),a.P=c.$a(b+=c.U)&65535);return b+c.U}
function Mi(a,b){var c=a.J;c.Fb(b,a.Sb);c.Fb(b+=c.U,Xh(a));c.Fb(b+=c.U,Yh(a));if(!(c.ia&1)||c.P&131072){var d=(a.O<<4)+a.I;c.Fb(b+=c.U,d);c.Fb(b+=c.U,d>>4&-4096|a.T);d=(a.P<<4)+a.K;c.Fb(b+=c.U,d);c.Fb(b+=c.U,d>>4&-4096)}else c.Fb(b+=c.U,a.I),c.Fb(b+=c.U,a.O|a.T<<16),c.Fb(b+=c.U,a.K),c.Fb(b+=c.U,a.P);return b+c.U}function Ni(){this.A&=-32896;Zh(this)}function Oi(){ti(this,O(this,0),O(this,this.B))}function Pi(){ti(this,O(this,0),O(this,this.B))&&Ji(this)}function Qi(){Pi.call(this)}
function Ri(){P(this,0,si(this,O(this,0),Ci(this)))}function Si(){this.D&=~(1<<this.C)}function Ti(){Wh(this)}function Ui(){this.Sb=this.J.ea(this.J.C)&-57409}function Vi(){Li(this,this.J.C)}function Wi(){for(var a=this.J,b=Li(this,a.C),c=this.F,d=0;d<this.G.length;d++)c[0]=a.da(b),c[1]=a.da(b+=4),c[2]=a.ea(b+=4),c&&P(this,d,Gi(this,c)),b+=2}function Xi(){for(var a=this.J,b=Mi(this,a.C),c=0;c<this.G.length;c++){var d=yi(this,c,!0);a.Sa(b,d[0]);a.Sa(b+=4,d[1]);a.Ta(b+=4,d[2]);b+=2}Wh(this)}
function Yi(){Mi(this,this.J.C);this.Sb|=63}function Zi(){P(this,this.B,O(this,0))&&Ji(this)}function $i(){Zi.call(this)}function aj(){this.J.Ta(this.J.C,this.Sb)}function bj(){this.J.Ta(this.J.C,Xh(this))}function cj(){80287<=this.model&&(this.J.D=this.J.D&-65536|Xh(this))}function dj(){var a=O(this,0);P(this,0,O(this,this.B));P(this,this.B,a)}function ej(){dj.call(this)}
var fj=Math.log(10)/Math.LN2,gj=Math.LOG2E,hj=Math.PI,ij=Math.log(2)/Math.LN10,jj=Math.LN2,kj=Math.pow(2,63),lj={216:{0:function(){P(this,0,pi(this,O(this,0),Ci(this)))},1:function(){P(this,0,ri(this,O(this,0),Ci(this)))},2:function(){ti(this,O(this,0),Ci(this))},3:function(){ti(this,O(this,0),Ci(this))&&Ji(this)},4:function(){P(this,0,qi(this,O(this,0),Ci(this)))},5:function(){P(this,0,qi(this,Ci(this),O(this,0)))},6:Ri,7:Ri,48:function(){P(this,0,pi(this,O(this,0),O(this,this.B)))},49:function(){P(this,
0,ri(this,O(this,0),O(this,this.B)))},50:Oi,51:Pi,52:function(){P(this,0,qi(this,O(this,0),O(this,this.B)))},53:function(){P(this,0,qi(this,O(this,this.B),O(this,0)))},54:function(){P(this,0,si(this,O(this,0),O(this,this.B)))},55:function(){P(this,0,si(this,O(this,this.B),O(this,0)))}},217:{0:function(){Ki(this,Ci(this))},2:function(){wi(this)&&this.ba()},3:function(){wi(this)&&(this.ba(),Ji(this))},4:Vi,5:Ui,6:Yi,7:aj,48:function(){Ki(this,O(this,this.B))},49:dj,50:function(){},51:$i,64:function(){P(this,
0,-O(this,0))},65:function(){P(this,0,Math.abs(O(this,0)))},68:function(){ti(this,O(this,0),0)},69:function(){this.A&=-18177;this.M[((this.C+0&7)<<1)+1]&-2147483648&&(this.A|=512);if(3==vi(this,this.C))this.A|=16640;else{var a=O(this,0);this.A=isNaN(a)?this.A|256:0===a?this.A|16384:Infinity===a||-Infinity===a?this.A|1280:this.A|1024}},80:function(){Ki(this,1)},81:function(){Ki(this,fj)},82:function(){Ki(this,gj)},83:function(){Ki(this,hj)},84:function(){Ki(this,ij)},85:function(){Ki(this,jj)},86:function(){Ki(this,
0)},96:function(){P(this,0,Math.pow(2,O(this,0))-1)},97:function(){P(this,1,O(this,1)*Math.log(O(this,0))/Math.LN2)&&Ji(this)},98:function(){P(this,0,Math.tan(O(this,0)))&&Ki(this,1)},99:function(){P(this,1,Math.atan2(O(this,1),O(this,0)))&&Ji(this)},100:function(){var a=O(this,0);null!=a&&(this.L[0]=a,P(this,0,(this.H[1]>>20&2047)-1023),this.H[1]=(this.H[1]|1072693248)&-1073741825,Ki(this,this.L[0]))},102:function(){this.C=this.C-1&7;this.A&=-513},103:function(){this.C=this.C+1&7;this.A&=-513},112:function(){P(this,
0,O(this,0)%O(this,1))},113:function(){P(this,1,O(this,1)*Math.log(O(this,0)+1)/Math.LN2)&&Ji(this)},114:function(){var a=O(this,0),b=null;if(0<=a||!ni(this,1))b=Math.sqrt(a),oi(this,b)||(b=null);P(this,0,b)},116:function(){P(this,0,ui(this,O(this,0),kj))},117:function(){var a=O(this,0),b=O(this,1);null!=a&&null!=b&&P(this,0,a*Math.pow(2,0<b?Math.floor(b):Math.ceil(b)))}},218:{0:function(){P(this,0,pi(this,O(this,0),Bi(this)))},1:function(){P(this,0,ri(this,O(this,0),Bi(this)))},2:function(){ti(this,
O(this,0),Bi(this))},3:function(){ti(this,O(this,0),Bi(this))&&Ji(this)},4:function(){P(this,0,qi(this,O(this,0),Bi(this)))},5:function(){P(this,0,qi(this,Bi(this),O(this,0)))},6:function(){P(this,0,si(this,O(this,0),Bi(this)))},7:function(){P(this,0,si(this,Bi(this),O(this,0)))}},219:{0:function(){Ki(this,Bi(this))},2:function(){null!=ui(this,O(this,0),2147483648)&&this.kh()},3:function(){null!=ui(this,O(this,0),2147483648)&&(this.kh(),Ji(this))},5:function(){Ki(this,Gi(this,Ei(this)))},7:function(){yi(this,
0)&&(Fi(this),Ji(this))},64:function(){8087==this.model&&(this.Sb&=-129)},65:function(){8087==this.model&&(this.Sb|=128)},66:Ni,67:Ti,68:function(){},115:function(){}},220:{0:function(){P(this,0,pi(this,O(this,0),Di(this)))},1:function(){P(this,0,ri(this,O(this,0),Di(this)))},2:function(){ti(this,O(this,0),Di(this))},3:function(){ti(this,O(this,0),Di(this))&&Ji(this)},4:function(){P(this,0,qi(this,O(this,0),Di(this)))},5:function(){P(this,0,qi(this,Di(this),O(this,0)))},6:function(){P(this,0,si(this,
O(this,0),Di(this)))},7:function(){P(this,0,si(this,Di(this),O(this,0)))},48:function(){P(this,this.B,pi(this,O(this,this.B),O(this,0)))},49:function(){P(this,this.B,ri(this,O(this,this.B),O(this,0)))},50:function(){Oi.call(this)},51:Qi,52:function(){P(this,this.B,qi(this,O(this,0),O(this,this.B)))},53:function(){P(this,this.B,qi(this,O(this,this.B),O(this,0)))},54:function(){P(this,this.B,si(this,O(this,0),O(this,this.B)))},55:function(){P(this,this.B,si(this,O(this,this.B),O(this,0)))}},221:{0:function(){Ki(this,
Di(this))},2:function(){xi(this)&&this.aa()},3:function(){xi(this)&&(this.aa(),Ji(this))},4:Wi,6:Xi,7:bj,48:Si,49:ej,50:function(){P(this,this.B,O(this,0))},51:Zi},222:{0:function(){P(this,0,pi(this,O(this,0),Ai(this)))},1:function(){P(this,0,ri(this,O(this,0),Ai(this)))},2:function(){ti(this,O(this,0),Ai(this))},3:function(){ti(this,O(this,0),Ai(this))&&Ji(this)},4:function(){P(this,0,qi(this,O(this,0),Ai(this)))},5:function(){P(this,0,qi(this,Ai(this),O(this,0)))},6:function(){P(this,0,si(this,
O(this,0),Ai(this)))},7:function(){P(this,0,si(this,Ai(this),O(this,0)))},48:function(){P(this,this.B,pi(this,O(this,this.B),O(this,0)))&&Ji(this)},49:function(){P(this,this.B,ri(this,O(this,this.B),O(this,0)))&&Ji(this)},50:Qi,51:function(){ti(this,O(this,0),O(this,1))&&null!=Ji(this)&&Ji(this)},52:function(){P(this,this.B,qi(this,O(this,0),O(this,this.B)))&&Ji(this)},53:function(){P(this,this.B,qi(this,O(this,this.B),O(this,0)))&&Ji(this)},54:function(){P(this,this.B,si(this,O(this,0),O(this,this.B)))&&
Ji(this)},55:function(){P(this,this.B,si(this,O(this,this.B),O(this,0)))&&Ji(this)}},223:{0:function(){Ki(this,Ai(this))},2:function(){null!=ui(this,O(this,0),32768)&&this.J.Ta(this.J.C,this.H[0])},3:function(){null!=ui(this,O(this,0),32768)&&(this.J.Ta(this.J.C,this.H[0]),Ji(this))},4:function(){var a=Ei(this),b=Hi(a[0],8)+1E8*Hi(a[1],8)+1E16*Hi(a[2],2);a[2]&32768&&(b=-b);Ki(this,b)},5:function(){var a=this.J.da(this.J.C);a=4294967296*this.J.da(this.J.C+4)+(a>>>0);Ki(this,a)},6:function(){var a=
ui(this,Ji(this));null!=a&&(this.F[0]=Ii(a,8),this.F[1]=Ii(a/1E8,8),this.F[2]=Ii(a/1E16,2),0>a&&(this.F[2]|=32768),Fi(this))},7:function(){null!=ui(this,O(this,0),kj)&&(this.xj(),Ji(this))},48:function(){Si.call(this);Ji(this)},49:ej,50:$i,51:$i,52:cj}},mj=[Ni,Ti,Ui,Vi,Wi,Xi,aj,Yi,bj,cj];Jb(function(){for(var a=cc("pcx86","fpu"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Vh(d);bc(d,c)}});
function kg(a,b,c,d){this.vb=a;this.ga=a.ga;this.id=b;this.Se=c||"";this.W=0;this.Ra=65535;this.Bb=this.Ra+1;this.ob=this.ec=this.ext=this.gb=this.type=this.pa=0;this.Db=-1;this.U=this.ac=2;this.R=this.oa=65535;this.H=this.sg;this.G=this.F=this.jf;this.A={W:-1,pa:0,Ra:0,gb:0,type:0,ext:0,Db:-1};1==this.id&&(this.Oe=0,this.B=null,this.fe=!1,this.D=Array(32),this.C=[]);Xg(this,!0,d);0==this.id&&(this.Gb=this.ib=this.Ch)}p=kg.prototype;p.sg=function(a){this.W=a&65535;return this.pa=this.W<<4};
p.xf=function(a,b){var c=this.vb;a&=65535;if(a&4){var d=c.nb.pa;var e=d+c.nb.Ra|0}else d=c.wb,e=c.qc;if(d){d=d+(a&65528)|0;if(e-d|0)return c.A-=15,nj(this,d,a,b);this.id<tg&&I.call(c,b&&this.id==ng?10:13,a&65532)}return-1};p.ql=function(a){var b=this.vb;a=b.zb+(a<<2);var c=b.ea(a);b.P&=-769;return this.load(b.ea(a+2))+c|0};p.pl=function(a){var b=this.vb;a<<=3;var c=b.zb+a|0;if(7<=(b.Fc-c|0))return this.B=!0,a=nj(this,c,a),-1!==a&&(a+=this.Oe),a;I.call(b,13,a|2);return-1};
p.Ch=function(a){return this.pa+a|0};p.jf=function(a,b){(a>>>0)+b>this.Bb&&(8088>=this.vb.model?this.vb.O|=8:I.call(this.vb,13));return this.pa+a|0};p.Bh=function(a,b){return(a>>>0)+b<=this.Bb?this.pa+a|0:this.hf(a,b)};p.$k=function(a,b){return(a>>>0)+b>this.Bb?this.pa+a|0:this.hf(a,b)};p.hf=function(){I.call(this.vb,13,0);return-1};p.Dh=function(a,b){return(a>>>0)+b<=this.Bb?this.pa+a|0:this.kf(a,b)};p.al=function(a,b){return(a>>>0)+b>this.Bb?this.pa+a|0:this.kf(a,b)};
p.kf=function(){I.call(this.vb,13,0);return-1};function oj(a,b,c,d,e){a.W=b;a.pa=d;a.Ra=e;a.Bb=(e>>>0)+1;a.gb=c;a.type=c&7936;a.ext=c>>16&192;a.Db=(b&4?a.vb.nb.pa:a.vb.wb)+(b&65528)|0;a.id<sg&&Xg(a,!0)}function pj(a,b,c){var d=a.vb,e=d.ea(b+2),f=d.ea(b)|(e&255)<<16;d=d.ea(b+4);a.W=c;a.pa=f;a.Ra=d;a.Bb=(d>>>0)+1;a.gb=e;a.type=e&7936;a.ext=0;a.Db=b;a.id<sg&&Xg(a,!0)}
function nj(a,b,c,d){var e=a.vb;if(!d&&c===a.A.W)return a.W=c,a.pa=a.A.pa,a.Ra=a.A.Ra,a.Bb=(a.A.Ra>>>0)+1,a.gb=a.A.gb,a.type=a.A.type,a.ext=a.A.ext,a.Db=a.A.Db,a.A.W=-1,Xg(a,!0,!0,!1),a.pa;a.A.W=-1;var f=e.ea(b),g=e.ea(b+4),h=g&7936,k=e.ea(b+2)|(g&255)<<16,l=e.ea(b+6),n=c&65528;if(80386<=e.model){var m=f;k|=(l&65280)<<16;f|=(l&15)<<16;l&128&&(f=f<<12|4095)}var q;switch(a.id){case lg:var u=a.B;a.fe=!1;if(u&&c==qj&&a.C.length&&(q=a.C[a.Oe-1])&&!q())return-1;var x=c&3;var y=(g&24576)>>13;q=-1;n||b>=
e.wb&&b<e.qc&&(h=0);if(6144<=h)null!=d?q=0:!1!==u?(h&1024?y<=a.ob&&(q=0):x<=a.ob&&y==a.ob&&(q=0),q||(c=c&-4|a.ob&3)):x>=a.ob&&(x>a.ob&&(q=Mh(e),og(e,Mh(e),!0),F(e,q),a.fe=!0),q=0);else{if(256==h||2304==h)return rj(a,c,u)?a.pa:-1;if(1024==h){q=2;var z=0;x<a.ob&&(x=a.ob)}else if(3072==h)q=4,z=0,x<a.ob&&(x=a.ob);else if(1536==h)q=2,z=148224;else if(3584==h)q=4,z=148224;else if(1792==h)q=2,z=147712;else if(3840==h)q=4,z=147712;else if(1280==h)return rj(a,k&65535,u)?a.pa:-1}0<q&&!(g&32768)&&(q=0);if(0<
q){n=a.ob;var D=b==e.zb+c;if(x<=y&&(!D||0<=e.Wc||n<=y)){b=k&65535;h&2048&&(f=m|l<<16);l=h=0;d=b&3;if(d<n){if(-1===a.xf(b,!0))return-1;l=e.ha.pa;e.ha.type&2048?(c=(d<<3)+4,m=4):(c=(d<<2)+2,m=2);h=e.ea(l+c+m);if(!h)return I.call(e,10,h),-1;if(-1===e.T.xf(h,!0))return-1;l=2==m?e.ea(l+c):e.da(l+c)}c=e.P;e.P&=~z;c&131072&&vg(e,!0,!1);if(-1===a.xf(b,!1))return-1;Pg(e,q);a.Oe=f;if(d<n){if(!0!==u)return-1;q=C(e);f=0;for(g&=31;g--;)a.D[f++]=Jh(e,e.T,q),q+=2;u=e.T.W;g=C(e);og(e,h,!0);F(e,l);c&131072&&(Pg(e,
4),Oh(e,e.Ga.W,4,2),e.Ga.load(0),Oh(e,e.Fa.W,4,2),e.Fa.load(0),Oh(e,e.wa.W,4,2),ah(e,0),Oh(e,e.ka.W,4,2),bh(e,0));Oh(e,u,e.U,2);for(Nh(e,g);f;)Nh(e,a.D[--f]);a.fe=!0}return a.pa}}if(0!=q)return I.call(e,13,c&65532|(D?2:0)),-1;if(!(g&32768))return I.call(e,11,c&65532|(D?2:0)),-1;break;case mg:if(n){if(4096>h||2048==(h&2560))return I.call(e,13,c&65532),-1;if(!(g&32768))return I.call(e,11,c&65532),-1}break;case ng:if(!n||4096>h||512!=(h&2560))return I.call(e,13,c&65532),-1;if(!(g&32768))return I.call(e,
12,c&65532),-1;break;case sg:u=h&-513;if(!n||256!=u&&2304!=u)return I.call(e,13,c&65532),-1;2304==u&&(a.wh=k+e.ea(k+102)>>>0,a.Nk=k+a.Ra>>>0);break;case tg:if(!(h&4096)&&768<h&&2304!=h&&2816!=h)return-1}d?(a.A.W=c,a.A.pa=k,a.A.Ra=f,a.A.gb=g,a.A.type=h,a.A.ext=l,a.A.Db=b):(a.W=c,a.pa=k,a.Ra=f,a.Bb=(f>>>0)+1,a.gb=g,a.type=h,a.ext=l,a.Db=b,Xg(a,!0,!0,!1));return k}
function rj(a,b,c){var d=a.vb,e=a.ob,f=d.ha.W,g=d.ha.pa;if(!c){if(!(d.ha.type&512))return I.call(d,13,b&65532),!1;d.Ta(d.ha.Db+4,d.ha.gb&=-513)}if(-1===d.ha.load(b))return!1;var h=d.ha.pa;if(!1!==c){if(d.ha.type&512)return I.call(d,13,b&65532),!1;d.Ta(d.ha.Db+4,d.ha.gb|=512)}d.ha.type=d.ha.type&-513|d.ha.gb&512;256==d.ha.type||768==d.ha.type?(d.Ta(g+14,G(d)),d.Ta(g+16,Tg(d)),d.Ta(g+18,d.D),d.Ta(g+20,d.H),d.Ta(g+22,d.L),d.Ta(g+24,d.G),d.Ta(g+26,C(d)),d.Ta(g+28,d.M),d.Ta(g+30,d.K),d.Ta(g+32,d.I),d.Ta(g+
34,d.ka.W),d.Ta(g+36,d.aa.W),d.Ta(g+38,d.T.W),d.Ta(g+40,d.wa.W),d.nb.load(d.ea(h+42)),ug(d,d.ea(h+16)|(c?16384:0)),d.D=d.ea(h+18),d.H=d.ea(h+20),d.L=d.ea(h+22),d.G=d.ea(h+24),d.M=d.ea(h+28),d.K=d.ea(h+30),d.I=d.ea(h+32),d.ka.load(d.ea(h+34)),d.wa.load(d.ea(h+40)),qg(d,d.ea(h+14),d.ea(h+36)),b=38,g=26,a.ob<e&&(g=(a.ob<<2)+2,b=g+2),og(d,d.ea(h+b),!0),F(d,d.ea(h+g))):(d.Sa(g+28,d.Rb),d.Sa(g+32,G(d)),d.Sa(g+36,Tg(d)),d.Sa(g+40,d.D),d.Sa(g+44,d.H),d.Sa(g+48,d.L),d.Sa(g+52,d.G),d.Sa(g+56,C(d)),d.Sa(g+60,
d.M),d.Sa(g+64,d.K),d.Sa(g+68,d.I),d.Sa(g+72,d.ka.W),d.Sa(g+76,d.aa.W),d.Sa(g+80,d.T.W),d.Sa(g+84,d.wa.W),d.Sa(g+88,d.Fa.W),d.Sa(g+92,d.Ga.W),b=d.da(h+28),d.Rb=b,Ad(d),d.nb.load(d.ea(h+96)),ug(d,d.da(h+36)|(c?16384:0)),d.D=d.da(h+40),d.H=d.da(h+44),d.L=d.da(h+48),d.G=d.da(h+52),d.M=d.da(h+60),d.K=d.da(h+64),d.I=d.da(h+68),d.ka.load(d.ea(h+72)),d.wa.load(d.ea(h+84)),d.Fa.load(d.ea(h+88)),d.Ga.load(d.ea(h+92)),qg(d,d.da(h+32),d.ea(h+76)),b=80,g=56,a.ob<e&&(g=(a.ob<<3)+4,b=g+4),og(d,d.ea(h+b),!0),F(d,
d.da(h+g)));c&&d.Ta(h+0,f);d.ia|=8;return!0}p.save=function(){return[this.W,this.pa,this.Ra,this.gb,this.id,this.Se,this.ob,this.ec,this.Db,this.ac,this.oa,this.U,this.R,this.type,this.Bb]};p.restore=function(a){"number"==typeof a?this.load(a):(this.W=a[0],this.pa=a[1],this.Ra=a[2],this.gb=a[3],this.id=a[4],this.Se=a[5],this.ob=a[6],this.ec=a[7],this.Db=a[8],this.ac=a[9]||2,this.oa=a[10]||65535,this.U=a[11]||2,this.R=a[12]||65535,this.type=a[13]||this.gb&7936,this.Bb=a[14]||(this.Ra>>>0)+1)};
function Xg(a,b,c,d){void 0===c&&(c=!!(a.vb.ia&1));a.Qc=!1;if(c)if(a.load=a.xf,a.Th=a.pl,a.ib=a.Bh,a.Gb=a.Dh,void 0===d&&(d=!!(a.vb.P&131072)),d)a.load=a.H,a.ib=a.F,a.Gb=a.G,a.ob=a.ec=3,a.U=a.ac=2,a.R=a.oa=65535,a.Ra=65535,a.Bb=a.Ra+1,a.Db=-1,a.fe=!1;else{if(!(a.W&-4))a.ib=a.hf,a.Gb=a.kf;else if(a.type&4096){6144==(a.type&6656)&&(a.ib=a.hf);if(a.type&2048||!(a.type&512))a.Gb=a.kf;1024==(a.type&3072)&&(a.ib==a.Bh&&(a.ib=a.$k),a.Gb==a.Dh&&(a.Gb=a.al),a.Qc=!0);b&&a.id<tg&&a.W&-4&&-1!==a.Db&&(c=a.Db+
5,d=a.vb.ra(c),d&1||a.vb.kb(c,d|1))}b&&(a.ob=a.W&3,a.ec=(a.gb&24576)>>13,80386>a.vb.model||!(a.ext&64)?(a.U=2,a.R=65535):(a.U=4,a.R=-1),a.ac=a.U,a.oa=a.R)}else a.load=a.sg,a.Th=a.ql,a.ib=a.jf,a.Gb=a.jf,a.ob=a.ec=0,a.Db=-1,a.fe=!1}var pg=0,lg=1,mg=2,ng=3,sg=4,rg=5,tg=6,qj=1;function sj(a,b){var c=a+b+sh(this)|0;fh(this,a,b,c,191);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&255}
function tj(a,b){var c=a+b+sh(this)|0;fh(this,a,b,c,this.rb|63);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&this.R}function uj(a,b){var c=a+b|0;fh(this,a,b,c,191);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&255}function vj(a,b){var c=a+b|0;fh(this,a,b,c,this.rb|63);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&this.R}
function wj(a,b){a&=b;mh(this,a,128);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return a}function xj(a,b){this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return mh(this,a&b,this.rb)&this.R}function yj(a,b){this.A-=10+(-1===this.C?0:1);if((a&3)<(b&3))return a=a&-4|b&3,wh(this),a;uh(this);return a}
function zj(a){if(-1===this.C)return I.call(this,6),a;var b=a,c=this.$a(this.C),d=this.$a(this.C+this.U);2==this.U&&(b=a<<16>>16,c=c<<16>>16,d=d<<16>>16);this.A-=this.B.ai;(b<c||b>d)&&I.call(this,5);this.O|=2;return a}function Aj(a,b){var c=0;if(b){uh(this);for(var d=1;d&this.R;){if(b&d){a=c;break}d<<=1;c++}}else wh(this);this.A-=11+3*c;return a}function Bj(a,b){var c=0;if(b){uh(this);for(var d=2==this.U?15:31,e=1<<d;e;){if(b&e){a=d;break}e>>>=1;c++;d--}}else wh(this);this.A-=11+3*c;return a}
function Cj(a,b){a&1<<(b&(2==this.U?15:31))?nh(this):oh(this);this.A-=-1===this.C?3:6;this.O|=2;return a}function Dj(a,b){b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=-1===this.C?6:8;return a^b}function Ej(a,b){b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=-1===this.C?6:8;return a&~b}function Fj(a,b){b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=-1===this.C?6:8;return a|b}
function Gj(a,b){if(-1===this.C)return Cj.call(this,a,b);var c=this.U<<3;if(b>=c||b<-c)a=Ch(this,this.xa,this.Ia+(b>>(2==this.U?4:5))*this.U);b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=6;this.O|=2;return a}function Hj(a,b){if(-1===this.C)return Dj.call(this,a,b);var c=this.U<<3;if(b>=c||b<-c)a=Ch(this,this.xa,this.Ia+(b>>(2==this.U?4:5))*this.U);b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=8;return a^b}
function Ij(a,b){if(-1===this.C)return Ej.call(this,a,b);var c=this.U<<3;if(b>=c||b<-c)a=Ch(this,this.xa,this.Ia+(b>>(2==this.U?4:5))*this.U);b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=8;return a&~b}function Jj(a,b){if(-1===this.C)return Fj.call(this,a,b);var c=this.U<<3;if(b>=c||b<-c)a=Ch(this,this.xa,this.Ia+(b>>(2==this.U?4:5))*this.U);b=1<<(b&(2==this.U?15:31));a&b?nh(this):oh(this);this.A-=8;return a|b}
function Kj(a,b){fh(this,a,b,a-b|0,191,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.Bg:this.B.yb;this.O|=2;return a}function Lj(a,b){fh(this,a,b,a-b|0,this.rb|63,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.Bg:this.B.yb;this.O|=2;return a}
function Mj(a){if(this.rc){var b=this.rc,c=this.Dj,d=this.ba,e=d>>3&7;b.B=d&7;var f=(3>(d>>6&3)?0:48)+e;(217==c||219==c)&&52<=f&&(f=e<<4|b.B);if(e=lj[c][f]){if(0>mj.indexOf(e)){f=b.J;var g=f.uc;8087==b.model&&(f.Z&16&&g++,f.Z&32&&g++);b.O=f.aa.W;b.I=g-f.aa.pa;-1!==f.C&&(b.P=f.xa.W,b.K=f.C-f.xa.pa);b.T=(c&7)<<8|d}e.call(b)}}this.A-=-1===this.C?2:8;return a}function Nj(a,b){if(80186>this.model)return Oj.call(this,a,b);I.call(this,13,0);return a}function xf(a){I.call(this,6);return a}
function Oj(a){wf.call(this);return a}function Pj(a,b){a=Qj.call(this,this.S(),b);80386>this.model&&(this.A-=12);return a}function Rj(a,b){a=this.Ca();a=2==this.U?Qj.call(this,a,b):Sj.call(this,a,b);80386>this.model&&(this.A-=12);return a}function Tj(a,b){var c=!1;0>b&&(b=-b|0,c=!c);0>a&&(a=-a|0,c=!c);Uj.call(this,a,b);c&&(this.Aa=~this.Aa+1|0,this.Qa=~this.Qa+(this.Aa?0:1)|0)}
function Qj(a,b){a=(a<<16>>16)*(b<<16>>16)|0;32767<a||-32768>a?(nh(this),ph(this)):(oh(this),qh(this));this.A-=-1===this.C?9:12;return a&65535}function Sj(a,b){Tj.call(this,a,b);this.Qa!=this.Aa>>31?(nh(this),ph(this)):(oh(this),qh(this));this.A-=-1===this.C?9:12;return this.Aa}function Vj(a,b){this.A-=14+(-1===this.C?0:2);uh(this);-1!==this.fb.load(b)&&this.fb.ec>=this.Ka&&this.fb.ec>=(b&3)&&(wh(this),a=this.fb.gb&-256,2<this.U&&(a|=(this.fb.ext&-65281)<<16));return a}
function Wj(a,b){if(-1===this.C)return wf.call(this),a;ah(this,this.ea(this.C+this.U));this.A-=this.B.he;return b}function Xj(){this.A-=this.B.Di;return this.C}function Yj(a,b){if(-1===this.C)return wf.call(this),a;bh(this,this.ea(this.C+this.U));this.A-=this.B.he;return b}function Zj(a,b){if(-1===this.C)return wf.call(this),a;a=this.ea(this.C+this.U);this.Fa.load(a);this.A-=this.B.he;return b}
function ak(a,b){if(-1===this.C)return wf.call(this),a;a=this.ea(this.C+this.U);this.Ga.load(a);this.A-=this.B.he;return b}function bk(a,b){this.A-=14+(-1===this.C?0:2);if(b&65528&&-1!==this.fb.load(b)&&(7168==(this.fb.gb&7168)||this.fb.ec>=this.Ka)&&this.fb.ec>=(b&3))return wh(this),this.fb.Ra;uh(this);return a}function ck(a,b){if(-1===this.C)return wf.call(this),a;og(this,this.ea(this.C+this.U));this.A-=this.B.he;return b}
function dk(a,b){this.A-=-1===this.F?-1===this.C?this.B.Ki:this.B.Ji:this.B.Hi;return b}function ek(a,b){switch(this.ba>>3&7){case 4:this.ta=this.D;break;case 5:this.ta=this.H;break;case 6:this.ta=this.L;break;case 7:this.ta=this.G}return b}function fk(a,b){return b}
function gk(a,b){var c=this.ba>>3&7;switch(c){case 0:this.ta=this.D;break;case 2:this.ta=this.L;break;case 3:this.ta=this.G;break;default:if(80286==this.model||80386==this.model&&4!=c&&5!=c)I.call(this,6);else switch(c){case 1:this.ta=this.H;break;case 4:this.ta=C(this);break;case 5:this.ta=this.M;break;case 6:this.ta=this.K;break;case 7:this.ta=this.I}}return dk.call(this,a,b)}
function hk(a,b){switch(this.ba>>3&7){case 0:b=this.ka.W;break;case 1:b=this.aa.W;break;case 2:b=this.T.W;break;case 3:b=this.wa.W;break;case 4:if(80386<=this.model){b=this.Fa.W;break}I.call(this,6);b=a;break;case 5:if(80386<=this.model){b=this.Ga.W;break}default:I.call(this,6),b=a}-1!==this.F&&Pg(this,2);return dk.call(this,a,b)}
function Uj(a,b){if(a&-65536||b&-65536){var c=b&65535;b>>>=16;var d=a&65535;a>>>=16;var e=c*d;d=(e>>>16)+b*d;var f=d>>>16;d=(d&65535)+c*a;this.Aa=d<<16|e&65535;this.Qa=f+((d>>>16)+b*a)|0}else this.Aa=a*b|0,this.Qa=0}function ik(a,b){this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return mh(this,a|b,128)}function jk(a,b){this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return mh(this,a|b,this.rb)&this.R}
function kk(a,b){var c=a-b-sh(this)|0;fh(this,a,b,c,191,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&255}function lk(a,b){var c=a-b-sh(this)|0;fh(this,a,b,c,this.rb|63,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&this.R}function mk(){return lh(this)?1:0}function nk(){return gh(this)?1:0}function ok(){return gh(this)?0:1}function pk(){return jh(this)?1:0}function qk(){return jh(this)?0:1}function rk(){return gh(this)||jh(this)?1:0}
function sk(){return gh(this)||jh(this)?0:1}function tk(){return kh(this)?1:0}function uk(){return kh(this)?0:1}function vk(){return hh(this)?1:0}function wk(){return hh(this)?0:1}function xk(){return!kh(this)!=!lh(this)?1:0}function yk(){return!kh(this)!=!lh(this)?0:1}function zk(){return jh(this)||!kh(this)!=!lh(this)?1:0}function Ak(){return jh(this)||!kh(this)!=!lh(this)?0:1}function Bk(a,b){return Ck.call(this,a,b,this.ja())}function Dk(a,b){return Ek.call(this,a,b,this.ja())}
function Fk(a,b){return Ck.call(this,a,b,this.H&31)}function Gk(a,b){return Ek.call(this,a,b,this.H&31)}function Hk(a,b){return Ik.call(this,a,b,this.ja())}function Jk(a,b){return Kk.call(this,a,b,this.ja())}function Lk(a,b){return Ik.call(this,a,b,this.H&31)}function Mk(a,b){return Kk.call(this,a,b,this.H&31)}function Nk(a,b){var c=a-b|0;fh(this,a,b,c,191,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&255}
function Ok(a,b){var c=a-b|0;fh(this,a,b,c,this.rb|63,!0);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return c&this.R}function Pk(a,b){mh(this,a&b,128);this.A-=-1===this.F?-1===this.C?this.B.eh:this.B.Me:this.B.Me;this.O|=2;return a}function Qk(a,b){mh(this,a&b,this.rb);this.A-=-1===this.F?-1===this.C?this.B.eh:this.B.Me:this.B.Me;this.O|=2;return a}function Rk(a,b){var c=this.D&this.R,d=(1<<(this.H&31))-1;return a&~(d<<c)|(b&d)<<c}
function Sk(a,b){return b>>(this.D&this.R)&(1<<(this.H&31))-1&this.R}function Tk(a,b){if(-1===this.C){switch(this.ba&7){case 0:this.D=this.D&-256|a;break;case 1:this.H=this.H&-256|a;break;case 2:this.L=this.L&-256|a;break;case 3:this.G=this.G&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.H=this.H&-65281|a<<8;break;case 6:this.L=this.L&-65281|a<<8;break;case 7:this.G=this.G&-65281|a<<8}this.A-=this.B.gh}else this.F=this.C,Gh(this,a),this.A-=this.B.fh;return b}
function Uk(a,b){if(-1===this.C){switch(this.ba&7){case 0:this.D=this.D&~this.R|a;break;case 1:this.H=this.H&~this.R|a;break;case 2:this.L=this.L&~this.R|a;break;case 3:this.G=this.G&~this.R|a;break;case 4:F(this,C(this)&~this.R|a);break;case 5:this.M=this.G&~this.R|a;break;case 6:this.K=this.K&~this.R|a;break;case 7:this.I=this.I&~this.R|a}this.A-=this.B.gh}else{this.F=this.C;if(!(this.O&2)){var c=this.xa.Gb(this.Ia,this.U);this.O&8?(this.kb(c,a),this.kb(this.xa.Gb(0,1),a>>8),this.O&=-9):this.Fb(c,
a)}this.A-=this.B.fh}return b}function Vk(a,b){a^=b;mh(this,a,128);this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return a}function Wk(a,b){this.A-=-1===this.F?-1===this.C?this.B.Xb:this.B.yb:this.B.kc;return mh(this,a^b,this.rb)&this.R}function Xk(a,b){var c=a[1]-b[1];c||(c=a[0]-b[0]);return c}function Yk(a){var b=a-1|0;fh(this,a,1,b,this.rb|62,!0);this.A-=2;return a&~this.R|b&this.R}
function Zk(a,b,c){c>>>=0;if(!c||c<=b>>>0)return!1;var d=0,e=1,f=this.jk;f[0]=c>>>0;f[1]=0;c=this.lk;c[0]=a>>>0;for(c[1]=b>>>0;0<Xk(c,f);)b=a=f,a[0]+=b[0],a[1]+=b[1],4294967295<a[0]&&(a[0]>>>=0,a[1]++),e+=e;do 0<=Xk(c,f)&&(a=c,b=f,a[0]-=b[0],a[1]-=b[1],0>a[0]&&(a[0]>>>=0,a[1]--),d+=e),a=f,a[0]>>>=1,a[1]&1&&(a[0]=(a[0]|2147483648)>>>0),a[1]>>>=1,e/=2;while(1<=e);this.Aa=d;this.Qa=c[0];return!0}function zl(a){var b=a+1|0;fh(this,a,1,b,this.rb|62);this.A-=2;return a&~this.R|b&this.R}
function Al(a){this.ia=a|2147483616;vg(this);this.ia&-2147483648?Of(this):eg(this)}function Bl(a){this.O|=1;this.Vb.call(this,a);this.A-=-1===this.C?4:5}function Ck(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a<<c-1;a=(d<<1|b>>>16-c)&65535;mh(this,a,32768,d&32768)}return a}function Ek(a,b,c){if(c){var d=a<<c-1;a=d<<1|b>>>32-c;mh(this,a,-2147483648,d&-2147483648)}return a}function Ik(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a>>>c-1;a=(d>>>1|b<<16-c)&65535;mh(this,a,32768,d&1)}return a}
function Kk(a,b,c){if(c){var d=a>>>c-1;a=d>>>1|b<<32-c;mh(this,a,-2147483648,d&1)}return a}function Cl(){this.A-=-1===this.C?2:this.B.Xi;return 1}function Dl(){var a=this.H&255;this.A-=(-1===this.C?this.B.Xg:this.B.Wg)+(a<<this.B.Yg);return a}function El(){var a=this.ja();this.A-=(-1===this.C?this.B.Xg:this.B.Wg)+(a<<this.B.Yg);return a}function Fl(){return null}function Gl(){return this.ta}
function Hl(a,b){this.Ic=Sg(this);this.vc=this.T.W;this.na=this.za;var c=G(this),d=this.U;null!=qg(this,a,b,!0)&&(Oh(this,this.Ic,d,2),Oh(this,c,d,d));this.Ic=this.vc=this.na=-1}
function Il(a,b,c){this.A-=this.B.wi+(c||0);c=Tg(this);var d=Sg(this),e=G(this);if(6==a&&8088>=this.model&&1741==Jh(this,this.aa,e-2))switch(Jh(this,this.T,this.M+10),Jh(this,this.T,this.M+12),Jh(this,this.T,this.M+6),Jh(this,this.T,this.M+8),this.ra(this.Y)){case 204:if(this.ga&&this.flags.Oa){this.ja();this.N("debugger halting on INT 0x06,0xCC\n");Jl(this.ga);return}}19==a&&8088>=this.model&&this.ga&&513==this.D&&31744==this.G&&0==this.ka.W&&this.Ta(1325,17474);a=this.aa.Th(a);-1!==a&&(Nh(this,
c),Nh(this,d),Nh(this,e),null!=b&&Nh(this,b),this.Wc=-1,ch(this,a))}function Kl(a){this.vc=this.T.W;this.na=this.za;var b=Mh(this),c=Mh(this);a&&F(this,C(this)+a);qg(this,b,c,!1)&&(a&&F(this,C(this)+a),Ll.call(this,this.wa),Ll.call(this,this.ka),80386<=this.model&&(Ll.call(this,this.Fa),Ll.call(this,this.Ga)));2==a&&this.mg&&Ug(this,this.Y);this.vc=this.na=-1}function Ml(){8088>=this.model?Nl.call(this,0,2):I.call(this,0,null,2)}
function Sh(a){var b;this.Wc=a;void 0===b&&(b=11);Il.call(this,a,null,b)}function Nl(a,b){this.Wc=-1;Il.call(this,a,null,b)}
function I(a,b,c,d){var e=!1;this.flags.complete?80186<=this.model&&(e=!0,0>this.Wc?(-1!=this.Ic&&(this.Ic!==this.aa.W&&(this.aa.ob=this.Ic&3,$g(this,this.Ic)),this.Ic=-1),this.uc!==this.Y&&ch(this,this.uc),-1!=this.vc&&(this.vc!==this.T.W&&og(this,this.vc),this.vc=-1),-1!==this.na&&(this.na!==this.za&&F(this,this.jc&~this.T.oa|this.na-this.T.pa),this.na=-1)):8!=this.Wc?(b=0,a=8):(b=0,a=-1,d=!1,Mf(this))):ch(this,this.uc);var f=a,g=b,h=512,k=zh(this,this.Y);204!=k||this.Fc||(d=!1);this.P&131072&&
(6==f&&99==k||13==f&&205==k)&&(d=!1);!1===d&&(h|=2);983040<=this.Y&&1048575>=this.Y&&(d=!1);vc(this,h+70368744177664)&&(d=!0);if(vc(this,h)||d){var l=this.flags.Oa;f="Fault "+w(f,2,!0)+(null!=g?" ("+w(g,4,!0)+")":"")+" on opcode "+w(k,2,!0);d&&l&&(f+=" (blocked)");this.ga?(this.N((d?4398046511104:h)+1,"%s\n",f),d&&(d=l,Jl(this.ga))):(this.N(274877906944,"%s\n",f),Fe(this))}if((d||0>a)&&e)throw-1;if(e)throw this.Wc=a,Il.call(this,a,b,c),this.uc=this.Y,this.O=1==a?this.O|8192:this.O|4096,a;}
function dg(a,b,c){this.Jc=a;a=0;b&&(a|=1);c&&(a|=2);3==this.Ka&&(a|=4);I.call(this,14,a)}function Ll(a){var b=a.gb&7680;a.W&65528&&(6144==b||7168==b||7168>b&&a.ec<this.Ka&&a.ec<(a.W&3))&&a.load(0)}
function xg(a){switch((this.ba=this.ja())&199){case 0:var b=J(this,this.G+this.K);this.A-=this.B.Cc;break;case 1:b=J(this,this.G+this.I);this.A-=this.B.Dc;break;case 2:b=Bh(this,this.M+this.K);this.A-=this.B.Dc;break;case 3:b=Bh(this,this.M+this.I);this.A-=this.B.Cc;break;case 4:b=J(this,this.K);this.A-=this.B.$b;break;case 5:b=J(this,this.I);this.A-=this.B.$b;break;case 6:b=J(this,N(this));this.A-=this.B.$c;break;case 7:b=J(this,this.G);this.A-=this.B.$b;break;case 64:b=J(this,this.G+this.K+this.S());
this.A-=this.B.Ib;break;case 65:b=J(this,this.G+this.I+this.S());this.A-=this.B.Jb;break;case 66:b=Bh(this,this.M+this.K+this.S());this.A-=this.B.Jb;break;case 67:b=Bh(this,this.M+this.I+this.S());this.A-=this.B.Ib;break;case 68:b=J(this,this.K+this.S());this.A-=this.B.Pa;break;case 69:b=J(this,this.I+this.S());this.A-=this.B.Pa;break;case 70:b=Bh(this,this.M+this.S());this.A-=this.B.Pa;break;case 71:b=J(this,this.G+this.S());this.A-=this.B.Pa;break;case 128:b=J(this,this.G+this.K+N(this));this.A-=
this.B.Ib;break;case 129:b=J(this,this.G+this.I+N(this));this.A-=this.B.Jb;break;case 130:b=Bh(this,this.M+this.K+N(this));this.A-=this.B.Jb;break;case 131:b=Bh(this,this.M+this.I+N(this));this.A-=this.B.Ib;break;case 132:b=J(this,this.K+N(this));this.A-=this.B.Pa;break;case 133:b=J(this,this.I+N(this));this.A-=this.B.Pa;break;case 134:b=Bh(this,this.M+N(this));this.A-=this.B.Pa;break;case 135:b=J(this,this.G+N(this));this.A-=this.B.Pa;break;case 192:b=this.D&255;break;case 193:b=this.H&255;break;
case 194:b=this.L&255;break;case 195:b=this.G&255;break;case 196:b=this.D>>8&255;break;case 197:b=this.H>>8&255;break;case 198:b=this.L>>8&255;break;case 199:b=this.G>>8&255;break;default:b=0}var c=this.ba>>3&7;switch(c){case 0:var d=this.D&255;break;case 1:d=this.H&255;break;case 2:d=this.L&255;break;case 3:d=this.G&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.H>>8&255;break;case 6:d=this.L>>8&255;break;case 7:d=this.G>>8&255;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=this.D&
-256|a;break;case 1:this.H=this.H&-256|a;break;case 2:this.L=this.L&-256|a;break;case 3:this.G=this.G&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.H=this.H&-65281|a<<8;break;case 6:this.L=this.L&-65281|a<<8;break;case 7:this.G=this.G&-65281|a<<8}}
function yg(a){var b=(this.ba=this.ja())&199;switch(b){case 0:var c=J(this,this.G+this.K);this.F=this.C;break;case 1:c=J(this,this.G+this.I);this.F=this.C;break;case 2:c=Bh(this,this.M+this.K);this.F=this.C;break;case 3:c=Bh(this,this.M+this.I);this.F=this.C;break;case 4:c=J(this,this.K);this.F=this.C;break;case 5:c=J(this,this.I);this.F=this.C;break;case 6:c=J(this,N(this));this.F=this.C;break;case 7:c=J(this,this.G);this.F=this.C;break;case 64:c=J(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:c=J(this,this.G+this.I+this.S());this.F=this.C;break;case 66:c=Bh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:c=Bh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:c=J(this,this.K+this.S());this.F=this.C;break;case 69:c=J(this,this.I+this.S());this.F=this.C;break;case 70:c=Bh(this,this.M+this.S());this.F=this.C;break;case 71:c=J(this,this.G+this.S());this.F=this.C;break;case 128:c=J(this,this.G+this.K+N(this));this.F=this.C;break;case 129:c=J(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:c=Bh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:c=Bh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:c=J(this,this.K+N(this));this.F=this.C;break;case 133:c=J(this,this.I+N(this));this.F=this.C;break;case 134:c=Bh(this,this.M+N(this));this.F=this.C;break;case 135:c=J(this,this.G+N(this));this.F=this.C;break;case 192:c=this.D&255;break;case 193:c=this.H&255;break;case 194:c=this.L&255;break;case 195:c=this.G&255;break;case 196:c=this.D>>8&255;break;
case 197:c=this.H>>8&255;break;case 198:c=this.L>>8&255;break;case 199:c=this.G>>8&255;break;default:c=0}switch(this.ba>>3&7){case 0:var d=this.D&255;break;case 1:d=this.H&255;break;case 2:d=this.L&255;break;case 3:d=this.G&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.H>>8&255;break;case 6:d=this.L>>8&255;break;case 7:d=this.G>>8&255;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Gh(this,a);this.A-=this.B.Cc;break;case 1:case 2:Gh(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Gh(this,
a);this.A-=this.B.$b;break;case 6:Gh(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Gh(this,a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Gh(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Gh(this,a);this.A-=this.B.Pa;break;case 192:this.D=this.D&-256|a;break;case 193:this.H=this.H&-256|a;break;case 194:this.L=this.L&-256|a;break;case 195:this.G=this.G&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.H=
this.H&-65281|a<<8;break;case 198:this.L=this.L&-65281|a<<8;break;case 199:this.G=this.G&-65281|a<<8}}
function zg(a,b){var c=(this.ba=this.ja())&199;switch(c){case 0:var d=J(this,this.G+this.K);this.F=this.C;break;case 1:d=J(this,this.G+this.I);this.F=this.C;break;case 2:d=Bh(this,this.M+this.K);this.F=this.C;break;case 3:d=Bh(this,this.M+this.I);this.F=this.C;break;case 4:d=J(this,this.K);this.F=this.C;break;case 5:d=J(this,this.I);this.F=this.C;break;case 6:d=J(this,N(this));this.F=this.C;break;case 7:d=J(this,this.G);this.F=this.C;break;case 64:d=J(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:d=J(this,this.G+this.I+this.S());this.F=this.C;break;case 66:d=Bh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:d=Bh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:d=J(this,this.K+this.S());this.F=this.C;break;case 69:d=J(this,this.I+this.S());this.F=this.C;break;case 70:d=Bh(this,this.M+this.S());this.F=this.C;break;case 71:d=J(this,this.G+this.S());this.F=this.C;break;case 128:d=J(this,this.G+this.K+N(this));this.F=this.C;break;case 129:d=J(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:d=Bh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:d=Bh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:d=J(this,this.K+N(this));this.F=this.C;break;case 133:d=J(this,this.I+N(this));this.F=this.C;break;case 134:d=Bh(this,this.M+N(this));this.F=this.C;break;case 135:d=J(this,this.G+N(this));this.F=this.C;break;case 192:d=this.D&255;break;case 193:d=this.H&255;break;case 194:d=this.L&255;break;case 195:d=this.G&255;break;case 196:d=this.D>>8&255;break;
case 197:d=this.H>>8&255;break;case 198:d=this.L>>8&255;break;case 199:d=this.G>>8&255;break;default:d=0}a=a[this.ba>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Gh(this,a);this.A-=this.B.Cc;break;case 1:case 2:Gh(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Gh(this,a);this.A-=this.B.$b;break;case 6:Gh(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Gh(this,a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Gh(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Gh(this,
a);this.A-=this.B.Pa;break;case 192:this.D=this.D&-256|a;break;case 193:this.H=this.H&-256|a;break;case 194:this.L=this.L&-256|a;break;case 195:this.G=this.G&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.H=this.H&-65281|a<<8;break;case 198:this.L=this.L&-65281|a<<8;break;case 199:this.G=this.G&-65281|a<<8}}
function Ag(a){switch((this.ba=this.ja())&199){case 0:var b=K(this,this.G+this.K);this.A-=this.B.Cc;break;case 1:b=K(this,this.G+this.I);this.A-=this.B.Dc;break;case 2:b=Dh(this,this.M+this.K);this.A-=this.B.Dc;break;case 3:b=Dh(this,this.M+this.I);this.A-=this.B.Cc;break;case 4:b=K(this,this.K);this.A-=this.B.$b;break;case 5:b=K(this,this.I);this.A-=this.B.$b;break;case 6:b=K(this,N(this));this.A-=this.B.$c;break;case 7:b=K(this,this.G);this.A-=this.B.$b;break;case 64:b=K(this,this.G+this.K+this.S());
this.A-=this.B.Ib;break;case 65:b=K(this,this.G+this.I+this.S());this.A-=this.B.Jb;break;case 66:b=Dh(this,this.M+this.K+this.S());this.A-=this.B.Jb;break;case 67:b=Dh(this,this.M+this.I+this.S());this.A-=this.B.Ib;break;case 68:b=K(this,this.K+this.S());this.A-=this.B.Pa;break;case 69:b=K(this,this.I+this.S());this.A-=this.B.Pa;break;case 70:b=Dh(this,this.M+this.S());this.A-=this.B.Pa;break;case 71:b=K(this,this.G+this.S());this.A-=this.B.Pa;break;case 128:b=K(this,this.G+this.K+N(this));this.A-=
this.B.Ib;break;case 129:b=K(this,this.G+this.I+N(this));this.A-=this.B.Jb;break;case 130:b=Dh(this,this.M+this.K+N(this));this.A-=this.B.Jb;break;case 131:b=Dh(this,this.M+this.I+N(this));this.A-=this.B.Ib;break;case 132:b=K(this,this.K+N(this));this.A-=this.B.Pa;break;case 133:b=K(this,this.I+N(this));this.A-=this.B.Pa;break;case 134:b=Dh(this,this.M+N(this));this.A-=this.B.Pa;break;case 135:b=K(this,this.G+N(this));this.A-=this.B.Pa;break;case 192:b=this.D&65535;break;case 193:b=this.H&65535;break;
case 194:b=this.L&65535;break;case 195:b=this.G&65535;break;case 196:b=C(this)&65535;break;case 197:b=this.M&65535;break;case 198:b=this.K&65535;break;case 199:b=this.I&65535;break;default:b=0}var c=this.ba>>3&7;switch(c){case 0:var d=this.D&65535;break;case 1:d=this.H&65535;break;case 2:d=this.L&65535;break;case 3:d=this.G&65535;break;case 4:d=C(this)&65535;break;case 5:d=this.M&65535;break;case 6:d=this.K&65535;break;case 7:d=this.I&65535;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-65536|a;break;case 1:this.H=this.H&-65536|a;break;case 2:this.L=this.L&-65536|a;break;case 3:this.G=this.G&-65536|a;break;case 4:F(this,C(this)&-65536|a);break;case 5:this.M=this.M&-65536|a;break;case 6:this.K=this.K&-65536|a;break;case 7:this.I=this.I&-65536|a}}
function Bg(a){var b=(this.ba=this.ja())&199;switch(b){case 0:var c=K(this,this.G+this.K);this.F=this.C;break;case 1:c=K(this,this.G+this.I);this.F=this.C;break;case 2:c=Dh(this,this.M+this.K);this.F=this.C;break;case 3:c=Dh(this,this.M+this.I);this.F=this.C;break;case 4:c=K(this,this.K);this.F=this.C;break;case 5:c=K(this,this.I);this.F=this.C;break;case 6:c=K(this,N(this));this.F=this.C;break;case 7:c=K(this,this.G);this.F=this.C;break;case 64:c=K(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:c=K(this,this.G+this.I+this.S());this.F=this.C;break;case 66:c=Dh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:c=Dh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:c=K(this,this.K+this.S());this.F=this.C;break;case 69:c=K(this,this.I+this.S());this.F=this.C;break;case 70:c=Dh(this,this.M+this.S());this.F=this.C;break;case 71:c=K(this,this.G+this.S());this.F=this.C;break;case 128:c=K(this,this.G+this.K+N(this));this.F=this.C;break;case 129:c=K(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:c=Dh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:c=Dh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:c=K(this,this.K+N(this));this.F=this.C;break;case 133:c=K(this,this.I+N(this));this.F=this.C;break;case 134:c=Dh(this,this.M+N(this));this.F=this.C;break;case 135:c=K(this,this.G+N(this));this.F=this.C;break;case 192:c=this.D&65535;break;case 193:c=this.H&65535;break;case 194:c=this.L&65535;break;case 195:c=this.G&65535;break;case 196:c=C(this)&65535;
break;case 197:c=this.M&65535;break;case 198:c=this.K&65535;break;case 199:c=this.I&65535;break;default:c=0}switch(this.ba>>3&7){case 0:var d=this.D&65535;break;case 1:d=this.H&65535;break;case 2:d=this.L&65535;break;case 3:d=this.G&65535;break;case 4:d=C(this)&65535;break;case 5:d=this.M&65535;break;case 6:d=this.K&65535;break;case 7:d=this.I&65535;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Hh(this,a);this.A-=this.B.Cc;break;case 1:case 2:Hh(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Hh(this,
a);this.A-=this.B.$b;break;case 6:Hh(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Hh(this,a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Hh(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Hh(this,a);this.A-=this.B.Pa;break;case 192:this.D=this.D&-65536|a;break;case 193:this.H=this.H&-65536|a;break;case 194:this.L=this.L&-65536|a;break;case 195:this.G=this.G&-65536|a;break;case 196:F(this,C(this)&-65536|a);break;
case 197:this.M=this.M&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.I=this.I&-65536|a}}
function Cg(a,b){var c=(this.ba=this.ja())&199;switch(c){case 0:var d=K(this,this.G+this.K);this.F=this.C;break;case 1:d=K(this,this.G+this.I);this.F=this.C;break;case 2:d=Dh(this,this.M+this.K);this.F=this.C;break;case 3:d=Dh(this,this.M+this.I);this.F=this.C;break;case 4:d=K(this,this.K);this.F=this.C;break;case 5:d=K(this,this.I);this.F=this.C;break;case 6:d=K(this,N(this));this.F=this.C;break;case 7:d=K(this,this.G);this.F=this.C;break;case 64:d=K(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:d=K(this,this.G+this.I+this.S());this.F=this.C;break;case 66:d=Dh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:d=Dh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:d=K(this,this.K+this.S());this.F=this.C;break;case 69:d=K(this,this.I+this.S());this.F=this.C;break;case 70:d=Dh(this,this.M+this.S());this.F=this.C;break;case 71:d=K(this,this.G+this.S());this.F=this.C;break;case 128:d=K(this,this.G+this.K+N(this));this.F=this.C;break;case 129:d=K(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:d=Dh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:d=Dh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:d=K(this,this.K+N(this));this.F=this.C;break;case 133:d=K(this,this.I+N(this));this.F=this.C;break;case 134:d=Dh(this,this.M+N(this));this.F=this.C;break;case 135:d=K(this,this.G+N(this));this.F=this.C;break;case 192:d=this.D&65535;break;case 193:d=this.H&65535;break;case 194:d=this.L&65535;break;case 195:d=this.G&65535;break;case 196:d=C(this)&65535;
break;case 197:d=this.M&65535;break;case 198:d=this.K&65535;break;case 199:d=this.I&65535;break;default:d=0}a=a[this.ba>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Hh(this,a);this.A-=this.B.Cc;break;case 1:case 2:Hh(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Hh(this,a);this.A-=this.B.$b;break;case 6:Hh(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Hh(this,a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Hh(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Hh(this,
a);this.A-=this.B.Pa;break;case 192:this.D=this.D&-65536|a;break;case 193:this.H=this.H&-65536|a;break;case 194:this.L=this.L&-65536|a;break;case 195:this.G=this.G&-65536|a;break;case 196:F(this,C(this)&-65536|a);break;case 197:this.M=this.M&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.I=this.I&-65536|a}}
function Dg(a){switch((this.ba=this.ja())&199){case 0:var b=L(this,this.G+this.K);this.A-=this.B.Cc;break;case 1:b=L(this,this.G+this.I);this.A-=this.B.Dc;break;case 2:b=Eh(this,this.M+this.K);this.A-=this.B.Dc;break;case 3:b=Eh(this,this.M+this.I);this.A-=this.B.Cc;break;case 4:b=L(this,this.K);this.A-=this.B.$b;break;case 5:b=L(this,this.I);this.A-=this.B.$b;break;case 6:b=L(this,N(this));this.A-=this.B.$c;break;case 7:b=L(this,this.G);this.A-=this.B.$b;break;case 64:b=L(this,this.G+this.K+this.S());
this.A-=this.B.Ib;break;case 65:b=L(this,this.G+this.I+this.S());this.A-=this.B.Jb;break;case 66:b=Eh(this,this.M+this.K+this.S());this.A-=this.B.Jb;break;case 67:b=Eh(this,this.M+this.I+this.S());this.A-=this.B.Ib;break;case 68:b=L(this,this.K+this.S());this.A-=this.B.Pa;break;case 69:b=L(this,this.I+this.S());this.A-=this.B.Pa;break;case 70:b=Eh(this,this.M+this.S());this.A-=this.B.Pa;break;case 71:b=L(this,this.G+this.S());this.A-=this.B.Pa;break;case 128:b=L(this,this.G+this.K+N(this));this.A-=
this.B.Ib;break;case 129:b=L(this,this.G+this.I+N(this));this.A-=this.B.Jb;break;case 130:b=Eh(this,this.M+this.K+N(this));this.A-=this.B.Jb;break;case 131:b=Eh(this,this.M+this.I+N(this));this.A-=this.B.Ib;break;case 132:b=L(this,this.K+N(this));this.A-=this.B.Pa;break;case 133:b=L(this,this.I+N(this));this.A-=this.B.Pa;break;case 134:b=Eh(this,this.M+N(this));this.A-=this.B.Pa;break;case 135:b=L(this,this.G+N(this));this.A-=this.B.Pa;break;case 192:b=this.D;break;case 193:b=this.H;break;case 194:b=
this.L;break;case 195:b=this.G;break;case 196:b=C(this);break;case 197:b=this.M;break;case 198:b=this.K;break;case 199:b=this.I;break;default:b=0}var c=this.ba>>3&7;switch(c){case 0:var d=this.D;break;case 1:d=this.H;break;case 2:d=this.L;break;case 3:d=this.G;break;case 4:d=C(this);break;case 5:d=this.M;break;case 6:d=this.K;break;case 7:d=this.I;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=a;break;case 1:this.H=a;break;case 2:this.L=a;break;case 3:this.G=a;break;case 4:F(this,a);
break;case 5:this.M=a;break;case 6:this.K=a;break;case 7:this.I=a}}
function Eg(a){var b=(this.ba=this.ja())&199;switch(b){case 0:var c=L(this,this.G+this.K);this.F=this.C;break;case 1:c=L(this,this.G+this.I);this.F=this.C;break;case 2:c=Eh(this,this.M+this.K);this.F=this.C;break;case 3:c=Eh(this,this.M+this.I);this.F=this.C;break;case 4:c=L(this,this.K);this.F=this.C;break;case 5:c=L(this,this.I);this.F=this.C;break;case 6:c=L(this,N(this));this.F=this.C;break;case 7:c=L(this,this.G);this.F=this.C;break;case 64:c=L(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:c=L(this,this.G+this.I+this.S());this.F=this.C;break;case 66:c=Eh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:c=Eh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:c=L(this,this.K+this.S());this.F=this.C;break;case 69:c=L(this,this.I+this.S());this.F=this.C;break;case 70:c=Eh(this,this.M+this.S());this.F=this.C;break;case 71:c=L(this,this.G+this.S());this.F=this.C;break;case 128:c=L(this,this.G+this.K+N(this));this.F=this.C;break;case 129:c=L(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:c=Eh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:c=Eh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:c=L(this,this.K+N(this));this.F=this.C;break;case 133:c=L(this,this.I+N(this));this.F=this.C;break;case 134:c=Eh(this,this.M+N(this));this.F=this.C;break;case 135:c=L(this,this.G+N(this));this.F=this.C;break;case 192:c=this.D;break;case 193:c=this.H;break;case 194:c=this.L;break;case 195:c=this.G;break;case 196:c=C(this);break;case 197:c=this.M;break;
case 198:c=this.K;break;case 199:c=this.I;break;default:c=0}switch(this.ba>>3&7){case 0:var d=this.D;break;case 1:d=this.H;break;case 2:d=this.L;break;case 3:d=this.G;break;case 4:d=C(this);break;case 5:d=this.M;break;case 6:d=this.K;break;case 7:d=this.I;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Ih(this,a);this.A-=this.B.Cc;break;case 1:case 2:Ih(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Ih(this,a);this.A-=this.B.$b;break;case 6:Ih(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Ih(this,
a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Ih(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Ih(this,a);this.A-=this.B.Pa;break;case 192:this.D=a;break;case 193:this.H=a;break;case 194:this.L=a;break;case 195:this.G=a;break;case 196:F(this,a);break;case 197:this.M=a;break;case 198:this.K=a;break;case 199:this.I=a}}
function Fg(a,b){var c=(this.ba=this.ja())&199;switch(c){case 0:var d=L(this,this.G+this.K);this.F=this.C;break;case 1:d=L(this,this.G+this.I);this.F=this.C;break;case 2:d=Eh(this,this.M+this.K);this.F=this.C;break;case 3:d=Eh(this,this.M+this.I);this.F=this.C;break;case 4:d=L(this,this.K);this.F=this.C;break;case 5:d=L(this,this.I);this.F=this.C;break;case 6:d=L(this,N(this));this.F=this.C;break;case 7:d=L(this,this.G);this.F=this.C;break;case 64:d=L(this,this.G+this.K+this.S());this.F=this.C;break;
case 65:d=L(this,this.G+this.I+this.S());this.F=this.C;break;case 66:d=Eh(this,this.M+this.K+this.S());this.F=this.C;break;case 67:d=Eh(this,this.M+this.I+this.S());this.F=this.C;break;case 68:d=L(this,this.K+this.S());this.F=this.C;break;case 69:d=L(this,this.I+this.S());this.F=this.C;break;case 70:d=Eh(this,this.M+this.S());this.F=this.C;break;case 71:d=L(this,this.G+this.S());this.F=this.C;break;case 128:d=L(this,this.G+this.K+N(this));this.F=this.C;break;case 129:d=L(this,this.G+this.I+N(this));
this.F=this.C;break;case 130:d=Eh(this,this.M+this.K+N(this));this.F=this.C;break;case 131:d=Eh(this,this.M+this.I+N(this));this.F=this.C;break;case 132:d=L(this,this.K+N(this));this.F=this.C;break;case 133:d=L(this,this.I+N(this));this.F=this.C;break;case 134:d=Eh(this,this.M+N(this));this.F=this.C;break;case 135:d=L(this,this.G+N(this));this.F=this.C;break;case 192:d=this.D;break;case 193:d=this.H;break;case 194:d=this.L;break;case 195:d=this.G;break;case 196:d=C(this);break;case 197:d=this.M;break;
case 198:d=this.K;break;case 199:d=this.I}a=a[this.ba>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Ih(this,a);this.A-=this.B.Cc;break;case 1:case 2:Ih(this,a);this.A-=this.B.Dc;break;case 4:case 5:case 7:Ih(this,a);this.A-=this.B.$b;break;case 6:Ih(this,a);this.A-=this.B.$c;break;case 64:case 67:case 128:case 131:Ih(this,a);this.A-=this.B.Ib;break;case 65:case 66:case 129:case 130:Ih(this,a);this.A-=this.B.Jb;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Ih(this,
a);this.A-=this.B.Pa;break;case 192:this.D=a;break;case 193:this.H=a;break;case 194:this.L=a;break;case 195:this.G=a;break;case 196:F(this,a);break;case 197:this.M=a;break;case 198:this.K=a;break;case 199:this.I=a}}
function Gg(a){switch((this.ba=this.ja())&199){case 0:var b=J(this,this.D);break;case 1:b=J(this,this.H);break;case 2:b=J(this,this.L);break;case 3:b=J(this,this.G);break;case 4:b=J(this,Ol.call(this,0));break;case 5:b=J(this,N(this));break;case 6:b=J(this,this.K);break;case 7:b=J(this,this.I);break;case 64:b=J(this,this.D+this.S());break;case 65:b=J(this,this.H+this.S());break;case 66:b=J(this,this.L+this.S());break;case 67:b=J(this,this.G+this.S());break;case 68:b=J(this,Ol.call(this,1)+this.S());
break;case 69:b=Bh(this,this.M+this.S());break;case 70:b=J(this,this.K+this.S());break;case 71:b=J(this,this.I+this.S());break;case 128:b=J(this,this.D+N(this));break;case 129:b=J(this,this.H+N(this));break;case 130:b=J(this,this.L+N(this));break;case 131:b=J(this,this.G+N(this));break;case 132:b=J(this,Ol.call(this,2)+N(this));break;case 133:b=Bh(this,this.M+N(this));break;case 134:b=J(this,this.K+N(this));break;case 135:b=J(this,this.I+N(this));break;case 192:b=this.D&255;break;case 193:b=this.H&
255;break;case 194:b=this.L&255;break;case 195:b=this.G&255;break;case 196:b=this.D>>8&255;break;case 197:b=this.H>>8&255;break;case 198:b=this.L>>8&255;break;case 199:b=this.G>>8&255;break;default:b=0}var c=this.ba>>3&7;switch(c){case 0:var d=this.D&255;break;case 1:d=this.H&255;break;case 2:d=this.L&255;break;case 3:d=this.G&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.H>>8&255;break;case 6:d=this.L>>8&255;break;case 7:d=this.G>>8&255;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-256|a;break;case 1:this.H=this.H&-256|a;break;case 2:this.L=this.L&-256|a;break;case 3:this.G=this.G&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.H=this.H&-65281|a<<8;break;case 6:this.L=this.L&-65281|a<<8;break;case 7:this.G=this.G&-65281|a<<8}}
function Hg(a){var b=(this.ba=this.ja())&199;switch(b){case 0:var c=J(this,this.D);this.F=this.C;break;case 1:c=J(this,this.H);this.F=this.C;break;case 2:c=J(this,this.L);this.F=this.C;break;case 3:c=J(this,this.G);this.F=this.C;break;case 4:c=J(this,Ol.call(this,0));this.F=this.C;break;case 5:c=J(this,N(this));this.F=this.C;break;case 6:c=J(this,this.K);this.F=this.C;break;case 7:c=J(this,this.I);this.F=this.C;break;case 64:c=J(this,this.D+this.S());this.F=this.C;break;case 65:c=J(this,this.H+this.S());
this.F=this.C;break;case 66:c=J(this,this.L+this.S());this.F=this.C;break;case 67:c=J(this,this.G+this.S());this.F=this.C;break;case 68:c=J(this,Ol.call(this,1)+this.S());this.F=this.C;break;case 69:c=Bh(this,this.M+this.S());this.F=this.C;break;case 70:c=J(this,this.K+this.S());this.F=this.C;break;case 71:c=J(this,this.I+this.S());this.F=this.C;break;case 128:c=J(this,this.D+N(this));this.F=this.C;break;case 129:c=J(this,this.H+N(this));this.F=this.C;break;case 130:c=J(this,this.L+N(this));this.F=
this.C;break;case 131:c=J(this,this.G+N(this));this.F=this.C;break;case 132:c=J(this,Ol.call(this,2)+N(this));this.F=this.C;break;case 133:c=Bh(this,this.M+N(this));this.F=this.C;break;case 134:c=J(this,this.K+N(this));this.F=this.C;break;case 135:c=J(this,this.I+N(this));this.F=this.C;break;case 192:c=this.D&255;break;case 193:c=this.H&255;break;case 194:c=this.L&255;break;case 195:c=this.G&255;break;case 196:c=this.D>>8&255;break;case 197:c=this.H>>8&255;break;case 198:c=this.L>>8&255;break;case 199:c=
this.G>>8&255;break;default:c=0}switch(this.ba>>3&7){case 0:var d=this.D&255;break;case 1:d=this.H&255;break;case 2:d=this.L&255;break;case 3:d=this.G&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.H>>8&255;break;case 6:d=this.L>>8&255;break;case 7:d=this.G>>8&255;break;default:d=0}a=a.call(this,c,d);switch(b){case 192:this.D=this.D&-256|a;break;case 193:this.H=this.H&-256|a;break;case 194:this.L=this.L&-256|a;break;case 195:this.G=this.G&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;
case 197:this.H=this.H&-65281|a<<8;break;case 198:this.L=this.L&-65281|a<<8;break;case 199:this.G=this.G&-65281|a<<8;break;default:Gh(this,a)}}
function Ig(a,b){var c=(this.ba=this.ja())&199;switch(c){case 0:var d=J(this,this.D);this.F=this.C;break;case 1:d=J(this,this.H);this.F=this.C;break;case 2:d=J(this,this.L);this.F=this.C;break;case 3:d=J(this,this.G);this.F=this.C;break;case 4:d=J(this,Ol.call(this,0));this.F=this.C;break;case 5:d=J(this,N(this));this.F=this.C;break;case 6:d=J(this,this.K);this.F=this.C;break;case 7:d=J(this,this.I);this.F=this.C;break;case 64:d=J(this,this.D+this.S());this.F=this.C;break;case 65:d=J(this,this.H+
this.S());this.F=this.C;break;case 66:d=J(this,this.L+this.S());this.F=this.C;break;case 67:d=J(this,this.G+this.S());this.F=this.C;break;case 68:d=J(this,Ol.call(this,1)+this.S());this.F=this.C;break;case 69:d=Bh(this,this.M+this.S());this.F=this.C;break;case 70:d=J(this,this.K+this.S());this.F=this.C;break;case 71:d=J(this,this.I+this.S());this.F=this.C;break;case 128:d=J(this,this.D+N(this));this.F=this.C;break;case 129:d=J(this,this.H+N(this));this.F=this.C;break;case 130:d=J(this,this.L+N(this));
this.F=this.C;break;case 131:d=J(this,this.G+N(this));this.F=this.C;break;case 132:d=J(this,Ol.call(this,2)+N(this));this.F=this.C;break;case 133:d=Bh(this,this.M+N(this));this.F=this.C;break;case 134:d=J(this,this.K+N(this));this.F=this.C;break;case 135:d=J(this,this.I+N(this));this.F=this.C;break;case 192:d=this.D&255;break;case 193:d=this.H&255;break;case 194:d=this.L&255;break;case 195:d=this.G&255;break;case 196:d=this.D>>8&255;break;case 197:d=this.H>>8&255;break;case 198:d=this.L>>8&255;break;
case 199:d=this.G>>8&255;break;default:d=0}a=a[this.ba>>3&7].call(this,d,b.call(this));switch(c){case 192:this.D=this.D&-256|a;break;case 193:this.H=this.H&-256|a;break;case 194:this.L=this.L&-256|a;break;case 195:this.G=this.G&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.H=this.H&-65281|a<<8;break;case 198:this.L=this.L&-65281|a<<8;break;case 199:this.G=this.G&-65281|a<<8;break;default:Gh(this,a)}}
function Jg(a){switch((this.ba=this.ja())&199){case 0:var b=K(this,this.D);break;case 1:b=K(this,this.H);break;case 2:b=K(this,this.L);break;case 3:b=K(this,this.G);break;case 4:b=K(this,Ol.call(this,0));break;case 5:b=K(this,N(this));break;case 6:b=K(this,this.K);break;case 7:b=K(this,this.I);break;case 64:b=K(this,this.D+this.S());break;case 65:b=K(this,this.H+this.S());break;case 66:b=K(this,this.L+this.S());break;case 67:b=K(this,this.G+this.S());break;case 68:b=K(this,Ol.call(this,1)+this.S());
break;case 69:b=Dh(this,this.M+this.S());break;case 70:b=K(this,this.K+this.S());break;case 71:b=K(this,this.I+this.S());break;case 128:b=K(this,this.D+N(this));break;case 129:b=K(this,this.H+N(this));break;case 130:b=K(this,this.L+N(this));break;case 131:b=K(this,this.G+N(this));break;case 132:b=K(this,Ol.call(this,2)+N(this));break;case 133:b=Dh(this,this.M+N(this));break;case 134:b=K(this,this.K+N(this));break;case 135:b=K(this,this.I+N(this));break;case 192:b=this.D&65535;break;case 193:b=this.H&
65535;break;case 194:b=this.L&65535;break;case 195:b=this.G&65535;break;case 196:b=C(this)&65535;break;case 197:b=this.M&65535;break;case 198:b=this.K&65535;break;case 199:b=this.I&65535;break;default:b=0}var c=this.ba>>3&7;switch(c){case 0:var d=this.D&65535;break;case 1:d=this.H&65535;break;case 2:d=this.L&65535;break;case 3:d=this.G&65535;break;case 4:d=C(this)&65535;break;case 5:d=this.M&65535;break;case 6:d=this.K&65535;break;case 7:d=this.I&65535;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-65536|a;break;case 1:this.H=this.H&-65536|a;break;case 2:this.L=this.L&-65536|a;break;case 3:this.G=this.G&-65536|a;break;case 4:F(this,C(this)&-65536|a);break;case 5:this.M=this.M&-65536|a;break;case 6:this.K=this.K&-65536|a;break;case 7:this.I=this.I&-65536|a}}
function Kg(a){var b=(this.ba=this.ja())&199;switch(b){case 0:var c=K(this,this.D);this.F=this.C;break;case 1:c=K(this,this.H);this.F=this.C;break;case 2:c=K(this,this.L);this.F=this.C;break;case 3:c=K(this,this.G);this.F=this.C;break;case 4:c=K(this,Ol.call(this,0));this.F=this.C;break;case 5:c=K(this,N(this));this.F=this.C;break;case 6:c=K(this,this.K);this.F=this.C;break;case 7:c=K(this,this.I);this.F=this.C;break;case 64:c=K(this,this.D+this.S());this.F=this.C;break;case 65:c=K(this,this.H+this.S());
this.F=this.C;break;case 66:c=K(this,this.L+this.S());this.F=this.C;break;case 67:c=K(this,this.G+this.S());this.F=this.C;break;case 68:c=K(this,Ol.call(this,1)+this.S());this.F=this.C;break;case 69:c=Dh(this,this.M+this.S());this.F=this.C;break;case 70:c=K(this,this.K+this.S());this.F=this.C;break;case 71:c=K(this,this.I+this.S());this.F=this.C;break;case 128:c=K(this,this.D+N(this));this.F=this.C;break;case 129:c=K(this,this.H+N(this));this.F=this.C;break;case 130:c=K(this,this.L+N(this));this.F=
this.C;break;case 131:c=K(this,this.G+N(this));this.F=this.C;break;case 132:c=K(this,Ol.call(this,2)+N(this));this.F=this.C;break;case 133:c=Dh(this,this.M+N(this));this.F=this.C;break;case 134:c=K(this,this.K+N(this));this.F=this.C;break;case 135:c=K(this,this.I+N(this));this.F=this.C;break;case 192:c=this.D&65535;break;case 193:c=this.H&65535;break;case 194:c=this.L&65535;break;case 195:c=this.G&65535;break;case 196:c=C(this)&65535;break;case 197:c=this.M&65535;break;case 198:c=this.K&65535;break;
case 199:c=this.I&65535;break;default:c=0}switch(this.ba>>3&7){case 0:var d=this.D&65535;break;case 1:d=this.H&65535;break;case 2:d=this.L&65535;break;case 3:d=this.G&65535;break;case 4:d=C(this)&65535;break;case 5:d=this.M&65535;break;case 6:d=this.K&65535;break;case 7:d=this.I&65535;break;default:d=0}a=a.call(this,c,d);switch(b){case 192:this.D=this.D&-65536|a;break;case 193:this.H=this.H&-65536|a;break;case 194:this.L=this.L&-65536|a;break;case 195:this.G=this.G&-65536|a;break;case 196:F(this,
C(this)&-65536|a);break;case 197:this.M=this.M&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.I=this.I&-65536|a;break;default:Hh(this,a)}}
function Lg(a,b){var c=(this.ba=this.ja())&199;switch(c){case 0:var d=K(this,this.D);this.F=this.C;break;case 1:d=K(this,this.H);this.F=this.C;break;case 2:d=K(this,this.L);this.F=this.C;break;case 3:d=K(this,this.G);this.F=this.C;break;case 4:d=K(this,Ol.call(this,0));this.F=this.C;break;case 5:d=K(this,N(this));this.F=this.C;break;case 6:d=K(this,this.K);this.F=this.C;break;case 7:d=K(this,this.I);this.F=this.C;break;case 64:d=K(this,this.D+this.S());this.F=this.C;break;case 65:d=K(this,this.H+
this.S());this.F=this.C;break;case 66:d=K(this,this.L+this.S());this.F=this.C;break;case 67:d=K(this,this.G+this.S());this.F=this.C;break;case 68:d=K(this,Ol.call(this,1)+this.S());this.F=this.C;break;case 69:d=Dh(this,this.M+this.S());this.F=this.C;break;case 70:d=K(this,this.K+this.S());this.F=this.C;break;case 71:d=K(this,this.I+this.S());this.F=this.C;break;case 128:d=K(this,this.D+N(this));this.F=this.C;break;case 129:d=K(this,this.H+N(this));this.F=this.C;break;case 130:d=K(this,this.L+N(this));
this.F=this.C;break;case 131:d=K(this,this.G+N(this));this.F=this.C;break;case 132:d=K(this,Ol.call(this,2)+N(this));this.F=this.C;break;case 133:d=Dh(this,this.M+N(this));this.F=this.C;break;case 134:d=K(this,this.K+N(this));this.F=this.C;break;case 135:d=K(this,this.I+N(this));this.F=this.C;break;case 192:d=this.D&65535;break;case 193:d=this.H&65535;break;case 194:d=this.L&65535;break;case 195:d=this.G&65535;break;case 196:d=C(this)&65535;break;case 197:d=this.M&65535;break;case 198:d=this.K&65535;
break;case 199:d=this.I&65535;break;default:d=0}a=a[this.ba>>3&7].call(this,d,b.call(this));switch(c){case 192:this.D=this.D&-65536|a;break;case 193:this.H=this.H&-65536|a;break;case 194:this.L=this.L&-65536|a;break;case 195:this.G=this.G&-65536|a;break;case 196:F(this,C(this)&-65536|a);break;case 197:this.M=this.M&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.I=this.I&-65536|a;break;default:Hh(this,a)}}
function Mg(a){var b=this.ba=this.ja();switch(b&199){case 0:var c=L(this,this.D);break;case 1:c=L(this,this.H);break;case 2:c=L(this,this.L);break;case 3:c=L(this,this.G);break;case 4:c=L(this,Ol.call(this,0));break;case 5:c=L(this,N(this));break;case 6:c=L(this,this.K);break;case 7:c=L(this,this.I);break;case 64:c=L(this,this.D+this.S());break;case 65:c=L(this,this.H+this.S());break;case 66:c=L(this,this.L+this.S());break;case 67:c=L(this,this.G+this.S());break;case 68:c=L(this,Ol.call(this,1)+this.S());
break;case 69:c=Eh(this,this.M+this.S());break;case 70:c=L(this,this.K+this.S());break;case 71:c=L(this,this.I+this.S());break;case 128:c=L(this,this.D+N(this));break;case 129:c=L(this,this.H+N(this));break;case 130:c=L(this,this.L+N(this));break;case 131:c=L(this,this.G+N(this));break;case 132:c=L(this,Ol.call(this,2)+N(this));break;case 133:c=Eh(this,this.M+N(this));break;case 134:c=L(this,this.K+N(this));break;case 135:c=L(this,this.I+N(this));break;case 192:c=this.D;break;case 193:c=this.H;break;
case 194:c=this.L;break;case 195:c=this.G;break;case 196:c=C(this);break;case 197:c=this.M;break;case 198:c=this.K;break;case 199:c=this.I}switch(b>>3&7){case 0:b=this.D;this.D=a=a.call(this,b,c);break;case 1:b=this.H;this.H=a=a.call(this,b,c);break;case 2:b=this.L;this.L=a=a.call(this,b,c);break;case 3:b=this.G;this.G=a=a.call(this,b,c);break;case 4:b=C(this);a=a.call(this,b,c);F(this,a);break;case 5:b=this.M;this.M=a=a.call(this,b,c);break;case 6:b=this.K;this.K=a=a.call(this,b,c);break;case 7:b=
this.I,this.I=a=a.call(this,b,c)}}
function Ng(a){var b=this.ba=this.ja();switch(b&199){case 0:var c=M(this,this.D);break;case 1:c=M(this,this.H);break;case 2:c=M(this,this.L);break;case 3:c=M(this,this.G);break;case 4:c=M(this,Ol.call(this,0));break;case 5:c=M(this,N(this));break;case 6:c=M(this,this.K);break;case 7:c=M(this,this.I);break;case 64:c=M(this,this.D+this.S());break;case 65:c=M(this,this.H+this.S());break;case 66:c=M(this,this.L+this.S());break;case 67:c=M(this,this.G+this.S());break;case 68:c=M(this,Ol.call(this,1)+this.S());
break;case 69:c=Fh(this,this.M+this.S());break;case 70:c=M(this,this.K+this.S());break;case 71:c=M(this,this.I+this.S());break;case 128:c=M(this,this.D+N(this));break;case 129:c=M(this,this.H+N(this));break;case 130:c=M(this,this.L+N(this));break;case 131:c=M(this,this.G+N(this));break;case 132:c=M(this,Ol.call(this,2)+N(this));break;case 133:c=Fh(this,this.M+N(this));break;case 134:c=M(this,this.K+N(this));break;case 135:c=M(this,this.I+N(this));break;case 192:c=this.D;break;case 193:c=this.H;break;
case 194:c=this.L;break;case 195:c=this.G;break;case 196:c=C(this);break;case 197:c=this.M;break;case 198:c=this.K;break;case 199:c=this.I}switch(b>>3&7){case 0:var d=this.D;break;case 1:d=this.H;break;case 2:d=this.L;break;case 3:d=this.G;break;case 4:d=C(this);break;case 5:d=this.M;break;case 6:d=this.K;break;case 7:d=this.I}a=a.call(this,c,d);switch(b&199){case 192:this.D=a;break;case 193:this.H=a;break;case 194:this.L=a;break;case 195:this.G=a;break;case 196:F(this,a);break;case 197:this.M=a;
break;case 198:this.K=a;break;case 199:this.I=a;break;default:Ih(this,a)}}
function Og(a,b){var c=this.ba=this.ja();switch(c&199){case 0:var d=M(this,this.D);break;case 1:d=M(this,this.H);break;case 2:d=M(this,this.L);break;case 3:d=M(this,this.G);break;case 4:d=M(this,Ol.call(this,0));break;case 5:d=M(this,N(this));break;case 6:d=M(this,this.K);break;case 7:d=M(this,this.I);break;case 64:d=M(this,this.D+this.S());break;case 65:d=M(this,this.H+this.S());break;case 66:d=M(this,this.L+this.S());break;case 67:d=M(this,this.G+this.S());break;case 68:d=M(this,Ol.call(this,1)+
this.S());break;case 69:d=Fh(this,this.M+this.S());break;case 70:d=M(this,this.K+this.S());break;case 71:d=M(this,this.I+this.S());break;case 128:d=M(this,this.D+N(this));break;case 129:d=M(this,this.H+N(this));break;case 130:d=M(this,this.L+N(this));break;case 131:d=M(this,this.G+N(this));break;case 132:d=M(this,Ol.call(this,2)+N(this));break;case 133:d=Fh(this,this.M+N(this));break;case 134:d=M(this,this.K+N(this));break;case 135:d=M(this,this.I+N(this));break;case 192:d=this.D;break;case 193:d=
this.H;break;case 194:d=this.L;break;case 195:d=this.G;break;case 196:d=C(this);break;case 197:d=this.M;break;case 198:d=this.K;break;case 199:d=this.I}a=a[c>>3&7].call(this,d,b.call(this));switch(c&199){case 192:this.D=a;break;case 193:this.H=a;break;case 194:this.L=a;break;case 195:this.G=a;break;case 196:F(this,a);break;case 197:this.M=a;break;case 198:this.K=a;break;case 199:this.I=a;break;default:Ih(this,a)}}
function Ol(a){var b=this.ja(),c=b>>6;switch(b>>3&7){case 0:var d=this.D;break;case 1:d=this.H;break;case 2:d=this.L;break;case 3:d=this.G;break;case 4:d=0;break;case 5:d=this.M;break;case 6:d=this.K;break;case 7:d=this.I}switch(b&7){case 0:var e=this.D;break;case 1:e=this.H;break;case 2:e=this.L;break;case 3:e=this.G;break;case 4:e=C(this);this.Ba=this.xb;break;case 5:a?(e=this.M,this.Ba=this.xb):e=N(this);break;case 6:e=this.K;break;case 7:e=this.I}return(d<<c)+e|0}
function yf(){this.Ec[this.ja()].call(this)}function Af(){Nh(this,C(this)&this.R);this.A-=this.B.oc}function gf(){this.na=this.za;var a=C(this)&this.R;Nh(this,this.D&this.R);Nh(this,this.H&this.R);Nh(this,this.L&this.R);Nh(this,this.G&this.R);Nh(this,a);Nh(this,this.M&this.R);Nh(this,this.K&this.R);Nh(this,this.I&this.R);this.A-=this.B.Ri;this.na=-1}
function hf(){this.na=this.za;this.I=this.I&~this.R|Mh(this);this.K=this.K&~this.R|Mh(this);this.M=this.M&~this.R|Mh(this);F(this,C(this)+this.U);this.G=this.G&~this.R|Mh(this);this.L=this.L&~this.R|Mh(this);this.H=this.H&~this.R|Mh(this);this.D=this.D&~this.R|Mh(this);this.A-=this.B.Pi;this.na=-1}function jf(){this.fa.call(this,zj)}function Bf(){!(this.ia&1)||this.P&131072?I.call(this,6):this.va.call(this,yj)}function Ff(){this.O|=20;this.Ba=this.xb=this.Fa;this.A-=this.B.Kc}
function Gf(){this.O|=20;this.Ba=this.xb=this.Ga;this.A-=this.B.Kc}function Hf(){this.O|=1024;this.Z&1024||(this.U^=6,this.R^=-65536,Qg(this));this.A-=this.B.Kc}function If(){this.O|=2048;this.Z&2048||(this.ac^=6,this.oa^=-65536,wg(this));this.A-=this.B.Kc}function kf(){Nh(this,this.Ca());this.A-=this.B.oc}function lf(){this.fa.call(this,Rj)}function mf(){Nh(this,this.S());this.A-=this.B.oc}function nf(){this.fa.call(this,Pj)}
function of(){var a=1,b=0,c=this.oa,d=5;this.Z&192&&(a=this.H&c,b=1,this.Z&256&&(d=4));if(a--){var e=this.L&65535;yh(this,e,1,!0)&&(e=Rd(this.sa,e,1,this.Y-b-1),this.kb(this.ka.Gb(this.I&c,1),e),this.I=this.I&~c|this.I+(this.P&1024?-1:1)&c,this.H=this.H&~c|this.H-b&c,this.A-=d,a&&eh(this))}}
function pf(){var a=1,b=0,c=this.oa,d=5;this.Z&192&&(a=this.H&c,b=1,this.Z&256&&(d=4));if(a--){var e=this.L&65535;yh(this,e,this.U,!0)&&(e=Rd(this.sa,e,this.U,this.Y-b-1),Kh(this,this.ka,this.I&c,e),this.I=this.I&~c|this.I+(this.P&1024?-this.U:this.U)&c,this.H=this.H&~c|this.H-b&c,this.A-=d,a&&eh(this))}}
function qf(){var a=1,b=0,c=this.oa,d=5;this.Z&192&&(a=this.H&c,b=1,this.Z&256&&(d=4));if(a--){var e=this.L&65535;if(yh(this,e,1,!1)){var f=this.ra(this.wa.ib(this.K&c,1));Ud(this.sa,e,1,f,this.Y-b-1);this.K=this.K&~c|this.K+(this.P&1024?-1:1)&c;this.H=this.H&~c|this.H-b&c;this.A-=d;a&&eh(this)}}}
function rf(){var a=1,b=0,c=this.oa,d=5;this.Z&192&&(a=this.H&c,b=1,this.Z&256&&(d=4));if(a--){var e=Jh(this,this.wa,this.K&c),f=this.L&65535;yh(this,f,this.U,!1)&&(Ud(this.sa,f,this.U,e,this.Y-b-1),this.K=this.K&~c|this.K+(this.P&1024?-this.U:this.U)&c,this.H=this.H&~c|this.H-b&c,this.A-=d,a&&eh(this))}}function Pl(){var a=this.S();lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function Ql(){var a=this.S();lh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}
function Rl(){var a=this.S();gh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function Sl(){var a=this.S();gh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}function Tl(){var a=this.S();jh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function Ul(){var a=this.S();jh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}function Vl(){var a=this.S();gh(this)||jh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}
function Wl(){var a=this.S();gh(this)||jh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}function Xl(){var a=this.S();kh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function Yl(){var a=this.S();kh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}function Zl(){var a=this.S();hh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function $l(){var a=this.S();hh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}
function am(){var a=this.S();!kh(this)!=!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function bm(){var a=this.S();!kh(this)==!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function cm(){var a=this.S();jh(this)||!kh(this)!=!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma}function dm(){var a=this.S();jh(this)||!kh(this)!=!lh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)}
function em(){this.Lc.call(this,fm,this.ja);this.A-=-1===this.F?1:this.B.Ff}function gm(){this.O|=1;this.Vb.call(this,dk)}function hm(){this.O|=1;this.va.call(this,dk)}function im(){this.Ob.call(this,dk)}function jm(){this.fa.call(this,dk)}function sf(){this.Lc.call(this,km,El)}function tf(){this.Za.call(this,2==this.U?lm:mm,El)}function nm(){var a=Lh(this),b=Mh(this);H(this,b);a&&F(this,C(this)+a);this.A-=this.B.Wi}function om(){var a=Mh(this);H(this,a);this.A-=this.B.Ti}
function uf(){this.na=this.za;var a=Lh(this),b=this.ja()&31;this.A-=11;Nh(this,this.M);var c=C(this)&this.R;if(0<b){for(this.A-=(b<<2)+(1<b?1:0);--b;)this.M=this.M&~this.R|this.M-this.U&this.R,Nh(this,Jh(this,this.T,this.M&this.R));Nh(this,c)}this.M=this.M&~this.R|c;F(this,C(this)&~this.T.oa|C(this)-a&this.T.oa);this.na=-1}function vf(){this.na=this.za;F(this,C(this)&~this.T.oa|this.M&this.T.oa);this.M=this.M&~this.R|Mh(this)&this.R;this.A-=5;this.na=-1}
function pm(){Kl.call(this,Lh(this));this.A-=this.B.Vi}function qm(){Kl.call(this,0);this.A-=this.B.Ui}function rm(a){this.Dj=a;this.fa.call(this,Mj)}function sm(){this.O|=36;this.A-=this.B.Kc}function Jf(){Nl.call(this,1,this.B.Eg)}function Th(){this.P&131072?I.call(this,13,0):(this.Ea|=4,this.A-=2,this.ga&&vc(this,70368744177666)?(this.Y=this.uc,Jl(this.ga)):this.P&512||(this.ga&&(this.Y=this.uc),Fe(this)))}function ff(){I.call(this,6)}
function wf(){H(this,this.uc-this.aa.pa);lc(this,"Undefined opcode "+w(this.ra(this.Y),2,!0)+" at "+w(this.Y,8,!0));Fe(this)}
var bf=[function(){this.Vb.call(this,uj)},function(){this.va.call(this,vj)},function(){this.Ob.call(this,uj)},function(){this.fa.call(this,vj)},function(){this.D=this.D&-256|uj.call(this,this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|vj.call(this,this.D&this.R,this.Ca());this.A--},function(){Oh(this,this.ka.W,this.U,2);this.A-=this.B.Od},function(){this.na=this.za;bh(this,Mh(this));this.A-=this.B.Yb;this.na=-1},function(){this.Vb.call(this,ik)},function(){this.va.call(this,jk)},
function(){this.Ob.call(this,ik)},function(){this.fa.call(this,jk)},function(){this.D=this.D&-256|ik.call(this,this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|jk.call(this,this.D&this.R,this.Ca());this.A--},function(){Oh(this,this.aa.W,this.U,2);this.A-=this.B.Od},function(){$g(this,Mh(this));this.A-=this.B.Yb},function(){this.Vb.call(this,sj)},function(){this.va.call(this,tj)},function(){this.Ob.call(this,sj)},function(){this.fa.call(this,tj)},function(){this.D=this.D&-256|sj.call(this,
this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|tj.call(this,this.D&this.R,this.Ca());this.A--},function(){Oh(this,this.T.W,this.U,2);this.A-=this.B.Od},function(){this.na=this.za;og(this,Mh(this));this.A-=this.B.Yb;this.na=-1},function(){this.Vb.call(this,kk)},function(){this.va.call(this,lk)},function(){this.Ob.call(this,kk)},function(){this.fa.call(this,lk)},function(){this.D=this.D&-256|kk.call(this,this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|lk.call(this,
this.D&this.R,this.Ca());this.A--},function(){Oh(this,this.wa.W,this.U,2);this.A-=this.B.Od},function(){this.na=this.za;ah(this,Mh(this));this.A-=this.B.Yb;this.na=-1},function(){this.Vb.call(this,wj)},function(){this.va.call(this,xj)},function(){this.Ob.call(this,wj)},function(){this.fa.call(this,xj)},function(){this.D=this.D&-256|wj.call(this,this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|xj.call(this,this.D&this.R,this.Ca());this.A--},function(){this.O|=20;this.Ba=this.xb=this.ka;
this.A-=this.B.Kc},function(){var a=this.D&255,b=ih(this),c=gh(this);9<(a&15)||b?(a+=6,b=16):b=0;159<a||c?(a+=96,c=1):c=0;a&=255;this.D=this.D&-256|a;mh(this,a,128);c?nh(this):oh(this);b?vh(this):th(this);this.A-=this.B.Nd},function(){this.Vb.call(this,Nk)},function(){this.va.call(this,Ok)},function(){this.Ob.call(this,Nk)},function(){this.fa.call(this,Ok)},function(){this.D=this.D&-256|Nk.call(this,this.D&255,this.ja());this.A--},function(){this.D=this.D&~this.R|Ok.call(this,this.D&this.R,this.Ca());
this.A--},function(){this.O|=20;this.Ba=this.xb=this.aa;this.A-=this.B.Kc},function(){var a=this.D&255,b=ih(this),c=gh(this);9<(a&15)||b?(a-=6,b=16):b=0;159<a||c?(a-=96,c=1):c=0;a&=255;this.D=this.D&-256|a;mh(this,a,128);c?nh(this):oh(this);b?vh(this):th(this);this.A-=this.B.Nd},function(){this.Vb.call(this,Vk)},function(){this.va.call(this,Wk)},function(){this.Ob.call(this,Vk)},function(){this.fa.call(this,Wk)},function(){this.D=this.D&-256|Vk.call(this,this.D&255,this.ja());this.A--},function(){this.D=
this.D&~this.R|Wk.call(this,this.D&this.R,this.Ca());this.A--},function(){this.O|=20;this.Ba=this.xb=this.T;this.A-=this.B.Kc},function(){var a,b=this.D&255,c=this.D>>8&255;if(9<(b&15)||ih(this)){b+=6;80286<=this.model&&255<b&&c++;c++;var d=a=1}else d=a=0;this.D=this.D&-65536|(c<<8|b)&65295;d?nh(this):oh(this);a?vh(this):th(this);this.A-=this.B.Nd},function(){this.Vb.call(this,Kj)},function(){this.va.call(this,Lj)},function(){this.Ob.call(this,Kj)},function(){this.fa.call(this,Lj)},function(){Kj.call(this,
this.D&255,this.ja());this.A--},function(){Lj.call(this,this.D&this.R,this.Ca());this.A--},function(){this.O|=20;this.Ba=this.xb=this.wa;this.A-=this.B.Kc},function(){var a,b=this.D&255,c=this.D>>8&255;if(9<(b&15)||ih(this)){b=b-6&15;c=c-1&255;var d=a=1}else d=a=0;this.D=this.D&-65536|c<<8|b;d?nh(this):oh(this);a?vh(this):th(this);this.A-=this.B.Nd},function(){this.D=zl.call(this,this.D)},function(){this.H=zl.call(this,this.H)},function(){this.L=zl.call(this,this.L)},function(){this.G=zl.call(this,
this.G)},function(){F(this,zl.call(this,C(this)))},function(){this.M=zl.call(this,this.M)},function(){this.K=zl.call(this,this.K)},function(){this.I=zl.call(this,this.I)},function(){this.D=Yk.call(this,this.D)},function(){this.H=Yk.call(this,this.H)},function(){this.L=Yk.call(this,this.L)},function(){this.G=Yk.call(this,this.G)},function(){F(this,Yk.call(this,C(this)))},function(){this.M=Yk.call(this,this.M)},function(){this.K=Yk.call(this,this.K)},function(){this.I=Yk.call(this,this.I)},function(){Nh(this,
this.D&this.R);this.A-=this.B.oc},function(){Nh(this,this.H&this.R);this.A-=this.B.oc},function(){Nh(this,this.L&this.R);this.A-=this.B.oc},function(){Nh(this,this.G&this.R);this.A-=this.B.oc},function(){Nh(this,C(this)-2&65535);this.A-=this.B.oc},function(){Nh(this,this.M&this.R);this.A-=this.B.oc},function(){Nh(this,this.K&this.R);this.A-=this.B.oc},function(){Nh(this,this.I&this.R);this.A-=this.B.oc},function(){this.D=this.D&~this.R|Mh(this);this.A-=this.B.Yb},function(){this.H=this.H&~this.R|
Mh(this);this.A-=this.B.Yb},function(){this.L=this.L&~this.R|Mh(this);this.A-=this.B.Yb},function(){this.G=this.G&~this.R|Mh(this);this.A-=this.B.Yb},function(){F(this,C(this)&~this.R|Mh(this));this.A-=this.B.Yb},function(){this.M=this.M&~this.R|Mh(this);this.A-=this.B.Yb},function(){this.K=this.K&~this.R|Mh(this);this.A-=this.B.Yb},function(){this.I=this.I&~this.R|Mh(this);this.A-=this.B.Yb},Pl,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,Zl,$l,am,bm,cm,dm,Pl,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,Zl,$l,am,bm,cm,dm,em,function(){this.Za.call(this,
tm,this.Ca);this.A-=-1===this.F?1:this.B.Ff},em,function(){this.Za.call(this,tm,this.S);this.A-=-1===this.F?1:this.B.Ff},function(){this.Vb.call(this,Pk)},function(){this.va.call(this,Qk)},function(){this.Ob.call(this,Tk)},function(){this.fa.call(this,Uk)},gm,hm,im,jm,function(){this.O|=1;this.va.call(this,hk)},function(){this.O|=1;this.Ba=this.xb=this.ug;this.fa.call(this,Xj)},function(){this.fa.call(this,gk);switch(this.ba>>3&7){case 0:var a=this.D;this.D=this.ta;bh(this,a);break;case 1:a=this.H;
this.H=this.ta;$g(this,a);break;case 2:a=this.L;this.L=this.ta;og(this,a);break;case 3:a=this.G;this.G=this.ta;ah(this,a);break;case 4:a=C(this);F(this,this.ta);80386<=this.model?this.Fa.load(a):bh(this,a);break;case 5:a=this.M;this.M=this.ta;80386<=this.model?this.Ga.load(a):$g(this,a);break;case 6:a=this.K;this.K=this.ta;og(this,a);break;case 7:a=this.I,this.I=this.ta,ah(this,a)}},function(){this.O|=1;this.na=this.za;this.ta=Mh(this);this.Za.call(this,um,Gl);this.na=-1},function(){this.A-=3;this.Z&
32&&80386<=this.model&&I.call(this,6,0)},function(){var a=this.D;this.D=this.D&~this.R|this.H&this.R;this.H=this.H&~this.R|a&this.R;this.A-=3},function(){var a=this.D;this.D=this.D&~this.R|this.L&this.R;this.L=this.L&~this.R|a&this.R;this.A-=3},function(){var a=this.D;this.D=this.D&~this.R|this.G&this.R;this.G=this.G&~this.R|a&this.R;this.A-=3},function(){var a=this.D,b=C(this);this.D=this.D&~this.R|b&this.R;F(this,b&~this.R|a&this.R);this.A-=3},function(){var a=this.D;this.D=this.D&~this.R|this.M&
this.R;this.M=this.M&~this.R|a&this.R;this.A-=3},function(){var a=this.D;this.D=this.D&~this.R|this.K&this.R;this.K=this.K&~this.R|a&this.R;this.A-=3},function(){var a=this.D;this.D=this.D&~this.R|this.I&this.R;this.I=this.I&~this.R|a&this.R;this.A-=3},function(){this.D=2==this.U?this.D&-65536|this.D<<24>>24&65535:this.D<<16>>16;this.A-=2},function(){this.L=2==this.U?this.L&-65536|(this.D&32768?65535:0):this.D&-2147483648?-1:0;this.A-=this.B.ci},function(){Hl.call(this,this.Ca(),Lh(this));this.A-=
this.B.fi},function(){this.A-=3},function(){var a=Tg(this);a&131072&&3>this.Pb?I.call(this,13,0):(Nh(this,a&-196609),this.A-=this.B.oc)},function(){if(this.P&131072&&3>this.Pb)I.call(this,13,0);else{var a=Mh(this);a=a&65535|this.P&-65536;ug(this,a);this.A-=this.B.Yb}},function(){var a=this.D>>8&255;a&1?nh(this):oh(this);a&4?(this.resultType&=-3,this.P|=4):(this.resultType&=-3,this.P&=-5);a&16?vh(this):th(this);a&64?wh(this):uh(this);a&128?(this.resultType&=-17,this.P|=128):(this.resultType&=-17,this.P&=
-129);this.A-=this.B.Kb},function(){this.D=this.D&-65281|(Tg(this)&255)<<8;this.A-=this.B.Kb},function(){var a=this.D&-256;var b=N(this);b=this.ra(this.Ba.ib(b,1));this.D=a|b;this.A-=this.B.Mg},function(){this.D=this.D&~this.R|Jh(this,this.Ba,N(this));this.A-=this.B.Mg},function(){var a=N(this),b=this.D;this.kb(this.Ba.Gb(a,1),b);this.A-=this.B.Ng},function(){Kh(this,this.Ba,N(this),this.D);this.A-=this.B.Ng},function(){var a=1,b=0,c=this.oa,d=this.B.Og;this.Z&192&&(a=this.H&c,b=1,d=this.B.Qg,this.Z&
256||(this.A-=this.B.Pg));if(a--){var e=this.ra(this.Ba.ib(this.K&c,1));this.kb(this.ka.Gb(this.I&c,1),e);e=this.P&1024?-1:1;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I+e&c;this.A-=d;this.H=this.H&~c|this.H-b&c;a&&eh(this,!0)}},function(){var a=1,b=0,c=this.oa,d=this.B.Og;this.Z&192&&(a=this.H&c,b=1,d=this.B.Qg,this.Z&256||(this.A-=this.B.Pg));if(a--){Kh(this,this.ka,this.I&c,Jh(this,this.Ba,this.K&c));var e=this.P&1024?-this.U:this.U;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I+e&
c;this.A-=d;this.H=this.H&~c|this.H-b&c;a&&eh(this,!0)}},function(){var a=1,b=0,c=this.oa,d=this.B.yg;this.Z&192&&(a=this.H&c,b=1,d=this.B.Ag,this.Z&256||(this.A-=this.B.zg));if(a--){var e=Ah(this,this.Ba,this.K),f=Ah(this,this.ka,this.I);this.F=this.C;Kj.call(this,e,f);e=this.P&1024?-1:1;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I+e&c;this.H=this.H&~c|this.H-b&c;this.A-=d-this.B.yb;a&&jh(this)==(this.Z&64)&&eh(this,!0)}},function(){var a=1,b=0,c=this.oa,d=this.B.yg;this.Z&192&&(a=this.H&
c,b=1,d=this.B.Ag,this.Z&256||(this.A-=this.B.zg));if(a--){var e=Ch(this,this.Ba,this.K&c),f=Ch(this,this.ka,this.I&c);this.F=this.C;Lj.call(this,e,f);e=this.P&1024?-this.U:this.U;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I+e&c;this.H=this.H&~c|this.H-b&c;this.A-=d-this.B.yb;a&&jh(this)==(this.Z&64)&&eh(this,!0)}},function(){mh(this,this.D&this.ja(),128);this.A-=this.B.Nd},function(){mh(this,this.D&this.Ca(),this.rb);this.A-=this.B.Nd},function(){var a=1,b=0,c=this.oa,d=this.B.Zg;this.Z&192&&
(a=this.H&c,b=1,d=this.B.ah,this.Z&256||(this.A-=this.B.$g));if(a--){var e=this.D;this.kb(this.ka.Gb(this.I&c,1),e);this.H=this.H&~c|this.H-b&c;80546<=this.cd&&80564>=this.cd&&!(this.Z&2048)!=(103!=this.ra(this.Y))&&(c^=-65536);this.I=this.I&~c|this.I+(this.P&1024?-1:1)&c;this.A-=d;a&&eh(this)}},function(){var a=1,b=0,c=this.oa,d=this.B.Zg;this.Z&192&&(a=this.H&c,b=1,d=this.B.ah,this.Z&256||(this.A-=this.B.$g));a--&&(Kh(this,this.ka,this.I&c,this.D),this.I=this.I&~c|this.I+(this.P&1024?-this.U:this.U)&
c,this.H=this.H&~c|this.H-b&c,this.A-=d,a&&eh(this))},function(){var a=1,b=0,c=this.oa,d=this.B.Gg;this.Z&192&&(a=this.H&c,b=1,d=this.B.Ig,this.Z&256||(this.A-=this.B.Hg));if(a--){var e=this.ra(this.Ba.ib(this.K&c,1));this.D=this.D&-256|e;this.K=this.K&~c|this.K+(this.P&1024?-1:1)&c;this.H=this.H&~c|this.H-b&c;this.A-=d;a&&eh(this,!0)}},function(){var a=1,b=0,c=this.oa,d=this.B.Gg;this.Z&192&&(a=this.H&c,b=1,d=this.B.Ig,this.Z&256||(this.A-=this.B.Hg));if(a--){var e=Jh(this,this.Ba,this.K&c);this.D=
this.D&~this.R|e;this.K=this.K&~c|this.K+(this.P&1024?-this.U:this.U)&c;this.H=this.H&~c|this.H-b&c;this.A-=d;a&&eh(this,!0)}},function(){var a=1,b=0,c=this.oa,d=this.B.Tg;this.Z&192&&(a=this.H&c,b=1,d=this.B.Vg,this.Z&256||(this.A-=this.B.Ug));if(a--){var e=this.D&255,f=Ah(this,this.ka,this.I);this.F=this.C;Kj.call(this,e,f);this.I=this.I&~c|this.I+(this.P&1024?-1:1)&c;this.H=this.H&~c|this.H-b&c;this.A-=d-this.B.yb;a&&jh(this)==(this.Z&64)&&eh(this)}},function(){var a=1,b=0,c=this.oa,d=this.B.Tg;
this.Z&192&&(a=this.H&c,b=1,d=this.B.Vg,this.Z&256||(this.A-=this.B.Ug));if(a--){var e=this.D&this.R,f=Ch(this,this.ka,this.I&c);this.F=this.C;Lj.call(this,e,f);this.I=this.I&~c|this.I+(this.P&1024?-this.U:this.U)&c;this.H=this.H&~c|this.H-b&c;this.A-=d-this.B.yb;a&&jh(this)==(this.Z&64)&&eh(this)}},function(){this.D=this.D&-256|this.ja();this.A-=this.B.Kb},function(){this.H=this.H&-256|this.ja();this.A-=this.B.Kb},function(){this.L=this.L&-256|this.ja();this.A-=this.B.Kb},function(){this.G=this.G&
-256|this.ja();this.A-=this.B.Kb},function(){this.D=this.D&-65281|this.ja()<<8;this.A-=this.B.Kb},function(){this.H=this.H&-65281|this.ja()<<8;this.A-=this.B.Kb},function(){this.L=this.L&-65281|this.ja()<<8;this.A-=this.B.Kb},function(){this.G=this.G&-65281|this.ja()<<8;this.A-=this.B.Kb},function(){this.D=this.D&~this.R|this.Ca();this.A-=this.B.Kb},function(){this.H=this.H&~this.R|this.Ca();this.A-=this.B.Kb},function(){this.L=this.L&~this.R|this.Ca();this.A-=this.B.Kb},function(){this.G=this.G&
~this.R|this.Ca();this.A-=this.B.Kb},function(){F(this,C(this)&~this.R|this.Ca());this.A-=this.B.Kb},function(){this.M=this.M&~this.R|this.Ca();this.A-=this.B.Kb},function(){this.K=this.K&~this.R|this.Ca();this.A-=this.B.Kb},function(){this.I=this.I&~this.R|this.Ca();this.A-=this.B.Kb},nm,om,nm,om,function(){this.fa.call(this,Yj)},function(){this.fa.call(this,Wj)},function(){this.O|=1;this.Lc.call(this,vm,this.ja)},function(){this.O|=1;this.Za.call(this,vm,this.Ca)},pm,qm,pm,qm,function(){this.P&
131072&&3>this.Pb?I.call(this,13,0):Nl.call(this,3,this.B.Eg)},function(){var a=this.ja();if(this.P&131072&&3>this.Pb)I.call(this,13,0);else{a:{var b=this.fk[a];if(void 0!==b)for(var c=0;c<b.length;c++)if(!b[c](this.Y)){b=!1;break a}this.flags.eg&&vc(this,1024)&&wm(this.ga,a,this.Y);b=!0}b?Nl.call(this,a,0):this.A--}},function(){lh(this)?this.P&131072&&3>this.Pb?I.call(this,13,0):Nl.call(this,4,this.B.xi):this.A-=this.B.yi},function(){if(this.P&131072&&3>this.Pb)I.call(this,13,0);else{this.O|=16384;
this.vc=this.T.W;this.na=this.za;this.A-=this.B.vi;if(this.ia&1&&16384==(this.P&147456)){var a=this.ea(this.ha.pa+0);rj(this.aa,a,!1)}else{a=this.Ka;var b=Mh(this),c=Mh(this),d=Mh(this);if(this.P&131072)d=d&131071|this.P&-131072;else if(d&131072){var e=Mh(this),f=Mh(this),g=Mh(this),h=Mh(this),k=Mh(this),l=Mh(this);vg(this,!0,!0);og(this,f);F(this,e);bh(this,g);ah(this,h);this.Fa.load(k);this.Ga.load(l)}null!=qg(this,b,c,!1)&&(ug(this,d,a),this.mg&&Ug(this,this.Y))}this.vc=this.na=-1}},function(){this.Lc.call(this,
km,Cl)},function(){this.Za.call(this,2==this.U?lm:mm,Cl)},function(){this.Lc.call(this,km,Dl)},function(){this.Za.call(this,2==this.U?lm:mm,Dl)},function(){var a=this.ja();if(a){var b=this.D&255;this.D=this.D&-65536|b/a<<8|b%a;mh(this,this.D,128);this.A-=this.B.$h}else Ml.call(this)},function(){var a=this.D&255,b=(this.D>>8&255)*this.ja()|0,c=a+b|0;this.D=this.D&-65536|c&255;fh(this,a,b,c,191);this.A-=this.B.Zh},function(){this.D=this.D&-256|(gh(this)?255:0);this.A-=2},function(){this.D=this.D&-256|
Ah(this,this.Ba,this.G+(this.D&255));this.A-=this.B.Yi},function(){rm.call(this,216)},function(){rm.call(this,217)},function(){rm.call(this,218)},function(){rm.call(this,219)},function(){rm.call(this,220)},function(){rm.call(this,221)},function(){rm.call(this,222)},function(){rm.call(this,223)},function(){var a=this.S(),b=this.H-1&this.oa;this.H=this.H&~this.oa|b;b&&!jh(this)?(H(this,G(this)+a),this.A-=this.B.Fi):this.A-=this.B.Jg},function(){var a=this.S(),b=this.H-1&this.oa;this.H=this.H&~this.oa|
b;b&&jh(this)?(H(this,G(this)+a),this.A-=this.B.Kg):this.A-=this.B.Lg},function(){var a=this.S(),b=this.H-1&this.oa;this.H=this.H&~this.oa|b;b?(H(this,G(this)+a),this.A-=this.B.Ei):this.A-=this.B.Jg},function(){var a=this.S();this.H&this.oa?this.A-=this.B.Lg:(H(this,G(this)+a),this.A-=this.B.Kg)},function(){var a=this.ja();yh(this,a,1,!0)&&(this.D=this.D&-256|Rd(this.sa,a,1,this.Y-2)&255,this.A-=this.B.Dg)},function(){var a=this.ja();yh(this,a,this.U,!0)&&(this.D=this.D&~this.R|Rd(this.sa,a,this.U,
this.Y-2)&this.R,this.A-=this.B.Dg)},function(){var a=this.ja();yh(this,a,1,!1)&&(Ud(this.sa,a,1,this.D&255,this.Y-2),this.A-=this.B.Sg)},function(){var a=this.ja();yh(this,a,this.U,!1)&&(Ud(this.sa,a,this.U,this.D&this.R,this.Y-2),this.A-=this.B.Sg)},function(){var a=this.Ca(),b=G(this);a=b+a;Nh(this,b);H(this,a);this.A-=this.B.di},function(){var a=this.Ca();H(this,G(this)+a);this.A-=this.B.Fg},function(){qg(this,this.Ca(),Lh(this));this.A-=this.B.Ai},function(){var a=this.S();H(this,G(this)+a);
this.A-=this.B.Fg},function(){var a=this.L&65535;yh(this,a,1,!0)&&(this.D=this.D&-256|Rd(this.sa,a,1,this.Y-1)&255,this.A-=this.B.Cg)},function(){var a=this.L&65535;yh(this,a,this.U,!0)&&(this.D=this.D&~this.R|Rd(this.sa,a,this.U,this.Y-1)&this.R,this.A-=this.B.Cg)},function(){var a=this.L&65535;yh(this,a,1,!1)&&(Ud(this.sa,a,1,this.D&255,this.Y-1),this.A-=this.B.Rg)},function(){var a=this.L&65535;yh(this,a,2,!1)&&(Ud(this.sa,a,this.U,this.D&this.R,this.Y-1),this.A-=this.B.Rg)},sm,sm,function(){this.O|=
132;this.A-=this.B.Kc},function(){this.O|=68;this.A-=this.B.Kc},Th,function(){gh(this)?oh(this):nh(this);this.A-=2},function(){this.Wb=!1;this.Lc.call(this,xm,Fl);this.Wb&&(this.D=this.D&~this.R|this.Aa&this.R)},function(){this.Wb=!1;this.Za.call(this,ym,Fl);this.Wb&&(this.D=this.D&~this.R|this.Aa&this.R,this.L=this.L&~this.R|this.Qa&this.R)},function(){oh(this);this.A-=2},function(){nh(this);this.A-=2},function(){this.Ka>this.Pb?I.call(this,13,0):(this.P&=-513,this.A-=this.B.bi)},function(){this.Ka>
this.Pb?I.call(this,13,0):(this.P|=512,this.O|=4,this.A-=2)},function(){this.P&=-1025;this.A-=2},function(){this.P|=1024;this.A-=2},function(){this.Lc.call(this,cf,Fl)},function(){this.Za.call(this,df,Fl)}],fm=[uj,ik,sj,kk,wj,Nk,Vk,Kj],tm=[vj,jk,tj,lk,xj,Ok,Wk,Lj],um=[function(a,b){this.A-=-1===this.F?this.B.Yb:this.B.Qi;return b},Nj,Nj,Nj,Nj,Nj,Nj,Nj],vm=[function(a,b){this.A-=-1===this.F?this.B.Ii:this.B.Gi;return b},Oj,Oj,Oj,Oj,Oj,Oj,Oj],km=[function(a,b){var c=a;if(b&=this.Na){if(b&=7){var d=
a<<b-1;c=(a<<b|a>>8-b)&255}else d=a<<7;rh(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.Na){if(b&=7){var d=a<<8-b;c=(a>>>b|d)&255}else d=a;rh(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.Na){var d=sh(this);(b%=9)?(c=(a<<b|d<<b-1|a>>9-b)&255,d=a<<b-1):d<<=7;rh(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.Na){var d=sh(this);(b%=9)?(c=(a>>b|d<<8-b|a<<9-b)&255,d=a<<8-b):d<<=7;rh(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.Na){var d=0;8<b?c=0:(d=a<<b-1,c=
d<<1&255);mh(this,c,128,d&128,(c^d)&128)}return c},function(a,b){if(b&=this.Na)b=8<b?0:a>>>b-1,a=b>>>1&255,mh(this,a,128,b&1,a&128);return a},Oj,function(a,b){if(b&=this.Na)9<b&&(b=9),b=a<<24>>24>>b-1,a=b>>1&255,mh(this,a,128,b&1);return a}],lm=[function(a,b){var c=a;if(b&=this.Na){if(b&=15){var d=a<<b-1;c=(a<<b|a>>16-b)&65535}else d=a<<15;rh(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.Na){if(b&=15){var d=a<<16-b;c=(a>>>b|d)&65535}else d=a;rh(this,c,d,32768)}return c},function(a,b){var c=
a;if(b&=this.Na){var d=sh(this);(b%=17)?(c=(a<<b|d<<b-1|a>>17-b)&65535,d=a<<b-1):d<<=15;rh(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.Na){var d=sh(this);(b%=17)?(c=(a>>b|d<<16-b|a<<17-b)&65535,d=a<<16-b):d<<=15;rh(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.Na){var d=0;16<b?c=0:(d=a<<b-1,c=d<<1&65535);mh(this,c,32768,d&32768,(c^d)&32768)}return c},function(a,b){if(b&=this.Na)b=16<b?0:a>>>b-1,a=b>>>1&65535,mh(this,a,32768,b&1,a&32768);return a},Oj,function(a,b){if(b&=
this.Na)17<b&&(b=17),b=a<<16>>16>>b-1,a=b>>1&65535,mh(this,a,32768,b&1);return a}],mm=[function(a,b){var c=a;if(b&=this.Na)c=a<<b|a>>>32-b,rh(this,c,a<<b-1,-2147483648);return c},function(a,b){var c=a;if(b&=this.Na){var d=a<<32-b;c=a>>>b|d;rh(this,c,d,-2147483648)}return c},function(a,b){var c=a;if(b&=this.Na)c=sh(this),c=a<<b|c<<b-1|a>>>32-b>>>1,rh(this,c,a<<b-1,-2147483648);return c},function(a,b){var c=a;if(b&=this.Na)c=sh(this),c=a>>>b|c<<32-b|a<<32-b<<1,rh(this,c,a<<32-b,-2147483648);return c},
function(a,b){var c=a;if(b&=this.Na)a<<=b-1,c=a<<1,mh(this,c,-2147483648,a&-2147483648,(c^a)&-2147483648);return c},function(a,b){if(b&=this.Na)b=a>>>b-1,a=b>>>1,mh(this,a,-2147483648,b&1,a&-2147483648);return a},Oj,function(a,b){if(b&=this.Na)b=a>>b-1,a=b>>1,mh(this,a,-2147483648,b&1);return a}],xm=[function(a,b){b=this.ja();mh(this,a&b,128);this.A-=-1===this.C?this.B.dh:this.B.bh;this.O|=2;return a},Oj,function(a){this.A-=-1===this.C?this.B.Le:this.B.Ke;return a^255},function(a){var b=-a|0;fh(this,
0,a,b,191,!0);this.A-=-1===this.C?this.B.Le:this.B.Ke;return b&255},function(a){this.Aa=(this.D&255)*a&65535;this.Aa&65280?(nh(this),ph(this)):(oh(this),qh(this));8088>=this.model&&uh(this);this.Wb=!0;this.A-=-1===this.C?this.B.Mi:this.B.Li;this.O|=2;return a},function(a){var b=(this.D<<24>>24)*(a<<24>>24)|0;this.Aa=b&65535;127<b||-128>b?(nh(this),ph(this)):(oh(this),qh(this));8088>=this.model&&uh(this);this.Wb=!0;this.A-=-1===this.C?this.B.si:this.B.ri;this.O|=2;return a},function(a,b){if(!a)return Ml.call(this),
a;var c=(b=this.D&65535)/a;if(255<c)return Ml.call(this),a;this.Aa=c&255|(b%a&255)<<8;this.Wb=!0;this.A-=-1===this.C?this.B.ji:this.B.ii;this.O|=2;return a},function(a,b){if(!a)return Ml.call(this),a;var c=a<<24>>24,d=(b=this.D<<16>>16)/c|0;if(d!=d<<24>>24||8088>=this.model&&-128==d)return Ml.call(this),a;this.Aa=d&255|(b%c&255)<<8;this.Wb=!0;this.A-=-1===this.C?this.B.ni:this.B.mi;this.O|=2;return a}],ym=[function(a,b){b=this.Ca();mh(this,a&b,this.rb);this.A-=-1===this.C?this.B.dh:this.B.bh;this.O|=
2;return a},Oj,function(a){this.A-=-1===this.C?this.B.Le:this.B.Ke;return a^this.R},function(a){var b=-a|0;fh(this,0,a,b,this.rb|63,!0);this.A-=-1===this.C?this.B.Le:this.B.Ke;return b&this.R},function(a,b){2==this.U?(b=this.D&65535,b=b*a|0,this.Aa=b&65535,this.Qa=b>>16&65535):(Uj.call(this,a,this.D),80563==this.cd&&68657152==this.D&&129==a&&(this.Qa=0));this.Qa?(nh(this),ph(this)):(oh(this),qh(this));8088>=this.model&&uh(this);this.Wb=!0;this.A-=-1===this.C?this.B.Oi:this.B.Ni;this.O|=2;return a},
function(a,b){2==this.U?(b=this.D&65535,b=(b<<16>>16)*(a<<16>>16)|0,this.Aa=b&65535,this.Qa=b>>16&65535,b=32767<b||-32768>b):(Tj.call(this,a,this.D),b=this.Qa!=this.Aa>>31);b?(nh(this),ph(this)):(oh(this),qh(this));8088>=this.model&&uh(this);this.Wb=!0;this.A-=-1===this.C?this.B.ui:this.B.ti;this.O|=2;return a},function(a,b){if(2==this.U){if(!a)return Ml.call(this),a;b=65536*(this.L&65535)+(this.D&65535);var c=b/a;if(65536<=c)return Ml.call(this),a;this.Aa=c&65535;this.Qa=b%a&65535}else{if(!Zk.call(this,
this.D,this.L,a))return Ml.call(this),a;this.Aa|=0;this.Qa|=0}this.Wb=!0;this.A-=-1===this.C?this.B.li:this.B.ki;this.O|=2;return a},function(a,b){if(2==this.U){if(!a)return Ml.call(this),a;var c=a<<16>>16,d=(b=this.L<<16|this.D&65535)/c|0;if(d!=d<<16>>16||8088>=this.model&&-32768==d)return Ml.call(this),a;this.Aa=d&65535;this.Qa=b%c&65535}else{b=this.D;c=this.L;d=a;var e=0,f=0;0>d&&(d=-d|0,e=1-e);0>c&&(b=-b|0,c=~c+(b?0:1)|0,f=1,e=1-e);!Zk.call(this,b,c,d)||this.Aa>2147483647+e||this.Qa>2147483647+
f?b=!1:(e&&(this.Aa=-this.Aa),f&&(this.Qa=-this.Qa),b=!0);if(!b)return Ml.call(this),a;this.Aa|=0;this.Qa|=0}this.Wb=!0;this.A-=-1===this.C?this.B.pi:this.B.oi;this.O|=2;return a}],cf=[function(a){var b=a+1|0;fh(this,a,1,b,190);this.A-=-1===this.C?this.B.Je:this.B.Ie;return b&255},function(a){var b=a-1|0;fh(this,a,1,b,190,!0);this.A-=-1===this.C?this.B.Je:this.B.Ie;return b&255},Oj,Oj,Oj,Oj,Oj,Oj],df=[function(a){var b=a+1|0;fh(this,a,1,b,this.rb|62);this.A-=-1===this.C?this.B.Je:this.B.Ie;return b&
this.R},function(a){var b=a-1|0;fh(this,a,1,b,this.rb|62,!0);this.A-=-1===this.C?this.B.Je:this.B.Ie;return b&this.R},function(a){Nh(this,G(this));H(this,a);this.A-=-1===this.C?this.B.hi:this.B.gi;this.O|=2;return a},function(a,b){if(-1===this.C)return Oj.call(this,a,b);this.na=this.za;Hl.call(this,a,this.ea(this.C+this.U));this.A-=this.B.ei;this.O|=2;this.na=-1;return a},function(a){H(this,a);this.A-=-1===this.C?this.B.Ci:this.B.Bi;this.O|=2;return a},function(a,b){if(-1===this.C)return Oj.call(this,
a,b);qg(this,a,this.ea(this.C+this.U));this.A-=this.B.zi;this.O|=2;return a},function(a){var b=a;this.O&512&&(a=a-2&65535,80286>this.model&&(b=a));Nh(this,b);this.A-=-1===this.C?this.B.oc:this.B.Si;this.O|=2;return a},Oj];function Kf(){this.fa.call(this,Sk);this.A-=-1===this.C?6:13}function Lf(){this.va.call(this,Rk);this.A-=-1===this.C?12:19}var zf=Array(256);zf[0]=function(){16>(this.ra(this.Y)&56)&&(this.O|=1);this.Za.call(this,this.Aj,Fl)};
zf[1]=function(){this.ra(this.Y)&16||(this.O|=1);this.Za.call(this,zm,Fl)};zf[2]=function(){!(this.ia&1)||this.P&131072?I.call(this,6):this.fa.call(this,Vj)};zf[3]=function(){!(this.ia&1)||this.P&131072?I.call(this,6):this.fa.call(this,bk)};
zf[5]=function(){this.Ka?I.call(this,13,0,0,!0):(xh(this,this.ea(2054)),this.I=this.ea(2086),this.K=this.ea(2088),this.M=this.ea(2090),this.G=this.ea(2094),this.L=this.ea(2096),this.H=this.ea(2098),this.D=this.ea(2100),pj(this.ka,2102,this.ea(2084)),pj(this.aa,2108,this.ea(2082)),pj(this.T,2114,this.ea(2080)),pj(this.wa,2120,this.ea(2078)),ug(this,this.ea(2072)),H(this,this.ea(2074)),F(this,this.ea(2092)),this.wb=this.ea(2126)|this.ra(2128)<<16,this.qc=this.wb+this.ea(2130),this.zb=this.ea(2138)|
this.ra(2140)<<16,this.Fc=this.zb+this.ea(2142),pj(this.nb,2132,this.ea(2076)),pj(this.ha,2144,this.ea(2070)),this.A-=195)};zf[6]=function(){this.Ka?I.call(this,13,0):(this.ia&=-9,this.A-=2)};zf[11]=ff;zf[166]=ff;zf[255]=ff;var B=[];B[5]=ff;
B[7]=function(){if(this.Ka)I.call(this,13,0,0,!0);else{var a=this.ka.ib(this.I&this.oa,204);if(-1!==a){Al.call(this,this.da(a));var b=this.da(a+168),c=(b&24576)>>13;ug(this,this.da(a+4),c);this.wb=this.da(a+112);this.qc=this.wb+this.da(a+116);this.zb=this.da(a+100);this.Fc=this.zb+this.da(a+104);oj(this.nb,this.da(a+56),this.da(a+120),this.da(a+124),this.da(a+128));oj(this.ha,this.da(a+52),this.da(a+84),this.da(a+88),this.da(a+92));this.I=this.da(a+12);this.K=this.da(a+16);this.M=this.da(a+20);this.G=
this.da(a+28);this.L=this.da(a+32);this.H=this.da(a+36);this.D=this.da(a+40);oj(this.Ga,this.da(a+60),this.da(a+132),this.da(a+136),this.da(a+140));oj(this.Fa,this.da(a+64),this.da(a+144),this.da(a+148),this.da(a+152));oj(this.wa,this.da(a+68),this.da(a+156),this.da(a+160),this.da(a+164));oj(this.T,this.da(a+72),b,this.da(a+172),this.da(a+176));oj(this.aa,this.da(a+76),this.da(a+180),this.da(a+184),this.da(a+188));oj(this.ka,this.da(a+80),this.da(a+192),this.da(a+196),this.da(a+200));H(this,this.da(a+
8));F(this,this.da(a+24))}this.A-=122<<(a&3?1:0)}};B[16]=gm;B[17]=hm;B[18]=im;B[19]=jm;B[32]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja();switch((a&56)>>3){case 0:var b=this.ia;break;case 2:b=this.Jc;break;case 3:b=this.Rb;break;default:wf.call(this);return}jg(this,a&7,b);this.A-=6}};B[33]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja(),b=(a&56)>>3;4==b||5==b?wf.call(this):(jg(this,a&7,this.Ab[b]),this.A-=22)}};
B[34]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja(),b=ig(this,a&7);switch((a&56)>>3){case 0:Al.call(this,b);this.A-=10;break;case 2:this.Jc=b;this.A-=4;break;case 3:this.Rb=b;Ad(this);this.A-=5;break;default:wf.call(this)}}};B[35]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja(),b=(a&56)>>3;4==b||5==b?wf.call(this):(a=ig(this,a&7),a!=this.Ab[b]&&(Vg(this,!1),this.Ab[b]=a,Vg(this,!0)),this.A-=4>b?22:14)}};
B[36]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja(),b=(a&56)>>3;6>b?wf.call(this):(jg(this,a&7,this.wf[b]),this.A-=12)}};B[38]=function(){if(this.Ka)I.call(this,13,0);else{var a=this.ja(),b=(a&56)>>3;6>b?wf.call(this):(this.wf[b]=ig(this,a&7),this.A-=12)}};B[128]=function(){var a=this.Ca();lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[129]=function(){var a=this.Ca();lh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};
B[130]=function(){var a=this.Ca();gh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[131]=function(){var a=this.Ca();gh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};B[132]=function(){var a=this.Ca();jh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[133]=function(){var a=this.Ca();jh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};B[134]=function(){var a=this.Ca();gh(this)||jh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};
B[135]=function(){var a=this.Ca();gh(this)||jh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};B[136]=function(){var a=this.Ca();kh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[137]=function(){var a=this.Ca();kh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};B[138]=function(){var a=this.Ca();hh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[139]=function(){var a=this.Ca();hh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};
B[140]=function(){var a=this.Ca();!kh(this)!=!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[141]=function(){var a=this.Ca();!kh(this)==!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[142]=function(){var a=this.Ca();jh(this)||!kh(this)!=!lh(this)?(H(this,G(this)+a),this.A-=this.B.La):this.A-=this.B.Ma};B[143]=function(){var a=this.Ca();jh(this)||!kh(this)!=!lh(this)?this.A-=this.B.Ma:(H(this,G(this)+a),this.A-=this.B.La)};B[144]=function(){Bl.call(this,mk)};
B[145]=function(){Bl.call(this,mk)};B[146]=function(){Bl.call(this,nk)};B[147]=function(){Bl.call(this,ok)};B[148]=function(){Bl.call(this,pk)};B[149]=function(){Bl.call(this,qk)};B[150]=function(){Bl.call(this,rk)};B[151]=function(){Bl.call(this,sk)};B[152]=function(){Bl.call(this,tk)};B[153]=function(){Bl.call(this,uk)};B[154]=function(){Bl.call(this,vk)};B[155]=function(){Bl.call(this,wk)};B[156]=function(){Bl.call(this,xk)};B[157]=function(){Bl.call(this,yk)};B[158]=function(){Bl.call(this,zk)};
B[159]=function(){Bl.call(this,Ak)};B[160]=function(){Oh(this,this.Fa.W,this.U,2);this.A-=this.B.Od};B[161]=function(){this.na=this.za;var a=Mh(this);this.Fa.load(a);this.A-=this.B.Yb;this.na=-1};B[163]=function(){this.va.call(this,Gj);-1!==this.C&&(this.A-=6)};B[164]=function(){this.va.call(this,2==this.U?Bk:Dk);this.A-=-1===this.C?3:7};B[165]=function(){this.va.call(this,2==this.U?Fk:Gk);this.A-=-1===this.C?3:7};B[168]=function(){Oh(this,this.Ga.W,this.U,2);this.A-=this.B.Od};
B[169]=function(){this.na=this.za;var a=Mh(this);this.Ga.load(a);this.A-=this.B.Yb;this.na=-1};B[171]=function(){this.va.call(this,Jj);-1!==this.C&&(this.A-=5)};B[172]=function(){this.va.call(this,2==this.U?Hk:Jk);this.A-=-1===this.C?3:7};B[173]=function(){this.va.call(this,2==this.U?Lk:Mk);this.A-=-1===this.C?3:7};B[175]=function(){this.fa.call(this,2==this.U?Qj:Sj)};B[178]=function(){this.fa.call(this,ck)};B[179]=function(){this.va.call(this,Ij);-1!==this.C&&(this.A-=5)};
B[180]=function(){this.fa.call(this,Zj)};B[181]=function(){this.fa.call(this,ak)};
B[182]=function(){this.Ob.call(this,ek);switch(this.ba>>3&7){case 0:this.D=this.D&~this.R|this.D&255;break;case 1:this.H=this.H&~this.R|this.H&255;break;case 2:this.L=this.L&~this.R|this.L&255;break;case 3:this.G=this.G&~this.R|this.G&255;break;case 4:this.jc=this.jc&~this.R|this.D>>8&255;this.D=this.ta;break;case 5:this.M=this.M&~this.R|this.H>>8&255;this.H=this.ta;break;case 6:this.K=this.K&~this.R|this.L>>8&255;this.L=this.ta;break;case 7:this.I=this.I&~this.R|this.G>>8&255,this.G=this.ta}this.A-=
-1===this.C?3:6};B[183]=function(){Pg(this,2);this.fa.call(this,fk);switch(this.ba>>3&7){case 0:this.D=this.D&65535;break;case 1:this.H=this.H&65535;break;case 2:this.L=this.L&65535;break;case 3:this.G=this.G&65535;break;case 4:this.jc=this.jc&65535;break;case 5:this.M=this.M&65535;break;case 6:this.K=this.K&65535;break;case 7:this.I=this.I&65535}this.A-=-1===this.C?3:6};B[186]=function(){this.Za.call(this,Am,this.ja)};B[187]=function(){this.va.call(this,Hj);-1!==this.C&&(this.A-=5)};
B[188]=function(){this.fa.call(this,Aj)};B[189]=function(){this.fa.call(this,Bj)};
B[190]=function(){this.Ob.call(this,ek);switch(this.ba>>3&7){case 0:this.D=this.D&~this.R|(this.D&255)<<24>>24&this.R;break;case 1:this.H=this.H&~this.R|(this.H&255)<<24>>24&this.R;break;case 2:this.L=this.L&~this.R|(this.L&255)<<24>>24&this.R;break;case 3:this.G=this.G&~this.R|(this.G&255)<<24>>24&this.R;break;case 4:this.jc=this.jc&~this.R|this.D<<16>>24&this.R;this.D=this.ta;break;case 5:this.M=this.M&~this.R|this.H<<16>>24&this.R;this.H=this.ta;break;case 6:this.K=this.K&~this.R|this.L<<16>>24&
this.R;this.L=this.ta;break;case 7:this.I=this.I&~this.R|this.G<<16>>24&this.R,this.G=this.ta}this.A-=-1===this.C?3:6};B[191]=function(){Pg(this,2);this.fa.call(this,fk);switch(this.ba>>3&7){case 0:this.D=this.D<<16>>16;break;case 1:this.H=this.H<<16>>16;break;case 2:this.L=this.L<<16>>16;break;case 3:this.G=this.G<<16>>16;break;case 4:this.jc=this.jc<<16>>16;break;case 5:this.M=this.M<<16>>16;break;case 6:this.K=this.K<<16>>16;break;case 7:this.I=this.I<<16>>16}this.A-=-1===this.C?3:6};
var Wg=[function(){this.A-=2+(-1===this.C?0:1);return this.nb.W},function(){this.A-=2+(-1===this.C?0:1);return this.ha.W},function(a){this.O|=2;this.nb.load(a);this.A-=17+(-1===this.C?0:2);return a},function(a){this.O|=2;-1!==this.ha.load(a)&&(this.Ta(this.ha.Db+4,this.ha.gb|=512),this.ha.type|=512);this.A-=17+(-1===this.C?0:2);return a},function(a){this.O|=2;this.A-=14+(-1===this.C?0:2);if(-1!==this.fb.load(a)&&2048!=(this.fb.gb&2560)&&(this.fb.ec>=this.Ka&&this.fb.ec>=(a&3)||7168==(this.fb.gb&7168)))return wh(this),
a;uh(this);return a},function(a){this.O|=2;this.A-=14+(-1===this.C?0:2);if(-1!==this.fb.load(a)&&512==(this.fb.gb&2560)&&this.fb.ec>=this.Ka&&this.fb.ec>=(a&3))return wh(this),a;uh(this);return a},Oj,Oj],ef=[xf,xf,xf,xf,xf,xf,Oj,Oj],zm=[function(a){if(-1===this.C)I.call(this,6);else{a=this.qc-this.wb;var b=this.wb;80286==this.model?b|=-16777216:80386<=this.model&&2!=this.U&&(a|=b<<16);this.Sa(this.C+2,b);this.A-=11}return a},function(a){if(-1===this.C)I.call(this,6);else{a=this.Fc-this.zb;var b=this.zb;
80286==this.model?b|=-16777216:80386<=this.model&&2!=this.U&&(a|=b<<16);this.Sa(this.C+2,b);this.A-=12}return a},function(a){-1===this.C||this.P&131072?I.call(this,6):(this.wb=this.da(this.C+2)&(this.R|this.R<<8),a&=65535,this.qc=this.wb+a,this.O|=2,this.A-=11);return a},function(a){-1===this.C||this.P&131072?I.call(this,6):(this.zb=this.da(this.C+2)&(this.R|this.R<<8),a&=65535,this.Fc=this.zb+a,this.O|=2,this.A-=12);return a},function(){this.A-=2+(-1===this.C?0:1);return this.ia},Oj,function(a){this.P&
131072?I.call(this,6):(xh(this,a),this.A-=-1===this.C?3:6,this.O|=2);return a},Oj],Am=[Oj,Oj,Oj,Oj,Cj,Fj,Ej,Dj];
function Bm(a){Sb.call(this,"ChipSet",a,268435456);var b=a.model;b&&!Cm[b]&&lb(274877906944,"Unrecognized ChipSet model: %s\n",b);this.model=Cm[b]||Dm;this.B=[];b=Em(a[Fm]);this.B[0]=[b,b];null==b&&(this.D=[360,360],b=a.floppies,"string"==typeof b&&(b=JSON.parse(b)),b&&b.length&&(this.D=b),Gm(this,Hm,this.D.length),Gm(this,Im,a.monitor||(this.model<ii?"mono":"ega")));b=Em(a[Jm]);this.B[1]=[b,b];this.la=this.I=1;this.model>=ii&&(this.la=this.I=2);this.K=a.scaleTimers||!1;this.Ga=a.dateRTC;this.Ea=
0;if(a=a.sound)if(this.Ea="number"!=typeof a||0>a||1<a?.5:a,this.ha=this.H=null,this.ha=r.AudioContext||r.webkitAudioContext)this.H=new this.ha;this.Fa=this.za=!1;this.reset(!0)}sa(Bm,Sb);p=Bm.prototype;p.ub=function(a,b,c){switch(b){case Fm:return this.ca[b]=c,Km(this,0,b),!0;case Jm:if((this.model|0)==Lm||this.model==Mm)return this.ca[b]=c,Km(this,1,b),!0;break;case Nm:return this.ca[b]=c,!0}return!1};
p.Mb=function(a,b){if(!b){if(!a)this.reset();else if(!this.restore(a))return!1;this.J&&(this.rc=this.J.rc)}return!0};p.Lb=function(a){return a?this.save():!0};
p.reset=function(a){var b;Om(this);this.J&&fg(this.J);this.V=Array(this.la);for(b=0;b<this.la;b++)Pm(this,b);this.C=Array(this.I);Qm(this,Rm,Sm);1<this.I&&Qm(this,Tm,Um);this.ta=this.na=null;this.Ua=Array((this.model|0)==Vm?6:3);for(b=0;b<this.Ua.length;b++)Wm(this,b);this.xa=this.wa=this.Z=this.va=null;this.G=Xm;if(this.model>=ii){this.P=Ym;this.ia=0;this.ba=Zm;this.fa=0;this.F=$m|an;512<=bn(this)&&(this.F|=cn);+gg(this,Im)==dn&&(this.F|=en);(this.model|0)==Vm&&(this.F=this.F|fn|gn);this.ka=hn|jn;
this.Y=Array(8);this.ma=0;a&&(this.A=Array(kn));ln(this,this.Ga);for(a=mn;a<=nn;a++)this.A[a]=0;for(a=on;a<pn;a++)void 0===this.A[a]&&(this.A[a]=0);a=0|+gg(this,Im)<<qn.Sf&qn.bc;a|=+gg(this,hg)?rn:0;b=+gg(this,Hm);a|=b?b-1<<sn.Sf&sn.bc|sn.qk:0;this.A[tn]=a;this.A[un]=vn(this,0)<<4|vn(this,1);wn(this)}};
function ln(a,b){var c=b?new Date(b):new Date;"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?(c=new Date,a.N(0,"CMOS date invalid (%s), using %T\n",b,c)):b&&a.N(0,"CMOS date: %T\n",c);a.A[xn]=c.getSeconds();a.A[yn]=0;a.A[zn]=c.getMinutes();a.A[An]=0;a.A[Bn]=c.getHours();a.A[Cn]=0;a.A[Dn]=c.getDay()+1;a.A[En]=c.getDate();a.A[Fn]=c.getMonth()+1;b=c.getFullYear();a.A[Gn]=b%100;b/=100;a.A[Hn]=b%10|b/10<<4;a.A[In]=38;a.A[Ye]=Jn;a.A[Kn]=0;a.A[Ln]=Mn;a.T=a.L=0;a.Aa=a.aa=null}
function wn(a){for(var b=0,c=un;c<pn;c++)b+=a.A[c];a.A[Nn]=b&255;a.A[pn]=b>>8}
p.save=function(){var a=new Yg(this);a.set(0,[this.B]);for(var b=[],c=0;c<this.V;c++){for(var d=this.V[c],e=d,f=[],g=0;g<e.te.length;g++){var h=e.te[g];f[g]=[h.rl,h.Xf,h.ld,h.Wf,h.Pc,h.mode,h.Vk,h.Ml,h.Nl]}b[c]=[d.we,d.Qk,d.Wk,d.Tk,f,d.Xk]}a.set(1,[b]);b=[];for(c=0;c<this.C.length;c++)d=this.C[c],b[c]=[d.Bf,d.Vd,d.tl,d.df,d.cc,d.Jd,d.Yf,d.Uk];a.set(2,[b]);b=[];for(c=0;c<this.Ua.length;c++)d=this.Ua[c],b[c]=[d.ld,d.md,d.Pc,d.cg,d.Yk,d.mode,d.Ll,d.el,d.bg,d.Ld,d.ll,d.pf,d.nd,d.we,d.ml];a.set(3,[this.na,
b,this.ta]);a.set(4,[this.va,this.Z,this.wa,this.xa,this.G]);this.model>=ii&&(a.set(5,[this.P,this.ia,this.ba,this.fa,this.F,this.ka]),a.set(6,[this.Y[7],this.Y,this.ma,this.A,this.T,this.L]));return a.data()};
p.restore=function(a){var b;var c=a[0];Array.isArray(c[0])?this.B=c[0]:(this.B[0][0]=c[0],this.B[1][0]=c[1]&15,this.B[0][1]=c[2],this.B[1][1]=c[3]&15);Om(this);c=a[1];for(b=0;b<this.la;b++)Pm(this,b,1==c.length?c[0][b]:c);c=a[2];for(b=0;b<this.I;b++)Qm(this,b,0===b?Sm:Um,c[0][b]);c=a[3];this.na=c[0];this.ta=c[2];for(b=0;b<this.Ua.length;b++)Wm(this,b,c[1][b]);c=a[4];this.va=c[0];this.Z=c[1];this.wa=c[2];this.xa=c[3];this.G=c[4];if(c=a[5])this.P=c[0],this.ia=c[1],this.ba=c[2],this.fa=c[3],this.F=c[4],
this.ka=c[5];if(c=a[6])this.Y=c[1],this.Y[7]=c[0],this.ma=c[2],this.A=c[3],this.T=c[4],this.L=c[5],ln(this);return!0};p.start=function(){On(this)};p.stop=function(){On(this)};
function Pm(a,b,c){var d=a.V[b];d||(d={te:Array(4)});c=c&&5<=c.length?c:Pn;d.we=c[0];d.Qk=c[1];d.Wk=c[2];d.Tk=c[3];d.rm=b<<2;for(var e=0;e<d.te.length;e++){var f=d,g=e,h=c[4][e],k=f.te[g];k||(k={Xf:[0,0],ld:[0,0],Wf:[0,0],Pc:[0,0]});var l=h&&8==h.length?h:Qn;k.rl=l[0];k.Xf[0]=l[1][0];k.Xf[1]=l[1][1];k.ld[0]=l[2][0];k.ld[1]=l[2][1];k.Wf[0]=l[3][0];k.Wf[1]=l[3][1];k.Pc[0]=l[4][0];k.Pc[1]=l[4][1];k.mode=l[5];k.Vk=l[6];k.controller=f;k.qm=g;h=k;var n=l[8];l=l[9];"string"==typeof n&&(n=fc(n));n&&(h.done=
null,h.Ml=n.id,h.Nl=l,h.component=n,h.pm=n[l],h.um=void 0);f.te[g]=k}d.Xk=c[5]||0;a.V[b]=d}function Qm(a,b,c,d){var e=a.C[b];e||(e={Vd:[null,null,null,null]});d=d&&8==d.length?d:Rn;e.port=c;e.sm=b<<3;e.Bf=d[0];e.Vd[0]=d[1][0];e.Vd[1]=d[1][1];e.Vd[2]=d[1][2];e.Vd[3]=d[1][3];e.tl=d[2];e.df=d[3];e.cc=d[4];e.Jd=d[5];e.Yf=d[6];e.Uk=d[7];a.C[b]=e}
function Wm(a,b,c){var d=a.Ua[b];d||(d={ld:[0,0],md:[0,0],Pc:[0,0],cg:[0,0]});c=c&&13<=c.length?c:Sn;d.ld[0]=c[0][0];d.ld[1]=c[0][1];d.md[0]=c[1][0];d.md[1]=c[1][1];d.Pc[0]=c[2][0];d.Pc[1]=c[2][1];d.cg[0]=c[3][0];d.cg[1]=c[3][1];d.Yk=c[4];d.mode=c[5];d.Ll=c[6];d.el=c[7];d.bg=c[8];d.Ld=c[9];d.ll=c[10];d.pf=c[11];d.nd=c[12];d.we=c[13]||0;d.ml=c[14]||!1;a.Ua[b]=d}
function Km(a,b,c){for(var d="",e=a.ca[c],f=1;8>=f;f++){var g="pcjs-bitCell";f||(g+=" pcjs-bitCellLeft");d+='<div id="'+(c+"-"+f)+'" class="'+g+'" data-value="0">'+f+"</div>\n"}e.innerHTML=d;Tn(a,b,c,!0)}function Un(a,b,c){if(b=(a=Vn[a.model|0])&&a[b])for(var d in b)if(a=b[d],a.bc&1<<c)return a;return null}
function gg(a,b,c){for(var d=null,e=Vn[a.model]||Vn[a.model|0]||Vn[Lm],f=0;f<e.length;f++){var g=e[f];if(g&&(g=g[b])){a=a.B[f][c?0:1]&g.bc;for(var h in g.xc)if(g.xc[h]==a&&(d=h,"number"==typeof+d))break;break}}return d}function Wn(a,b){var c=[-1,-1];a=Vn[a.model]||Vn[a.model|0]||Vn[Lm];for(var d=0;d<a.length;d++){var e=a[d];if(e&&(e=e[b]))for(var f in e.xc){if(0>c[0]||c[0]>+f)c[0]=+f;if(0>c[1]||c[1]<+f)c[1]=+f}}return c}
function vn(a,b){if(b<+gg(a,Hm)){if(!a.D)return Xn;if(b<a.D.length)switch(a.D[b]){case 160:case 180:case 320:case 360:return Xn;case 720:return Yn;case 1200:return Zn;case 1440:return $n}}return ao}function bn(a,b){return+gg(a,bo,b)+ +gg(a,co,b)}function Em(a){var b=void 0;if(a){b=0;for(var c=1,d=0;d<a.length;d++)"0"==a.charAt(d)&&(b|=c),c<<=1}return b}
function Gm(a,b,c){for(var d=Vn[a.model]||Vn[a.model|0]||Vn[Lm],e=0;e<d.length;e++){var f=d[e];if(f&&(f=f[b]))for(var g in f.xc)if(g==c)return a.B[e][1]&=~f.bc,a.B[e][1]|=f.xc[g],!0}return!1}function eo(a,b){a.setAttribute("data-value",b?"1":"0");a.style.color=b?"#ffffff":"#000000";a.style.backgroundColor=b?"#000000":"#ffffff"}function Om(a){Tn(a,0,Fm);Tn(a,1,Jm);fo(a)}
function Tn(a,b,c,d){if(c=a.ca[c]){d=d?a.B[b][0]:a.B[b][1]=a.B[b][0];c=cc("pcjs-bitCell","",c);for(var e=0;e<c.length;e++){var f=Un(a,b,e);c[e].setAttribute("title",f&&f.gd||"Reserved");eo(c[e],!(d&1<<e));c[e].onclick=function(g,h){return function(){var k="1"!=h.getAttribute("data-value");eo(h,k);var l=h.getAttribute("id").split("-"),n=1<<+l[1]-1;switch(l[0]){case Fm:g.B[0][0]=g.B[0][0]&~n|(k?0:n);break;case Jm:g.B[1][0]=g.B[1][0]&~n|(k?0:n)}fo(g)}}(a,c[e])}}}
function fo(a){var b=a.ca[Nm];if(null!=b){var c=bn(a,!0)+"K";c+=", "+(+ +gg(a,hg,!0)?"":"No ")+"FPU";c+=", "+{0:"Enhanced Color",1:"TV",2:"Color",3:"Monochrome"}[+gg(a,Im,!0)]+" Monitor";c+=", "+ +gg(a,Hm,!0)+" Floppy Drives";if(null!=a.B[0][1]&&a.B[0][1]!=a.B[0][0]||null!=a.B[1][1]&&a.B[1][1]!=a.B[1][0])c+=" (Reset required)";b.textContent=c}}function li(a,b,c){b==go&&2==a.I&&(b=ho);var d=a.C[b>>3],e=1<<(b&7);d.cc&e||(d.cc|=e,a.N(io(b),"set IRQ %d\n",b),d.Bf=c||0,jo(a))}
function ji(a,b){var c=a.C[b>>3],d=1<<(b&7);c.cc&d&&(c.cc&=~d,a.N(io(b),"clear IRQ %d\n",b),jo(a))}function jo(a){var b=-1;if(1<a.I){var c=a.C[1];b=~(c.Jd|c.df)&c.cc}c=a.C[0];0<=b&&(c.cc=b?c.cc|1<<go:c.cc&~(1<<go));b=~(c.Jd|c.df)&c.cc;a=a.J;a.la&&(a.Ea=b?a.Ea|1:a.Ea&-2)}
function Rh(a,b){void 0===b&&(b=0);var c=-1,d=a.C[b];if(d.Bf)c=-2,d.Bf--;else for(var e=d.cc&((d.Jd|d.df)^255),f=d.Yf+1;;){f&=7;var g=1<<f;if(d.Jd&g)break;if(e&g){!b&&f==go&&1<a.C.length?c=Rh(a,1):c=d.Vd[1]+f;0<=c&&(d.Jd|=g,d.cc&=~g);break}if(f++==d.Yf)break}return c}function ko(a,b){a=a.Ua[b];(b=a.ld[1]<<8|a.ld[0])||(b=1==a.bg?256:65536);return b}function We(a,b){a=a.Ua[b];(b=a.md[1]<<8|a.md[0])||(b=1==a.bg?256:65536);return b}
function Ve(a,b){for(var c=0;c<a.Ua.length;c++){var d=a,e=c,f=b,g=d.Ua[e];if(g.pf&&(e!=lo||d.Z&mo)){var h=Ie(d.J,d.K),k=(h-g.nd)/d.Ba|0;0>k&&(g.nd=h,k=0);var l=ko(d,e),n=We(d,e)-k;g.mode==no?(0>=n&&(n=0),n||(g.Ld=!0,g.pf=!1,e||li(d,oo))):g.mode==po?(g.Ld=1!=n,0>=n&&(n=l+n,0>=n&&(n=l),g.md[0]=n&255,g.md[1]=n>>8&255,g.nd=h,!e&&g.Ld&&li(d,oo))):g.mode==Xe&&(n-=k,0>=n&&(g.Ld=!g.Ld,n=l+n,0>=n&&(n=l),g.md[0]=n&255,g.md[1]=n>>8&255,g.nd=h,!e&&g.Ld&&li(d,oo)));g.Pc[0]=n&255;g.Pc[1]=n>>8&255;f&&(d.nd=0)}}if(a.model>=
ii){b=a.J.Ed;c=Ie(a.J,a.K);null==a.aa&&(a.T=Ie(a.J,a.K),a.Aa=1024,a.aa=Math.floor(a.J.Ed/a.Aa),e=a.aa,a.L=Ie(a.J,a.K)+e,a.A[Ye]&Ze&&(d=a.J,d.flags.Oa&&(e=d.A-e,0<e&&(d.A-=e,d.Mc-=e))));c>=a.L&&(a.A[Kn]|=qo,a.A[Ye]&Ze&&(a.A[Kn]|=ro,li(a,so)),a.L=c+a.aa);a.A[xn]==a.A[yn]&&a.A[zn]==a.A[An]&&a.A[Bn]==a.A[Cn]&&(a.A[Kn]|=to,a.A[Ye]&uo&&(a.A[Kn]|=ro,li(a,so)));d=c-a.T;if((e=Math.floor(d/b))&&!(a.A[Ye]&vo)){for(;e--;)60<=++a.A[xn]&&(a.A[xn]=0,60<=++a.A[zn]&&(a.A[zn]=0,24<=++a.A[Bn]&&(a.A[Bn]=0,a.A[Dn]=a.A[Dn]%
7+1,f=a.A[Gn],g=jb[a.A[Fn]-1],28==g&&0===f%4&&(f%100||0===f%400)&&g++,f=g,++a.A[En]>f&&(a.A[En]=1,12<++a.A[Fn]&&(a.A[Fn]=1,a.A[Gn]=(a.A[Gn]+1)%100)))));a.A[In]|=wo;a.A[Kn]|=xo;a.A[Ye]&yo&&(a.A[Kn]|=ro,li(a,so))}a.T=c-d%b}}function zo(a,b){return a.model==Ao?a.G&Bo?!1:(a.G|=Bo,b&&a.G&mi&&Sh.call(a.J,2),!0):a.model<ii?a.Z&Co?(b&&li(a,Do,120),!0):!1:!b||a.ba&Zm||a.P&(Eo|Fo)?!1:(0<=b&&(a.fa=b,a.P|=Eo),li(a,Do,120),!0)}
function On(a){var b=!!(a.Fa&&a.J&&a.J.flags.Oa);var c=Math.round(Go/ko(a,lo));if(20>c||2E4<c)b=!1;if(a.H){var d;if(d=b)a:{if(a.H){if(a.M){d=!0;break a}try{if(a.M=a.H.createOscillator(),"start"in a.M){a.O=a.H.createGain();a.M.connect(a.O);a.O.connect(a.H.destination);a.O.gain.setValueAtTime(0,0);a.M.type="square";a.M.start(0);d=!0;break a}}catch(e){a.N(274877906944,"AudioContext exception: %s\n",e.message),a.H=null}}d=!1}d?(a.M.frequency.setValueAtTime(c,0),a.O.gain.setValueAtTime(a.Ea,0),a.N(134217728,
"speaker on at  %dhz\n",c)):a.O&&(a.O.gain.setValueAtTime(0,0),a.N(134217728,"speaker off at %dhz\n",c))}else b&&a.za!=b&&a.N(134217728,"BEEP\n");a.za=b}function io(a){var b=2048;if(a==oo)b|=524288;else if(a==Do)b|=8388608;else if(a==go)b|=0;else if(a==Ho||a==Io)b|=33554432;else if(a==Jo)b|=65536;else if(a==Ko)b|=32768;else if(a==so)b|=2097152;else if(a==Lo||a==Mo)b|=65536;return b}
var Ao=4860,Lm=5150,Dm=5150.9,ii=5170,Mm=5160.101,Vm=5180,Cm={4860:Ao,5150:Lm,5160:5160,5170:ii,att6300:Mm,mpc1600:5150.101,z150:5160.15,compaq:5150.102,other:Dm};Cm.deskpro386=Vm;var Fm="sw1",Jm="sw2",Nm="swdesc",dn=3,Rm=0,Sm=32,Tm=1,Um=160,oo=0,Do=1,go=2,Io=3,Ho=4,Jo=5,Ko=6,so=8,ho=9,ki=13,Lo=14,Mo=15,lo=2,no=0,po=4,Xe=6,Go=1193181,mo=1,Co=64,sn={qk:1,ONE:0,mm:64,km:128,im:192,bc:192,Sf:6},rn=2,qn={lm:16,COLOR:32,jm:48,bc:48,Sf:4},Hm=1,hg=3,Im=4,bo=5,co=6,Vn={};Vn[Lm]=[{},{}];
Vn[Lm][0][Hm]={bc:192,xc:{1:0,2:64,3:128,4:192},gd:"Number of Floppy Drives"};Vn[Lm][0][hg]={bc:2,xc:{0:0,1:2},gd:"FPU"};Vn[Lm][0][Im]={bc:48,xc:{0:0,1:16,2:32,3:48,none:0,tv:16,color:32,cga:32,mda:48,mono:48,ega:0,vga:0},gd:"Monitor Type"};Vn[Lm][0][bo]={bc:12,xc:{16:0,32:4,48:8,64:12},gd:"Base Memory (16Kb Increments)"};Vn[Lm][1][co]={bc:31,xc:{0:0,32:1,64:2,96:3,128:4,160:5,192:6,224:7,256:8,288:9,320:10,352:11,384:12,416:13,448:14,480:15,512:16,544:17,576:18},gd:"Expansion Memory (32Kb Increments)"};
Vn[5160]=[{},{}];Vn[5160][0][Hm]=Vn[Lm][0][Hm];Vn[5160][0][hg]=Vn[Lm][0][hg];Vn[5160][0][Im]=Vn[Lm][0][Im];Vn[5160][0][bo]={bc:12,xc:{64:0,128:4,192:8,256:12},gd:"Base Memory (64Kb Increments)"};Vn[5160][1][co]=Vn[Lm][1][co];Vn[Mm]=[{},{}];Vn[Mm][0][bo]={bc:143,xc:{128:1,256:130,512:8,640:141},gd:"Base Memory (128Kb Increments)"};Vn[Mm][0][hg]={bc:16,xc:{0:0,1:16},gd:"FPU"};Vn[Mm][1][2]={bc:1,xc:{0:0,1:1},gd:"Floppy Type"};Vn[Mm][1][Hm]=Vn[Lm][0][Hm];Vn[Mm][1][Im]=Vn[Lm][0][Im];
var Zm=16,fn=4,gn=8,cn=16,$m=32,en=64,an=128,hn=1,jn=2,Eo=1,Ym=16,Fo=256,xn=0,yn=1,zn=2,An=3,Bn=4,Cn=5,Dn=6,En=7,Fn=8,Gn=9,In=10,Ye=11,Kn=12,Ln=13,on=14,un=16,tn=20,mn=21,nn=24,pn=46,Nn=47,Hn=50,kn=64,wo=128,vo=128,Ze=64,uo=32,yo=16,Jn=2,ro=128,qo=64,to=32,xo=16,Mn=128,ao=0,Xn=1,Zn=2,Yn=3,$n=4,mi=128,Bo=1,Xm=0,Pn=[0,null,null,0,Array(4),0],Qn=[!0,[0,0],[0,0],[0,0],[0,0]],Rn=[0,Array(4)],Sn=[[0,0],[0,0],[0,0],[0,0]];
Jb(function(){for(var a=cc("pcx86","chipset"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Bm(d);bc(d,c);fo(d)}});
function No(a){Sb.call(this,"ROMx86",a,8192);this.D=+a.addr;this.G=+a.size;this.A=a.alias;"string"==typeof this.A&&("["!=this.A[0]?this.A=+this.A:this.A=eval(this.A));if(this.B=a.notify){var b=this.B.indexOf("[");if(0<b){try{eval(this.B.substr(b))}catch(c){}this.B=this.B.substr(0,b)}}if(this.C=this.F=a.file)a=Ya(Xa(this.C)),"json"!=a&&"hex"!=a&&(this.C=ob()+"/api/v1/dump?file="+this.F+"&format=bytes&decimal=true")}sa(No,Sb);
No.prototype.Mb=function(){if(this.zd){if(this.ga){var a=this.ga,b=this.id,c=this.D>>>4,d=this.D,e=this.G,f=this.zd,g={},h=[],k;for(k in f){var l=f[k];"number"==typeof l&&(f[k]=l={o:l});var n=l.o,m=l.s,q=l.a;if(void 0!==n){void 0!==m&&(g.Da=n,g.W=m,g.qa=void 0,a.Qb(g),(g.qa&-65536)==(a.sa.P&-65536)&&(g.qa&=1048575),l.p=g.qa);m=h;n=[n>>>0,k];var u=fb(m,n,a.Eh);0>u&&m.splice(-(u+1),0,n)}q&&(l.a=q.replace(/''/g,'"'))}a.I.push({wm:b,tm:0,W:c,Da:0,qa:d,ol:e,zd:f,vh:h})}delete this.zd}return!0};
No.prototype.Lb=function(){return!0};Jb(function(){for(var a=cc("pcx86","rom"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new No(d);bc(d,c)}});function Oo(a){Sb.call(this,"RAMx86",a);this.B=+a.addr;this.A=+a.size;this.F=a.test;this.D=!!this.A;this.C=!1}sa(Oo,Sb);p=Oo.prototype;p.ub=function(a,b,c){if(void 0===this.ca[b])switch(b){case "listSizes":return this.ca[b]=c,!0}return!1};p.Mb=function(a,b){return!b&&(this.reset(),a&&this.controller&&!this.restore(a))?!1:!0};
p.Lb=function(a){return a&&this.controller?this.save():!0};
p.reset=function(){if(!this.B&&!this.D&&this.la){var a=-1;var b=this.ca.listSizes;b&&(0<a&&(b.options[0].value=a.toString()),a=+b.options[b.selectedIndex].value);if(0<a){b=this.la;var c=a/1024,d=Wn(b,bo);!(c<=d[1]&&Gm(b,bo,c)&&Gm(b,co,0))&&c<=d[1]+Wn(b,co)[1]&&(c-=d[1],Gm(b,bo,d[1])&&Gm(b,co,c))}else a=1024*bn(this.la,0==a);this.A&&a!=this.A&&(Kd(this.sa,this.B,this.A),this.C=!1);this.A=a}if(a=this.ca.listSizes)for(b=1;b<a.options.length;b++)if(+a.options[b].value==this.A){a.selectedIndex!=b&&(a.selectedIndex=
b);break}!this.C&&this.A&&xd(this.sa,this.B,this.A,1)&&(this.C=!0,"ramCPQ"==this.ad&&(this.controller=new Po(this),xd(this.sa,Qo,4,4,this.controller)));this.C?(this.B||this.F||Qd(this.sa,1138,4660),"ramCPQ"!=this.ad&&this.la&&(a=this.la,a.A&&(b=1048576>this.B?mn:23,c=a.A[b]|a.A[b+1]<<8,c+=this.A>>10,a.A[b]=c&255,a.A[b+1]=c>>8,wn(a)))):Wb("No RAM allocated")};p.save=function(){var a=new Yg(this);this.controller&&a.set(0,this.controller.save());return a.data()};
p.restore=function(a){return this.controller?this.controller.restore(a[0]):!0};function Po(a){this.ca=a;this.I=Ro;this.P=So;this.H=To;this.A=null}sa(Po,nd);p=Po.prototype;p.save=function(){return[this.I,this.H]};p.restore=function(a){this.kb(0,a[0]&255);this.kb(2,a[1]&255);return!0};p.ra=function(a){var b=255;2>a?b=a&1?this.P>>8:this.P&255:4>a&&(b=a&1?this.H>>8:this.H&255);return b};
p.kb=function(a,b){if(a)2==a&&(this.H=this.H&-256|b);else if(b!=(this.I&255)){a=this.ca.sa;if(b&Uo)this.A&&(Fd(a,Vo,Wo,this.A),this.A=null);else{this.A||(this.A=Gd(a,Vo,Wo));var c=Gd(a,Xo,Wo);Fd(a,Vo,Wo,c,b&Yo?1:Md)}this.I=this.I&-256|b}};p.vf=function(){return Zo};p.jg=function(){return $o};var Qo=-2134900736,Xo=16646144,Vo=917504,Wo=131072,Uo=1,Yo=2,Ro=65535,So=2575,To=2,$o=[null,0],Zo=[function(a){return this.controller.ra(a)},function(a,b){this.controller.kb(a,b)}];
Jb(function(){for(var a=cc("pcx86","ram"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Oo(d);bc(d,c)}});
function ap(a){Sb.call(this,"Keyboard",a,8388608);bp(this,a.model);this.M=zb("!iPad");this.N("mobile keyboard support: %b\n",this.M);this.ia=yb("Windows");this.aa=0;this.H=a.softKeys;this.D=this.P=null;this.ba=this.ig=!1;this.C=[];this.ma=50;this.V=100;this.Z=this.I=0;this.O=Object.keys(cp);for(var b=0;b<this.O.length;b++)2>this.O[b].length&&(this.O.splice(b,1),b--);this.Y=a.autoType;this.T=null;this.K=dp;this.exports={type:this.Ee,wait:this.Rl};oc(this)}sa(ap,Sb);p=ap.prototype;
p.ub=function(a,b,c,d){var e=this,f=a+"-"+b;if(void 0===this.ca[f])switch(b){case "keys":case "keyboard":try{var g=document.getElementById(this.Ac+".soft-keyboard"+(this.M?"-mobile":""));if(!g){g=c.parentElement.parentElement.nextElementSibling;var h=g.className;this.M!=0<=h.indexOf("mobile")&&(g=g.nextElementSibling)}g&&(this.P=g,null!=this.H?ep(this,this.H):this.H="none"!=getComputedStyle(g).display,c.onclick=function(){ep(e,!e.H)},"ontouchstart"in window&&(g.ontouchstart=function(m){m.preventDefault()}))}catch(m){}return!0;
case "screen":return"textarea"!=a||yb("iPhone")||(this.D=c,this.D.addEventListener("copy",function(m){m.stopPropagation&&m.stopPropagation();m.preventDefault&&m.preventDefault();if((m=m.clipboardData||window.clipboardData)&&e.video){var q=e.video,u="",x=0;if(q.D)for(var y=0;y<q.G;y++){for(var z="",D=0;D<q.H;D++)D<q.A&&(z+=yc[q.F[x]&255]),x++;u+=z.replace(/\s*$/,"\n")}m.setData("text/plain",u)}}),this.D.addEventListener("cut",function(m){m.stopPropagation&&m.stopPropagation();m.preventDefault&&m.preventDefault();
(m=m.clipboardData||window.clipboardData)&&m.setData("text/plain",e.D.value)}),this.D.addEventListener("paste",function(m){m.stopPropagation&&m.stopPropagation();m.preventDefault&&m.preventDefault();if(m=m.clipboardData||window.clipboardData){m=m.getData("text/plain");var q=m.slice(-1);"$"==q&&(m=m.slice(0,-1),"$"==m.slice(-1)&&(q=""));"$"!=q&&(m=m.replace(/\$/g,"$$$$"));e.Ee(m.replace(/\r\n/g,"\r"))}})),c.onkeydown=function(m){return fp(e,m,!0)},c.onkeypress=function(m){var q=m||window.event;m=q.which||
q.keyCode;gp(e.ya,q)?(e.Z++,e.A="",q=!hp[m]||!!(e.B&ip),e.N(25769803776,"onKeyPress(%d): %b\n",m,q),q||jp(e,m,!0),m=q):m=!1;return m},c.onkeyup=function(m){return fp(e,m,!1)},!0;case "caps-lock":if("led"==a)return this.ca[f]=c,c.onclick=function(m){e.wc(m);jp(e,kp,!0)},!0;case "num-lock":if("led"==a)return this.ca[f]=c,c.onclick=function(m){e.wc(m);jp(e,lp,!0)},!0;case "scroll-lock":if("led"==a)return this.ca[f]=c,c.onclick=function(m){e.wc(m);jp(e,mp,!0)},!0;default:h=b.toUpperCase().replace(/-/g,
"_");if(void 0!==np[h]&&"button"==a)return this.ca[f]=c,c.onclick=function(m,q,u){return function(x){m.N(25769803776,"%s clicked\n",q);m.wc(x);m.A="";op(m,u,!0);jp(m,u,!0)}}(this,h,np[h]),!0;if(void 0!==cp[b]){if((h=c.parentElement.parentElement.className)&&this.M!=0<=h.indexOf("mobile"))break;this.aa++;this.ca[f]=c;var k=0,l=0,n=pp[cp[b]]<=qp;a=function(m,q,u){return function(x){var y=x.timeStamp-k;l=l&&250>y?l<<1:1;k=x.timeStamp;x.preventDefault();m.A="";jp(m,u)}}(this,b,cp[b]);b=function(m,q,u){return function(x){if(l){var y=
x.timeStamp-k;l=n&&250>y?l<<1:0;k=x.timeStamp;8>l?rp(m,u):l=0}}}(this,b,cp[b]);"ontouchstart"in window?(c.ontouchstart=a,c.ontouchend=b):(c.onmousedown=a,c.onmouseup=c.onmouseout=b);return!0}if(d)return this.ca[f]=c,c.onclick=function(m){e.wc(m);return e.Ee(d)},!0}return!1};p.wc=function(a){a.preventDefault();!this.H&&this.ya&&this.ya.wc()};
function sp(a,b,c){if(a.aa&&a.H){for(var d in Qa)if(b==Qa[d]){b=+d;(d=Oa[d])&&(b=+d);break}b==tp?b=lp:b==up?b=mp:b==vp?b=wp:b==xp?b=yp:b==zp?b=Ap:b==Bp&&(b=Cp);for(var e in cp)if((d=cp[e]==b)||(d=b,d>=v.a&&d<=v.z&&(d-=v.a-v.Rd),d=cp[e]==d),d){(a=a.ca["key-"+e])&&void 0!==c&&(a.style.color=c?"#ffffff":"#000000",a.style.backgroundColor=c?"#000000":"#ffffff");break}}}p.start=function(){this.D&&(this.D.style.lineHeight="normal",this.D.focus(),this.D.select());this.K==Dp&&(this.K=Ep,this.Y&&this.Ee(this.Y))};
function bp(a,b){var c=0;a.model=null;"string"==typeof b&&(a.model=b.toUpperCase(),c=Fp.indexOf(a.model),0>c&&(c=0));if(b=Fp[c])a.ka=parseInt(b.substr(2),10)}p.Mb=function(a,b){return!b&&(this.reset(),a&&this.restore&&!this.restore(a))?!1:!0};p.Lb=function(a){return a?this.save():!0};p.reset=function(){if(!this.model&&this.la)switch(this.la.model){case Lm:case 5160:bp(this,Fp[0]);break;default:bp(this,Fp[1])}Gp(this)};
p.save=function(){var a=new Yg(this),b=[],c=0;b[c++]=this.fa;b[c++]=this.ha;b[c++]=this.K;b[c++]=this.A;b[c]=this.I;a.set(0,b);return a.data()};p.restore=function(a){return Gp(this,a[0])};function Gp(a,b){b?b[2]=a.ya.T?Dp:b[2]||Ep:b=[!1,!1,dp];var c=0;a.fa=b[c++];a.ha=b[c++];a.K=b[c++];a.A=b[c++]||"";a.I=b[c]||a.V;a.B=a.F=a.L=0;a.G=[];return!0}function ep(a,b){a.P&&(b?(a.P.style.display="block",a.D&&(a.D.readOnly=!0)):(a.P.style.display="none",a.D&&(a.D.readOnly=!1)));a.H=b}
p.Ee=function(a,b){b=void 0===b?this.V:b;if(a){if(a){for(var c=new Date,d,e=/(?:^|[^$])\$([a-z0-9][a-z0-9-]+)/g;d=e.exec(a);){e.lastIndex&&e.lastIndex--;switch(d[1]){case "date":var f=eb("%M-%02D-%04Y",c);break;case "time":f=eb("%H:%02N:%02S",c);break;default:continue}a=a.replace("$"+d[1],f)}a=a.replace(/\$\$/g,"\u001f")}return a?(this.K=Ep,this.A=a,this.I=b||0,this.Ee(),!0):!1}1E3<=this.I&&(this.I=this.V);for(b=0;0<this.A.length&&!b;){a=this.A.charAt(0);if("$"==a){if(c=this.A.match(/^\$([0-9]+)\.?/)){this.I=
100*+c[1]||this.V;this.A=this.A.substr(c[0].length);break}for(c=0;c<this.O.length;c++){d=this.O[c];if(1==this.A.indexOf(d)){b=cp[d];this.A=this.A.substr(d.length+1);break}if((e=0==d.indexOf("num-")?d.substr(4):"")&&1==this.A.indexOf(e)){b=cp[d];this.A=this.A.substr(e.length+1);break}}}if(b)break;this.A=this.A.substr(1);a=a.charCodeAt(0);a<=v.uh?(b=a,10==a&&(b=13),a!=v.Of&&a!=v.Pf&&a!=v.Qf&&(b+=4E3)):28==a?b=v.Of+4E3:29==a?b=v.Pf+4E3:30==a?b=v.Qf+4E3:31==a?b=v.$:127>=a&&(b=a)}b&&(a=void 0===Hp[b],
jp(this,b,a),a&&Ip(this,!0));this.A.length?Pe(this.J,this.ta,this.I):this.T&&(this.T(),this.T=null);return!0};p.Rl=function(a,b){var c=!1;switch(b){case "DOS":break;default:this.A.length?this.T=a:c=!0}return c};p.Mf=function(a,b){a.style.backgroundColor=b?"#00ff00":"#000000"};
function op(a,b,c,d){var e=0;if(hp[b]){var f=Math.floor(b/1E3)&2;if(b=pp[b]||0){!f||b&Jp||(b>>=1);if(b&Kp){if(!1===d)return-1;d=null}null==d?d=!((c?a.F:a.B)&b):d||c||b&qp&&(b=qp);if(!c)a.B&=~b,d&&(a.B|=b);else if(!(a.F&qp&&b&Kp)){a.F&=~b;d&&(a.F|=b);c=b;var g,h;for(h in Lp)e="led-"+h,f=Lp[h],c&&c!=f||!(g=a.ca[e])||a.Mf(g,!!(a.F&f))}e=d?1:-1}}return e}
function jp(a,b,c){if((hp[b]||hp[b+=1E3])&&a.J&&a.J.flags.Oa){pp[b]&&a.C.length&&0<a.C[0].od&&(a.C[0].od=0);var d;for(d=0;d<a.C.length;d++){var e=a.C[d];if(e.td==b){if(!c||0<=e.od){d=-1;break}0<d&&(0<a.C[0].od&&(a.C[0].od=0),a.C.splice(d,1));break}}0>d||(d==a.C.length&&(e={td:b},sp(a,b,!0),d++),0<d&&a.C.splice(0,0,e),e.rf=!0,e.od=c?-1:pp[b]?0:1,Mp(a,e))}}function Ip(a,b){for(var c=0;c<a.C.length;c++){var d=a.C[c];(!b||Hp[d.td])&&rp(a,d.td)&&c--}}
function rp(a,b,c){if(!hp[b]||!(c||a.J&&a.J.flags.Oa))return!1;for(var d=!1,e=0;e<a.C.length;e++){var f=a.C[e];if(f.td==b||f.td==Qa[b]){a.C.splice(e,1);f.Pd&&clearTimeout(f.Pd);f.rf&&!c&&Np(a,f.td,!1);sp(a,b,!1);d=!0;break}}!a.C.length&&a.ba&&(op(a,kp),a.ba=!1);return d}
function Mp(a,b,c){if(a.J&&a.J.flags.Oa){if(c&&0>b.od&&(b.rf=!1),Np(a,b.td,b.rf)&&b.od){if(0>b.od){if(!b.rf){rp(a,b.td);return}var d=a.ma}else d=1==b.od++?500:100;b.Pd&&clearTimeout(b.Pd);b.Pd=setTimeout(function(e){return function(){Mp(e,b,d)}}(a),d)}}else rp(a,b.td,!0)}function Op(a,b,c){var d=b;if(b>=v.Rd&&b<=v.Tf)!(a.B&(Pp|Qp|Rp))==c&&(d=b+(v.a-v.Rd));else if(b>=v.a&&b<=v.z)!!(a.B&(Pp|Qp|Rp))==c&&(d=b-(v.a-v.Rd));else if(!!(a.B&(Pp|Qp))==c){if(a=Qa[b])d=a}else if(a=Oa[b])d=a;return d}
p.Hf=function(a){a||(this.B&=~qp,Ip(this))};
function fp(a,b,c){var d=!0,e=!1,f=!1,g=b.keyCode;yb("iOS")&&a.B&Sp&&13==g&&(g=v.rh);if(229==g&&b.code){var h=b.code;g=0==h.indexOf("Key")?h.charCodeAt(3):0==h.indexOf("Digit")?h.charCodeAt(5):Na[h]||0;a.N(25769803776,"onKeyActive(%d): remapped using event code '%s'\n",g,h)}if(!gp(a.ya,b,c))return!1;c&&(a.Z++,a.A="",27!=g&&(a.K=Ep));gc(a.Ac);h=Op(a,g,!0);a.ig&&h==v["`"]&&(g=h=27);if(hp[g+1E3])if(h+=1E3,2==b.location&&(h+=2E3),op(a,h,!1,c)){if(20==g||144==g||145==g)a.ia||(c=e=!0);c||91!=g&&93!=g||
Ip(a)}else 8==g&&(a.B&(Sp|Tp))==Sp&&(h=up),8==g&&(a.B&(Sp|Tp))==(Sp|Tp)&&(h=vp),d=!1;else if((a.B&(Sp|Tp))==(Sp|Tp)&&(190==g&&(h=vp),187==g?h=zp:189==g&&(h=Bp)),hp[h]&&a.B&(Up|Vp)&&(d=!1),d&&c||a.B&Wp)f=!0;d||b.preventDefault();a.N(25769803776,"onKeyActive(%d): %b%s\n",g,c,f?",ignore":d?"":",consume");f||a.M&&d||(c?jp(a,h,e):rp(a,h)||(b=Op(a,g,!1),b!=h&&rp(a,b)));return d}
function Np(a,b,c){var d=!1;op(a,b,!0,c);var e=hp[b]||hp[b+1E3];if(void 0!==e){d=[];var f=e&255;if(83<f&&83==a.ka)return!1;d.push(f|(c?0:Xp));for(b=b>=v.Rd&&b<=v.Tf||b>=v.a&&b<=v.z;e>>>=8;){var g=e&255;if(f==Yp||f==Zp)d.push(f|(c?0:Xp));else{var h=0;g==Q?a.F&(Pp|Qp)||a.F&Rp&&b||(h|=Pp):g==$p?a.F&(Sp|aq)||(h|=Sp):g==bq?a.F&(Tp|cq)||(h|=Tp):d.push(f|(c?0:Xp));h&&(c?a.L|=h:a.L&h?a.L&=~h:h=0);h&&(c?d.unshift(g):d.push(g|Xp))}}for(c=0;c<d.length;c++)if(e=a,f=d[c],e.G)if(e.G.length<dq){!e.la||e.la.model!=
Vm||e.J.ia&1||(b=e.sa,b.V[(1046&b.B)>>>12].me(1046&b.C,0,1046));e.G.push(f);if(f=e.la)f=e.J,b=e.na,f=!(0<=b&&b<f.Ua.length&&0<=f.Ua[b][1]);f&&(f=e.G.length?e.G[0]:0,zo(e.la,f)&&e.G.shift(),f&&Pe(e.J,e.na,25))}else e.G.length==dq&&e.G.push(eq),e.N("keyboard buffer overflow\n");d=!0}return d}
var Fp=["US83","US84","US101"],kp=1020,lp=1144,mp=1145,Ap=1107,Cp=1109,yp=1045,wp=1046,fq=v.Mj+4E3,gq=v.Nj+4E3,hq=v.Oj+4E3,iq=v.Pj+4E3,jq=v.Qj+4E3,kq=v.Rj+4E3,lq=v.Sj+4E3,mq=v.sh+4E3,nq=v.Of+4E3,oq=v.Pf+4E3,pq=v.Tj+4E3,qq=v.Uj+4E3,rq=v.Qf+4E3,sq=v.Vj+4E3,tq=v.Wj+4E3,uq=v.Xj+4E3,vq=v.Yj+4E3,wq=v.Zj+4E3,xq=v.$j+4E3,yq=v.th+4E3,zq=v.ak+4E3,Aq=v.bk+4E3,Bq=v.ck+4E3,Cq=v.dk+4E3,Dq=v.ek+4E3,Eq=v.uh+4E3,tp=4144,up=4145,vp=4046,xp=4045,zp=4107,Bp=4109,Fq=Ma+4E3,$p=29,Q=42,bq=56,Xp=128,Yp=224,Zp=225,Qp=1,Pp=
2,aq=4,Sp=8,Up=12,cq=16,Tp=32,Vp=48,ip=128,Wp=192,Jp=85,qp=255,Rp=512,Kp=3584,Gq={},Hp=(Gq[3016]=Qp,Gq[1016]=Pp,Gq[1017]=Sp,Gq[1018]=Tp,Gq[3018]=Tp,Gq[1091]=ip,Gq[1093]=64,Gq[1224]=ip,Gq),Hq={},pp=(Hq[3016]=Qp,Hq[1016]=Pp,Hq[1017]=Sp,Hq[1018]=Tp,Hq[3018]=Tp,Hq[1091]=ip,Hq[1093]=64,Hq[1224]=ip,Hq[kp]=Rp,Hq[lp]=1024,Hq[mp]=2048,Hq),np={TAB:1009,ESC:1027,F1:1112,F2:1113,F3:1114,F4:1115,F5:1116,F6:1117,F7:1118,F8:1119,F9:1120,F10:1121,LEFT:1037,UP:1038,RIGHT:1039,DOWN:1040,NUM_HOME:1036,NUM_END:1035,
NUM_PGUP:1033,NUM_PGDN:1034,ALT:1018,SYS_REQ:4027,CTRL_C:hq,CTRL_PAUSE:tp,CTRL_BREAK:up,CTRL_ALT_DEL:vp,CTRL_ALT_INS:xp,CTRL_ALT_ADD:zp,CTRL_ALT_SUB:Bp,CTRL_ALT_ENTER:Fq,SHIFT_TAB:4009},cp={esc:1027,1:v["1"],2:v["2"],3:v["3"],4:v["4"],5:v["5"],6:v["6"],7:v["7"],8:v["8"],9:v["9"],0:v["0"],"-":v["-"],"=":v["="],bslash:v["\\"],bs:1008,tab:1009,q:v.q,w:v.w,e:v.e,r:v.r,t:v.t,y:v.y,u:v.zj,i:v.Nh,o:v.aj,p:v.p,"[":v["["],"]":v["]"],enter:13,ctrl:1017,a:v.a,s:v.tj,d:v.d,f:v.f,g:v.Kh,h:v.Mh,j:v.Ph,k:v.k,l:v.Qh,
";":v[";"],quote:v["'"],"`":v["`"],shift:1016,"\\":v["\\"],z:v.z,x:v.x,c:v.c,v:v.Cj,b:v.b,n:v.n,m:v.Uh,",":v[","],".":v["."],"/":v["/"],"right-shift":3016,prtsc:1044,alt:1018,space:1032,"caps-lock":kp,f10:1121,f1:1112,f2:1113,f3:1114,f4:1115,f5:1116,f6:1117,f7:1118,f8:1119,f9:1120,"num-lock":lp,"scroll-lock":mp,"num-home":1036,"num-up":1038,"num-pgup":1033,"num-sub":Cp,"num-left":1037,"num-center":1101,"num-right":1039,"num-add":Ap,"num-end":1035,"num-down":1040,"num-pgdn":1034,"num-ins":yp,"num-del":wp,
"sys-req":4027},Lp={"caps-lock":Rp,"num-lock":1024,"scroll-lock":2048},R={},hp=(R[1027]=1,R[v["1"]]=2,R[v["!"]]=2|Q<<8,R[v["2"]]=3,R[v["@"]]=3|Q<<8,R[v["3"]]=4,R[v["#"]]=4|Q<<8,R[v["4"]]=5,R[v.$]=5|Q<<8,R[v["5"]]=6,R[v["%"]]=6|Q<<8,R[v["6"]]=7,R[v["^"]]=7|Q<<8,R[v["7"]]=8,R[v["&"]]=8|Q<<8,R[v["8"]]=9,R[v["*"]]=9|Q<<8,R[v["9"]]=10,R[v["("]]=10|Q<<8,R[v["0"]]=11,R[v[")"]]=11|Q<<8,R[v["-"]]=12,R[v._]=12|Q<<8,R[v["="]]=13,R[v["+"]]=13|Q<<8,R[1008]=14,R[1009]=15,R[v.q]=16,R[v.Q]=16|Q<<8,R[v.w]=17,R[v.Jk]=
17|Q<<8,R[v.e]=18,R[v.E]=18|Q<<8,R[v.r]=19,R[v.Ek]=19|Q<<8,R[v.t]=20,R[v.Gk]=20|Q<<8,R[v.y]=21,R[v.Lk]=21|Q<<8,R[v.zj]=22,R[v.Hk]=22|Q<<8,R[v.Nh]=23,R[v.pk]=23|Q<<8,R[v.aj]=24,R[v.Ck]=24|Q<<8,R[v.p]=25,R[v.Dk]=25|Q<<8,R[v["["]]=26,R[v["{"]]=26|Q<<8,R[v["]"]]=27,R[v["}"]]=27|Q<<8,R[13]=28,R[1017]=$p,R[v.a]=30,R[v.Rd]=30|Q<<8,R[v.tj]=31,R[v.Fk]=31|Q<<8,R[v.d]=32,R[v.gk]=32|Q<<8,R[v.f]=33,R[v.kk]=33|Q<<8,R[v.Kh]=34,R[v.mk]=34|Q<<8,R[v.Mh]=35,R[v.nk]=35|Q<<8,R[v.Ph]=36,R[v.rk]=36|Q<<8,R[v.k]=37,R[v.yk]=
37|Q<<8,R[v.Qh]=38,R[v.zk]=38|Q<<8,R[v[";"]]=39,R[v[":"]]=39|Q<<8,R[v["'"]]=40,R[v['"']]=40|Q<<8,R[v["`"]]=41,R[v["~"]]=41|Q<<8,R[1016]=Q,R[v["\\"]]=43,R[v["|"]]=43|Q<<8,R[v.z]=44,R[v.Tf]=44|Q<<8,R[v.x]=45,R[v.Kk]=45|Q<<8,R[v.c]=46,R[v.rh]=46|Q<<8,R[v.Cj]=47,R[v.Ik]=47|Q<<8,R[v.b]=48,R[v.Lj]=48|Q<<8,R[v.n]=49,R[v.Bk]=49|Q<<8,R[v.Uh]=50,R[v.Ak]=50|Q<<8,R[v[","]]=51,R[v["<"]]=51|Q<<8,R[v["."]]=52,R[v[">"]]=52|Q<<8,R[v["/"]]=53,R[v["?"]]=53|Q<<8,R[3016]=54,R[1044]=55,R[1018]=bq,R[3018]=bq,R[1032]=57,
R[kp]=58,R[1112]=59,R[1113]=60,R[1114]=61,R[1115]=62,R[1116]=63,R[1117]=64,R[1118]=65,R[1119]=66,R[1120]=67,R[1121]=68,R[lp]=69,R[mp]=70,R[1036]=71,R[1103]=71,R[1038]=72,R[1104]=72,R[1033]=73,R[1105]=73,R[1037]=75,R[1100]=75,R[1101]=76,R[1039]=77,R[1102]=77,R[1035]=79,R[1097]=79,R[1040]=80,R[1098]=80,R[1034]=81,R[1099]=81,R[yp]=82,R[1096]=82,R[Ap]=78,R[Cp]=74,R[wp]=83,R[1110]=83,R[4027]=84,R[1122]=87,R[1123]=88,R[1091]=91,R[1093]=93,R[1224]=91,R[fq]=30|$p<<8,R[gq]=48|$p<<8,R[hq]=46|$p<<8,R[iq]=32|
$p<<8,R[jq]=18|$p<<8,R[kq]=33|$p<<8,R[lq]=34|$p<<8,R[mq]=35|$p<<8,R[nq]=23|$p<<8,R[oq]=36|$p<<8,R[pq]=37|$p<<8,R[qq]=38|$p<<8,R[rq]=50|$p<<8,R[sq]=49|$p<<8,R[tq]=24|$p<<8,R[uq]=25|$p<<8,R[vq]=16|$p<<8,R[wq]=19|$p<<8,R[xq]=31|$p<<8,R[yq]=20|$p<<8,R[zq]=22|$p<<8,R[Aq]=47|$p<<8,R[Bq]=17|$p<<8,R[Cq]=45|$p<<8,R[Dq]=21|$p<<8,R[Eq]=44|$p<<8,R[up]=70|$p<<8,R[vp]=83|$p<<8|bq<<16,R[xp]=82|$p<<8|bq<<16,R[zp]=78|$p<<8|bq<<16,R[Bp]=74|$p<<8|bq<<16,R[Fq]=28|$p<<8|bq<<16,R[4009]=15|Q<<8,R),eq=255,dq=20,Ep=0,Dp=
1,dp=2;Jb(function(){for(var a=cc("pcx86","keyboard"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new ap(d);bc(d,c)}});
function Iq(a,b,c,d){if(void 0!==b&&(!c||c.length)){this.video=a;var e=Jq[b],f=a.ba||e[5];if(!c||6>c.length)c=[!1,0,null,null,0,Array(b<Kq?Lq:Mq)];this.ga=a.ga;this.type=e[0];this.port=e[1];this.Ha=b;this.Wa=e[2];this.qb=e[3];this.Yc=d||e[4];65536<=this.Yc&&720896<=this.Wa&&(this.qb=Math.min(this.Yc>>2,32768));this.zc=c[0];this.rd=c[1];this.pj=c[2];this.A=c[3];this.P=c[4]&255;this.ca=c[4]>>8&255;this.Ya=c[5];this.ie=this.Ya[Nq]|this.Ya[Oq]<<8;this.sj=0;this.cf=63;b<Kq?(Pq(this,c[6],c[8]),this.Te(Qq|
Rq)):(this.cf=255,b=c[6],void 0===b&&(b=[!1,0,Array(Sq),0,f==dn?0:Tq,0,0,Array(Uq),0,0,0,Array(Vq),0,[this.Wa,this.qb,this.Yc],null,Qq|Rq|Wq,0,-1,0,-1,0,-1,0,0,0,0,Xq,Yq,0,0,Zq,Array($q)]),this.I=b[0],this.oj=b[1],this.Sc=b[2],this.fa=b[3],this.rj=b[4],this.Z=b[5],this.ba=b[6],this.Tc=b[7],this.aa=b[8],this.ya=b[9],this.la=b[10],this.ke=b[11],this.C=b[12],d=b[13],"number"==typeof d&&(d=[this.Wa,this.qb,d]),this.Wa=d[0],this.qb=d[1],Pq(this,b[14],this.Yc>>2),(d=b[15])&&(d&Wq?d&=~Wq:d=ar[d&65280]|ar[d&
255]),this.Te(d),this.M=b[16],this.B=b[17],this.Bc=b[18],this.D=b[19],this.O=b[20],this.G=b[21],this.F=b[22],this.K=b[23],this.L=b[24],this.ie=b[25],this.Ha==br&&(this.ha=b[26],this.V=b[27],this.T=b[28],this.Y=b[29],this.sa=b[30],this.qj=b[31]),this.xe=0);f=cr[f]||cr[dn];this.wg=a.J.Ed/f.Ef|0;this.sl=this.wg*f.If/100|0;this.Wh=this.wg*f.Df|0;this.Xh=this.Wh/(f.Jf/100)|0;this.Af=c[7]||0;this.Vh=0}}sa(Iq,nd);
function Pq(a,b,c){var d=a.Yc>>2;a.Eb=b;if(a.Eb&&a.Eb.length){if(d=c||d,a.Eb.length<d){b=a.Eb;for(var e=0,f=Array(d),g=0;g<b.length-1;){for(var h=b[g++],k=b[g++];h--;)f[e]=k,e+=2;e==d&&(e=1)}a.Eb=f}}else c||(c=2*d),a.Eb=Array(c);if(!c){c=a.Eb;b=Array(2*a.Eb.length);for(e=d=0;d<a.Eb.length;d++,e+=2)b[e]=c[d]&65535,b[e+1]=c[d]>>16&65535;a.Eb=b}}
function dr(a){var b=[];if(void 0!==a.Ha){b[0]=a.zc;b[1]=a.rd;b[2]=a.pj;b[3]=a.A;b[4]=a.P|a.ca<<8;b[5]=a.Ya;if(a.Ha<Kq)var c=er(a.Eb);else c=[],c[0]=a.I,c[1]=a.oj,c[2]=a.Sc,c[3]=a.fa,c[4]=a.rj,c[5]=a.Z,c[6]=a.ba,c[7]=a.Tc,c[8]=a.aa,c[9]=a.ya,c[10]=a.la,c[11]=a.ke,c[12]=a.C,c[13]=[a.Wa,a.qb,a.Yc],c[14]=er(a.Eb),c[15]=a.zf|Wq,c[16]=a.M,c[17]=a.B,c[18]=a.Bc,c[19]=a.D,c[20]=a.O,c[21]=a.G,c[22]=a.F,c[23]=a.K,c[24]=a.L,c[25]=a.ie,a.Ha==br&&(c[26]=a.ha,c[27]=a.V,c[28]=a.T,c[29]=a.Y,c[30]=a.sa,c[31]=a.qj);
b[6]=c;b[7]=a.Af;b[8]=a.Eb.length}return b}Iq.prototype.jg=function(a){return[this.Eb,a-this.Wa]};Iq.prototype.vf=function(){return this.H};Iq.prototype.Te=function(a){if(null!=a&&a!=this.zf){var b=a&fr,c=gr[b];c||b&hr&&(c=gr[hr]);b=a&ir;var d=gr[b];d||b&jr&&(d=gr[jr]);this.H||(this.H=Array(6));this.H[0]=c;this.H[1]=d;this.zf=a}};
function kr(a,b){var c=a.Ya[b];if(null!=c&&a.Ha>=Kq){var d=0,e=0,f=0;switch(b){case lr:d=mr;a.Ha==br&&(e=nr);break;case or:a.Ha==Kq&&(d=pr);break;case qr:d=rr;a.Ha==br&&(e=sr);break;case tr:d=ur;a.Ha==br&&(e=vr);break;case wr:d=xr;a.Ha==br&&(f=yr);break;case zr:d=Ar,a.Ha==br&&(f=Br)}d&&(c|=a.Ya[Cr]&d?256:0,c|=a.Ya[Cr]&e?512:0,c|=a.Ya[Dr]&f?512:0)}return c}
var Oq=12,Nq=13,Lq=18,lr=6,Cr=7,mr=1,ur=2,rr=4,xr=8,Ar=16,pr=32,nr=32,vr=64,sr=128,Dr=9,yr=32,Br=64,or=10,qr=16,tr=18,wr=21,zr=24,Mq=25,Er={},Fr=(Er[0]=255,Er[1]=255,Er[2]=255,Er[3]=15,Er[4]=127,Er[5]=31,Er[6]=127,Er[7]=127,Er[8]=3,Er[9]=31,Er[10]=127,Er[11]=31,Er[Oq]=63,Er[Nq]=255,Er[14]=63,Er[15]=255,Er[16]=63,Er[17]=255,Er),Sq=20,Tq=1,Xq=1,Uq=5,Yq=255,Zq=0,$q=256,Vq=9,Qq=2048,hr=4096,fr=65280,Rq=8,jr=16,ir=255,Wq=-2147483648,ar=[,,1024];ar[3]=1024|hr;ar[16]=1280;ar[512]=0;ar[1024]=32;
ar[1536]=96;ar[2560]=160;ar[3584]=224;ar[768]=0|jr;ar[4096]=1;ar[8192]=2;ar[24576]=98;ar[40960]=162;ar[57344]=226;var gr=[];gr[1024]=function(a){a+=this.D;return(this.controller.C=this.X[a])>>this.controller.M&255};gr[17408]=function(a){return(this.controller.C=this.X[(a&-4)+this.D])>>((a&3)<<3)&255};gr[1024|hr]=function(a){var b=(a+=this.D)&-2;b=this.controller.C=this.X[b];return(a&1?b>>8:b)&255};
gr[1280]=function(a){var b=this.controller;a=b.C=this.X[a+this.D];var c=b.L;b=b.K&c;for(var d=0,e=128;e;)(a&c)==b&&(d|=e),b>>>=1,c>>>=1,e>>=1;return d};gr[Qq]=function(a){a+=this.D;return this.X[a>>1]>>>((a&1)<<3)&255};gr[0]=function(a,b){var c=this.controller;a+=this.D;b=(b|b<<8|b<<16|b<<24)&c.G|c.F;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;var d=this.X[a]^b;d&&(this.X[a]=b,this.flags|=Dd,d&16711680&&(a=1<<(a>>13&7),c.xe&a||(c.xe|=a)))};
gr[32]=function(a,b){var c=this.controller;a+=this.D;b=b>>c.Bc|b<<8-c.Bc&255;b=(b|b<<8|b<<16|b<<24)&c.G|c.F;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};gr[96]=function(a,b){var c=this.controller;a+=this.D;b=b>>c.Bc|b<<8-c.Bc&255;b=(b|b<<8|b<<16|b<<24)&c.G|c.F;b&=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};
gr[160]=function(a,b){var c=this.controller;a+=this.D;b=b>>c.Bc|b<<8-c.Bc&255;b=(b|b<<8|b<<16|b<<24)&c.G|c.F;b|=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};gr[224]=function(a,b){var c=this.controller;a+=this.D;b=b>>c.Bc|b<<8-c.Bc&255;b=(b|b<<8|b<<16|b<<24)&c.G|c.F;b^=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};
gr[4]=function(a,b){var c=this.controller,d=(a&-4)+this.D;a=(a&3)<<3;b=b<<a&c.B|this.X[d]&~(255<<a&c.B);this.X[d]!=b&&(this.X[d]=b,this.flags|=Dd)};gr[0|jr]=function(a,b){var c=this.controller,d=(a+=this.D)&-2;b=(b|b<<8|b<<16|b<<24)&c.D|c.C&~c.D;a=c.B&(d==a?16711935:-16711936);b=b&a|this.X[d]&~a;this.X[d]!=b&&(this.X[d]=b,this.flags|=Dd)};gr[1]=function(a){var b=this.controller;a+=this.D;b=this.X[a]&~b.B|b.C&b.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};
gr[1|jr]=function(a){var b=this.controller,c=(a+=this.D)&-2;a=b.B&(c==a?16711935:-16711936);b=this.X[c]&~a|b.C&a;this.X[c]!=b&&(this.X[c]=b,this.flags|=Dd)};gr[2]=function(a,b){var c=this.controller;a+=this.D;b=Gr[b&15];b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};gr[98]=function(a,b){var c=this.controller;a+=this.D;b=Gr[b&15];b&=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};
gr[162]=function(a,b){var c=this.controller;a+=this.D;b=Gr[b&15];b|=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};gr[226]=function(a,b){var c=this.controller;a+=this.D;b=Gr[b&15];b^=c.C;b=b&c.D|c.C&~c.D;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};gr[3]=function(a,b){var c=this.controller;a+=this.D;b=b>>c.Bc|b<<8-c.Bc&255;b=(b|b<<8|b<<16|b<<24)&c.D;b=c.O&b|c.C&~b;b=b&c.B|this.X[a]&~c.B;this.X[a]!=b&&(this.X[a]=b,this.flags|=Dd)};
gr[Rq]=function(a,b){a+=this.D;var c=a>>1;a=(a&1)<<3;b=this.X[c]&~(255<<a)|b<<a;this.X[c]!=b&&(this.X[c]=b,this.flags|=Dd)};
function Hr(a,b,c,d,e,f){Sb.call(this,"Video",a,536870912);var g=this,h;this.ud=[];this.model=a.model;var k=Ir[this.model]||Ir.mda;this.Ha=k[0];var l=a.irq;void 0==l&&(l=2);this.Uc=this.Ha>=Kq&&0<=l&&15>=l?l:void 0;this.Wb=this.Z=this.nb=this.D=0;this.Yc=+a.memory||0;this.Lc=a.randomize;null==this.Lc&&(this.Lc=1);this.aa=a.mode;if(null==this.aa||null==Jr[this.aa])this.aa=k[1];this.Fc=a.charCols;this.Mc=a.charRows;if(void 0===this.Fc||void 0===this.Mc)this.Fc=Jr[this.aa][0],this.Mc=Jr[this.aa][1];
this.na=a.screenWidth;this.va=a.screenHeight;this.fa=b;this.L=c;this.C=(this.og=d)||b||null;this.pc=a.screenColor||"black";this.vc=this.Pb=!1;b&&(b.style.backgroundColor=this.pc,this.vc=document.fullscreenEnabled||yb("Edge/"));e&&(e.style.backgroundColor=this.pc);b=a.smoothing;(c=Ab("smoothing"))&&(b="true"==c);this.Xc=b;this.ed=Bb(this.L,"imageSmoothingEnabled");this.Y=null;this.wd=a.autoLock;this.Wa=this.qb=0;this.ka=[];this.Vc=[];this.T=Array(this.Ha==br?256:16);this.Ka=!1;this.F=[];this.V=this.dd=
0;this.lb=!1;this.xd=this.Nc=0;if(this.O=e)if(h=Bb(e,"requestFullscreen")||Bb(e,"requestFullScreen")){this.O.A=e[h];if(e=Bb(document,"on","fullscreenchange")){var n=Bb(document,"fullscreenElement")||Bb(document,"fullScreenElement");document.addEventListener(e,function(){Kr(g,null!=document[n])},!1)}(e=Bb(document,"on","fullscreenerror"))&&document.addEventListener(e,function(){Kr(g)},!1)}if(this.C&&(this.C.onfocus=function(){return g.Hf(!0)},this.C.onblur=function(){return g.Hf(!1)},this.C.Md=(h=
Bb(this.C,"requestPointerLock"))&&this.C[h],this.C.B=(h=Bb(this.C,"exitPointerLock"))&&this.C[h],this.C.Md&&(e=Bb(document,"on","pointerlockchange")))){var m=Bb(document,"pointerLockElement");document.addEventListener(e,function(){g.Ne(!(!m||document[m]!==g.C))},!1)}(this.rb=a.fontROM)&&"json"!=Ya(this.rb)&&(this.rb=ob()+"/api/v1/dump?file="+this.rb+"&format=bytes");this.hc=[];if(f)for(a=0;a<f.length;a++)h=f[a],"CANVAS"==h.tagName&&(h=h.getContext("2d"),this.hc.push(h));this.Na={};this.xb={}}
sa(Hr,Sb);p=Hr.prototype;
p.ub=function(a,b,c,d){var e=this;if(!this.ca[b])switch(this.ca[b]=c,b){case "fullScreen":return this.O&&this.O.A?c.onclick=function(){if(e.O){if(e.O.A){var f="100%";if(screen&&screen.width&&screen.height){var g=screen.width/screen.height,h=e.na/e.va;g>h&&(f=Math.round(h/g*100)+"%")}e.vc?(e.fa.style.width=f,e.fa.style.height="auto",e.fa.style.display="block",e.fa.style.margin="auto"):(e.O.style.width=f,e.O.style.height="auto");e.O.style.backgroundColor=e.pc;e.O.A()}Lr(e)}}:c.parentNode.removeChild(c),
!0;case "lockPointer":return this.Fd=c.textContent,this.C&&this.C.Md?c.onclick=function(){e.Md(!0)}:c.parentNode.removeChild(c),!0;case "refresh":return c.onclick=function(){Mr(e,!0)},!0;default:this.ud.push([a,b,c,d]),delete this.ca[b]}return!1};function Lr(a,b){a.C&&(a.C.focus(),b&&(document.getElementById(a.Ac)||a.C).scrollIntoView())}function Kr(a,b){!b&&a.O&&(a.vc?a.fa.style.width=a.fa.style.height="":a.O.style.width=a.O.style.height="");a.Ea&&(a.Ea.ig=1==b)}
p.Md=function(a){var b=!1;this.C&&this.Y&&(a?this.C.Md&&(this.C.Md(),this.Y.Ne(!0),b=!0):this.C.B&&(this.C.B(),this.Y.Ne(!1),b=!0),Lr(this));return b};p.Ne=function(a){this.Y&&(this.Y.Ne(a),this.Ea&&(this.Ea.ig=a));var b=this.ca.lockPointer;b&&(b.textContent=a?"Press Esc to Unlock Pointer":this.Fd)};p.Hf=function(a){this.Ea&&this.Ea.Hf(a)};
p.Mb=function(a,b){if(!b){if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;if(void 0==this.Gd){this.mb=this.Vb=1E3/Nr|0;this.cd=this.Fb=0;var c=this;this.Gd=Rc(this.J,this.id,function(){var d=c.Xa;d.Vh++;if(!(d.Ha===br&&d.Tc[1]&32&&d.Vh&1)){d.Af=Ie(c.J);c.Uc&&(d.Ya[17]&32||c.la&&li(c.la,c.Uc));d=Date.now();var e=d-c.cd-c.mb;if(0<=e){if(Mr(c)){var f=Date.now()-d;1==c.wb%120?(c.wb=1,c.Fb=f):(c.Fb+=f,f=c.Fb/c.wb);f>=c.mb/4?c.mb=2*c.Vb:f<c.Vb/4&&(c.mb=c.Vb)}c.cd=d-(e>=c.mb?0:e)}d=c.Xa;
e=d.Ya[Nq];e|=(d.Ya[Oq]&d.cf)<<8;d.ie!==e&&(d.ie=e,Or(c,!1));e=d==c.B?d.Ya[8]&31:0;d.sj!==e&&(d.sj=e,c.Nc=0,c.Rb&&(c.lb=!0,c.Nc=e&31))}},-this.Xa.Xh)}}return!0};p.Lb=function(a){return a?this.save():!0};
p.reset=function(){var a=0;this.la&&(a=+gg(this.la,Im));Ir[this.model]||(this.Ha=a==dn?Pr:Qr);var b;this.aa=Rr;switch(this.Ha){case br:a=7;break;case Kq:(b=Sr[this.Ud])&&(a=b[0]);if(!a){a=4;break}if(a!=dn)break;case Pr:a=dn;this.aa=Tr;break;default:a=2}this.ba!==a&&(this.ba=a);this.Xa=null;this.Ab=this.ic=new Iq(this,Pr);this.Za=this.zb=new Iq(this,Qr);this.Ha<Kq?this.B=new Iq:(this.B=new Iq(this,this.Ha,null,this.Yc),Ur(this));this.za=null;Vr(this,this.aa);if(this.Xa.Wa&&this.Lc){a=this.Xa.Wa+this.fb;
for(b=this.Xa.Wa;b<a;b+=2){var c=65536*Math.random()|0;if(4==this.ba||7==this.ba){var d=b>>1&255;c=c>>8&~Wr;c>>4==(c&15)&&(c^=15)}else d=c&255,c=(c&256?Xr|Yr:Bs|Ds)|Es&c>>8;Qd(this.sa,b,d|c<<8)}Mr(this,!0)}};function Ur(a){a.B.rj&Tq?(a.Ab=a.ic,a.Za=a.B):(a.Ab=a.B,a.Za=a.zb)}p.save=function(){var a=new Yg(this);a.set(0,dr(this.ic));a.set(1,dr(this.zb));a.set(2,[this.ba,this.aa,this.za]);a.set(3,dr(this.B));return a.data()};
p.restore=function(a){var b=a[2];this.ba=b[0];this.aa=b[1];this.za=b[2];this.Xa=null;this.Ab=this.ic=new Iq(this,Pr,a[0]);this.Za=this.zb=new Iq(this,Qr,a[1]);this.B=new Iq(this,this.Ha,a[3],this.Yc);this.B.zc&&Ur(this);a=!1;b=this.za;var c=this.Xa;if(c)if(c.Ha==Pr)b=Tr;else if(c.Ha>=Kq){b=null;var d=c.Yc>>2,e=32768<d?32768:d,f=c.ke[6];if(null!=f){var g=c.Ya[Dr];switch(f&12){case 0:c.Wa=655360;c.qb=d;b=1>=(g&31)?Fs:this.ba==dn?Gs:Rr;break;case 4:c.Wa=655360;c.qb=d;b=this.ba==dn?Hs:Is;break;case 8:c.Wa=
720896;c.qb=e;b=Tr;break;case 12:c.Wa=753664,c.qb=e,b=this.ba==dn?Gs:Rr}d=80==(c.ke[5]&80);if(c.Wa!=this.Wa||c.qb!=this.qb)a=!0;e=kr(c,lr);var h=c.Ya[23],k=c.Tc[1]&8;b!=Fs&&(f&1?655360==c.Wa||d||h&1?c.ke[5]&64?b=g&31?143>=c.Ya[tr]?c.Tc[4]&8?Js:Ks:Ls:Ms:g&128||350>e?b=k?Ns:Os:480<=e&&(b=this.ba==dn?Ps:Qs):b=k?7-b:Rs:b-=k?2:0)}}else c.rd&8?(c.rd&2?(b=c.rd&16?Rs:Ss,c.rd&4||--b):(b=c.rd&1?Rr:Ts,c.rd&4&&--b),this.Pb&&(this.fa.style.opacity="1",this.Pb=!1)):!this.Pb&&1>+this.yd&&(this.Pb=!0,this.fa.style.opacity=
this.yd,c=this.J,c.flags.Nf=!0,Ee(c));else this.za=null,null==b&&(b=this.aa);if(Vr(this,b,void 0,a)){b=this.Xa;c=Qq|Rq;if(b.Ha>=Kq&&(this.Wc=!1,a=b.ke[5],null!=a)){c=1024;f=0;g=b.ke[3]&31;switch(a&3){case 0:if(g){f=32;switch(g&24){case 8:f=96;break;case 16:f=160;break;case 24:f=224}b.Bc=g&7}break;case 1:f=1;break;case 2:switch(g&24){default:f=2;break;case 8:f=98;break;case 16:f=162;break;case 24:f=226}break;case 3:this.Ha==br&&(f=3,b.Bc=g&7)}a&8&&(c=1280);b=b.Tc[4];null!=b&&(b&4||(c|=hr,f|=jr),a&
64&&(b&8&&(c|=16384,f|=4),this.Wc=!0));c|=f}a=c;(b=this.Xa)&&a!=b.zf&&(b.Te(a),this.sa.Te(b.Wa,b.qb,b.vf(),!0));a=!0}else a=!1;if(!a)return!1;a:if(this.D){a=this.Xa;for(b=10;15>=b;b++)if(null==a.Ya[b])break a;d=a.Ya[10];b=d&31;g=a.Ya[11]&Fr[11];c=a.Ya[9]&Fr[9];b>c&&(d|=32);f=0;this.Ha!=Kq?(g<b?(f=g+1,g=c,this.Ha==br&&(d|=32,f=0)):g>c&&(b=0,g=c),g++):b==g%16?g=b+1:g<b?(f=g,g=c+1):g>c&&(b=0,g=c+1);g-=b;if(d&32||0>=g)Us(this);else{d=a.Ya[15]|(a.Ya[14]&a.cf)<<8;d-=a.Ya[Nq]|(a.Ya[Oq]&a.cf)<<8;a=Math.trunc(d/
this.I)*this.H+d%this.I;this.M!=a&&(this.M=a,this.K=-1);if(this.fd!==b||this.Ob!==g||this.sc!==f)this.fd=b,this.Ob=g,this.sc=f,this.V&&0<=this.M&&this.M<this.F.length&&(this.F[this.M]=-1,this.V=1);this.ha=c+1;this.Ob>this.ha&&(this.Ob=this.ha);Vs(this)}}return!0};
function Ws(a,b){if(1==b)return a.T[0]=Xs[Bs],a.T[1]=Ys(a,Xr),a.T;if(2==b){var c=a.Xa.pj;if(a.Xa===a.B){var d=a.B.Sc[0];c=d&7;d&16&&(c|=8);3==(a.B.Sc[1]&15)&&(c|=32)}a.T[0]=Ys(a,c&15);c=c&32?Zs:$s;for(d=0;d<c.length;d++)a.T[d+1]=Ys(a,c[d]);return a.T}if(a.Za===a.zb){for(c=0;c<Xs.length;c++)a.T[c]=Ys(a,c);return a.T}a.Ka&&b&&!a.T[16]&&(a.Ka=!1);if(!a.Ka){c=a.B;d=c.qj;var e;if(8==b)for(e=0;256>e;e++){var f=d[e]||0;var g=f<<2&252;var h=f>>4&252;f=f>>10&252;a.T[e]=[g,h,f,255]}else{var k=d&&null!=d[255];
b=null!=c.Sc[15]?c.Sc:at;for(e=0;16>e;e++)f=b[e]&63,k?(f|=(c.Sc[20]&12)<<4,c.Sc[16]&128&&(f&=-49,f|=(c.Sc[20]&3)<<4),f=d[f],g=f<<2&252,h=f>>4&252,f=f>>10&252):(g=(f&4?170:0)|(f&32?85:0),h=(f&2?170:0)|(f&16?85:0),f=(f&1?170:0)|(f&8?85:0)),a.T[e]=[g,h,f,255]}a.Ka=!0}return a.T}
function Ys(a,b){var c=Xs;if(!a.vd)return c[b];var d=c.length>>1;b=b+1-d;if(!b)return a.Fa;c=[0,0,0,255];var e,f=255,g=0;for(e=0;3>e;e++)f>a.Fa[e]&&(f=a.Fa[e]),g<a.Fa[e]&&(g=a.Fa[e]);d=0>b?g/(d-1):(256-g)/d;for(e=0;3>e;e++)c[e]=a.Fa[e]+d*b|0,0>c[e]&&(c[e]=0),255<c[e]&&(c[e]=255);return c}
function bt(a,b,c,d,e,f,g,h,k,l){var n=!1,m=a.ka[b],q=16>k.length?k.length:16;m&&q==m.Vf.length||(m={fl:c,dg:d,dc:0,Ub:0,Hd:Array(q),Vf:k.slice(0,q),$e:l,se:Array(q)});var u=c<<1,x=d<<1;l=!1;if(m.dc!=u||m.Ub!=x)m.fl=c,m.dg=d,m.dc=u,m.Ub=x,l=!0;for(u=0;u<q;u++){var y=k[u];x=l||h;x||(x=m.Hd[u]?m.Vf[u]:[],x=y[0]!==x[0]||y[1]!==x[1]||y[2]!==x[2]);if(x){a:{var z;var D=a;x=m;var E=u,Z=e,aa=f,ua=c,ja=d,pb=g,ka=32,Ja=D.Xa&&D.Xa.Eb;if(pb)ka=8>ja||!aa?ja:8;else{for(z=0;256>z;z++){var qa=Z+z*ka;for(D=0;D<ja&&
!(Ja[qa+D]>>16&255);D++);if(D<ja)break}if(256==z){x=!1;break a}}qa=[0,0,0,0];var za=x.se[E];za&&za.width==x.dc<<4&&za.height==x.Ub<<4||(za=document.createElement("canvas"),za.width=x.dc<<4,za.height=x.Ub<<4);var Ha=za.getContext("2d"),Be=Ha.createImageData(x.dc,x.Ub);for(z=0;256>z;z++){var od=Z+z*ka;for(D=0;D<ja;D++){var Cf=x.$e&&E&1&&D==ja-2;var Ub=D<ka?od+D:aa+z*ka+D-ka;for(var Ce=pb?pb[Ub]:Ja[Ub]>>16&255,Bc=0;1>=Bc;Bc++)for(Ub=0;Ub<ua;Ub++){var Df=Ub<<1,Ef=(D<<1)+Bc,De=Cf||Ce&128>>(8<=Ub&&192<=
z&&223>=z?7:Ub)?y:qa;ct(Be,Df,Ef,De);ct(Be,Df+1,Ef,De)}}Ha.putImageData(Be,(z&15)*x.dc,(z>>4)*x.Ub)}x.Hd[E]=eb("#%02X%02X%02X",y[0],y[1],y[2]);x.Vf[E]=y;x.se[E]=za;x=!0}if(!x){m=null;break}n=!0}}if((n||m!=a.ka[b])&&a.hc.length&&(c=a.hc[b-a.D]))if(d=c.canvas,m)for(e=d.width/q|0,f=d.height,g=0;g<q;g++)h=m.se[g],c.fillStyle=m.Hd[(g+9)%q],c.fillRect(g*e,0,e,f),k=d.height/h.height*h.width|0,k>e&&(k=e),c.drawImage(h,0,0,k,h.height,g*e,0,e,f);else c.fillStyle="black",c.fillRect(0,0,d.width,d.height);a.ka[b]=
m;return n}function Vs(a){0<a.K||0<=a.M?0>a.Aa&&(a.Aa=0):a.Aa=-1}function Us(a){if(0<=a.M){if(void 0!==a.F&&a.M<a.F.length){var b=dt<<8,c=a.F[a.M];if(c&b){c&=~b;b=a.M%a.H;var d=a.M/a.H|0;a.Z&&a.ka[a.Z]&&(a.Ba&&et(a,b,d,c,a.Ba),et(a,b,d,c));a.F[a.M]=c}}a.M=-1}}
function Vr(a,b,c,d){if((c=null!=b&&(b!=a.za||c))||d){a.wb=0;a.za=b;a.Ka=!1;b=a.Xa||(b==Tr?a.Ab:a.Za);if(b!=a.Xa||b.Wa!=a.Wa||b.qb!=a.qb){Us(a);if(a.Wa){if(!Kd(a.sa,a.Wa,a.qb))return!1;a.Xa&&(a.Xa.zc=!1)}a.Xa=b;b.zc=!0;a.Wa=b.Wa;a.qb=b.qb;if(!xd(a.sa,b.Wa,b.qb,3,b))return!1;if(b.Ha<Kq){d=a.Wa;for(var e=Gd(a.sa,d,a.qb);(d+=a.qb)<b.Wa+32768;)Fd(a.sa,d,a.qb,e)}}a.D=a.Z=a.nb=0;a.A=a.Fc;a.G=a.Mc;a.Gc=Jr[Tr][2];a.ia=Jr[Tr][3];a.Ia=a.wa=1;a.Rb=!1;b=0;e=d=1;var f=Jr[a.za];if(f&&(a.A=f[0],a.G=f[1],a.Gc=f[2],
a.ia=f[3],b=f[4],a.D=f[5],a.D)){"vdu"==a.model?a.D=Pr:a.Ha>a.D&&(a.D=a.Ha);var g=void 0===g?!1:g;a.Z=a.nb=a.D;if(ya&&a.D){f=a.Td;if(a.D==Pr||a.ba==dn){if(a.vd){var h=ft.slice();var k=h[1]=h[2]=a.Fa;var l=k.slice(),n,m=0;for(n=0;3>n;n++)m<k[n]&&(m=k[n]);for(n=0;3>n;n++)l[n]+=255-m;h[3]=h[4]=l}else h=ft;k=gt}else h=Ws(a);switch(a.D){case Pr:null!=a.Ga[1]&&bt(a,a.D,a.qc||9,14,a.Ga[1],a.qc?0:2048,f,!1,h,k);break;case Qr:null!=a.Ga[0]&&bt(a,a.D,a.qc||8,8,a.Ga[0],0,f,!1,h,k);break;case br:case Kq:l=a.qc||
8;n=14;m=a.Ga[1];a.Ga[2]&&(n=16,m=a.Ga[2]);var q=0;var u=a.B.Tc[1]&1?8:9;var x=a.B.Ya[9]&Fr[9];if(x++){l=u;n=x;m=0;f=null;if(q=a.B.xe)a.B.xe=0;u=a.B.Tc[3];a.Ha<br&&(u&=15);a.B.Tc[4]&2||(u&=-16);a.Wb=u&3|(u&16)>>2|((u&12)>>2|(u&32)>>3)<<8;a.Z=a.D+(a.Wb&255);a.nb=a.D+(a.Wb>>8)}if(null!=m)for(u=0,x=-1;16>u;u+=8){var y=a.Wb>>u&255;if(y!=x){x=y;var z=(y<<1)-(4>y?0:7);f||(m=8192*z);if(bt(a,a.D+y,l,n,m,0,f,!!(q&1<<z),h,k)&&!f&&y)for(z=0;z<y;z++){var D=void 0,E=a,Z=n;D=void 0===D?32:D;for(var aa=(y*(y-1)>>
1)+z,ua=E.B.Eb,ja=E.Vc[aa]||Array(256),pb=8192*((y<<1)-(4>y?0:7)),ka=8192*((z<<1)-(4>z?0:7)),Ja=0;256>Ja;Ja++){ja[Ja]=0;for(var qa=pb+Ja*D,za=ka+Ja*D,Ha=0;Ha<Z;Ha++)if((ua[qa++]>>16&255)!==(ua[za++]>>16&255)){ja[Ja]=-1;break}}E.Vc[aa]=ja}}}}g||(a.M=-1,a.Aa=-1,a.K=0)}if(g=a.ka[a.Z])if(d=g.dc,e=g.Ub,a.Ha>=Kq)k=kr(a.B,tr),k++&&(g=k/g.dg|0)&&(a.G=g),a.Rb=!0;a.Ia=a.na/a.A|0;a.wa=a.va/a.G|0}a.H=a.I=a.A;a.Qa=a.G;a.Rb&&(a.H++,a.Qa++);a.Ec=a.H*a.Qa|0;a.dd=a.Ec/a.Gc|0;a.fb=a.Ec/a.ia|0;a.jc=0;void 0!==b&&(a.fb=
a.fb+b|0,a.jc=a.fb+b>>1);a.P=a.H*d;a.ta=a.Qa*e;a.L&&(a.ed&&(a.L[a.ed]=null==a.Xc?!!a.D:a.Xc),a.Na[a.P]&&a.Na[a.P][a.ta]?(a.xa=a.Na[a.P][a.ta],a.ma=a.xb[a.P][a.ta]):(a.xa=a.L.createImageData(a.P,a.ta),a.ma=document.createElement("canvas"),a.ma.width=a.P,a.ma.height=a.ta,a.Na[a.P]||(a.Na[a.P]={}),a.Na[a.P][a.ta]=a.xa,a.xb[a.P]||(a.xb[a.P]={}),a.xb[a.P][a.ta]=a.ma),a.Ba=a.ma.getContext("2d"),a.Ic=a.Jc=0,a.rc=a.na,a.uc=a.va,g=a.na-a.A*a.Ia,b=a.va-a.G*a.wa,0<g&&(a.Ic=g>>1,a.rc-=g),0<b&&(a.Jc=b>>1,a.uc-=
b),g||b)&&(a.L.fillStyle=a.fa.style.backgroundColor,a.L.fillRect(0,0,a.na,a.va));Or(a);c&&Mr(a)}return!0}function ct(a,b,c,d){b=(b+c*a.width)*d.length;a.data[b]=d[0];a.data[b+1]=d[1];a.data[b+2]=d[2];a.data[b+3]=d[3]}function ht(a){a.K=-1;a.V=0;var b=a.dd;if(void 0===a.F||a.F.length!=b)a.F=Array(b)}function Or(a,b){if(a.V)if(!1!==b)a.Ka=!1;else{a.V=1;return}ht(a)}
function et(a,b,c,d,e){var f=d&255;d>>=8;var g=a.ka[a.Z];d&8&&a.Z!=a.nb&&(g=a.ka[a.nb],d&=-9);var h=d&15,k=d>>4&15;if(g.$e){!(d&7)&&d&112&&(h|=7);var l=d&247;112==l||240==l?h=0:k=0;h=g.$e[h];k=g.$e[k]}e?(b*=g.dc,c*=g.Ub,e.fillStyle=g.Hd[k],e.fillRect(b,c,g.dc,g.Ub)):(b=b*a.Ia+a.Ic,c=c*a.wa+a.Jc,a.L.fillStyle=g.Hd[k],a.L.fillRect(b,c,a.Ia,a.wa));d&it&&(k=(f&15)*g.dc,f=(f>>4)*g.Ub,e?e.drawImage(g.se[h],k,f,g.dc,g.Ub,b,c,g.dc,g.Ub):a.L.drawImage(g.se[h],k,f,g.dc,g.Ub,b,c,a.Ia,a.wa));d&dt&&(a.sc&&jt(a,
0,a.sc,b,c,h,g,e),jt(a,a.fd,a.Ob,b,c,h,g,e))}function jt(a,b,c,d,e,f,g,h){h?(a.ha&&a.ha!==g.Ub&&(b=Math.round(b*g.Ub/a.ha),c=Math.round(c*g.Ub/a.ha)),h.fillStyle=g.Hd[f],h.fillRect(d,e+b,g.dc,c)):(a.ha&&a.ha!==a.wa&&(b=Math.round(b*a.wa/a.ha),c=Math.round(c*a.wa/a.ha)),a.L.fillStyle=g.Hd[f],a.L.fillRect(d,e+b,a.Ia,c))}
function Mr(a,b){b=void 0===b?!1:b;if(!a.fa||!a.flags.Nb)return!1;var c=a.Xa;if(!c)return!1;var d=!1;c!==a.B?c.rd&8&&(d=!0):c.oj&32&&(d=!0);if(!d&&!b)return!1;if(b)ht(a);else if(void 0===a.F)return!1;d=!1;!(b||++a.wb%10)&&0<=a.Aa&&(a.Aa++,d=!0);var e=a.Ec,f=a.Wa,g=f,h=g+a.qb;a.za>=Js&&(f=g=655360,h=g+65536);var k=a.fb;a.I=a.A;if(a.Ha<Kq)g+=c.ie<<(a.D?1:0);else{var l=0,n=0,m=a.B.Tc[4]&5;1==m?(l=n=1,a.ia=.5):5==m&&(n=1,a.ia=1);g+=c.ie<<l;c.Ya[19]&&c.Ya[19]<<1!=c.Ya[1]+1&&(a.I=c.Ya[19]<<(n||(c.Ya[20]&
64?3:4)),k=(a.I*(a.Qa-1)+a.H)/a.ia|0,a.Qa>a.G&&g+k>h&&(k=(a.I*(a.G-1)+a.H)/a.ia|0))}n=l=0;g+k>h?(n=k,g>=h?(l=f+(g-h),k=0):(l=f,k=h-g,n-=k)):a.Ha>=Kq&&(c=kr(c,tr)-kr(c,zr),0<c&&((h=a.ka[a.Z])&&(c=c/h.dg|0),0<c&&(n=(a.I*(c-1)+a.H)/a.ia|0,k-=a.I*c/a.ia|0,l=f)));c=a.K;h=kt(a,f,g,k,0,e,b,d);n&&(m=a.K,0>c&&(a.K=-1),h+=kt(a,f,l,n,h,e,b,d),a.K+=m,Cd(a.sa,l,n,!0));Cd(a.sa,g,k,!0);h&&(a.V=2);return!0}
function kt(a,b,c,d,e,f,g,h){var k=d*a.ia;k=Math.trunc(k/a.I)*a.H+k%a.I;k>f&&(k=f);var l=c+d;if(!g&&2==a.V&&Cd(a.sa,c,d))if(!h&&0<=a.K){if(!a.lb)return k;e=f}else if(!a.K)if(d=a.M-e,0>d){if(!a.lb)return k;e=f}else c+=(d/a.H|0)*a.I+d%a.H<<1,e+=d,f=e+1;if(a.Z){if(d=f,f=a.ka[a.Z]){var n=a.Xa,m=h=g=0,q=it<<8,u=1048575,x=n.Eb,y=1/a.ia|0,z=n.zf&Rq?1:0,D=n.rd&32;a.Ha>=Kq&&(D=n.Sc[16]&8);D&&(m=Wr<<8,u&=~m,a.Aa&2||(u&=~q));a.K=0;n=e%a.H;D=e/a.H|0;for(var E=a.I-a.H<<y-1;c<l&&e<d;){var Z=x[c-b>>>z]&65535;Z|=
q;Z&m&&(a.K++,Z&=u);e==a.M&&(Z|=a.Aa&1?dt<<8:0);a.V&&Z===a.F[e]||(et(a,n,D,Z,a.Ba),a.F[e]=Z,h++);g++;e++;c+=y;if(++n>=a.H){n=0;if(++D>=a.Qa)break;c+=E}}a.Ba&&(h||a.lb)&&(b=l=0,c=a.P,e=a.ta,a.Rb&&(d=a.xd,g=a.Nc,l+=d<<1,b+=g<<1,c-=f.dc,e-=f.Ub),a.L.drawImage(a.ma,l,b,c,e,a.Ic,a.Jc,a.rc,a.uc));Vs(a)}}else{if(a.jc){b=c;k=l-b>>1;f=0;c=a.Gc;e=b;d=16==c?65536:196608;g=16==c?1:2;h=Ws(a,g);q=m=0;u=a.A;x=0;y=a.G;z=0;for(a.K=0;e<l;){n=a.sa;D=e;E=D&n.C;Z=(D&n.B)>>>12;n=E!=n.C?n.V[Z].Re(E,D):n.V[Z++].Cd(E,D)|
n.V[Z&n.T].Cd(0,D+1)<<8;if(a.V&&n===a.F[f])m+=c;else{a.F[f]=n;n=n>>8|(n&255)<<8;D=d;E=16;m<u&&(u=m);for(Z=0;Z<c;Z++){var aa=(n&(D>>=g))>>(E-=g);ct(a.xa,m++,q,h[aa])}m>x&&(x=m);q<y&&(y=q);q>=z&&(z=q+1)}e+=2;f++;if(m>=a.A){m=0;q+=2;if(q>a.G)break;q==a.G&&(q=1,e=b+a.jc)}}u<a.A&&(a.Ba.putImageData(a.xa,0,0,u,y,x-u,z-y),a.L.drawImage(a.ma,0,0,a.A,a.G,0,0,a.na,a.va));l=k}else if(a.Wc){k=0;f=l-c;e=Ws(a,8);d=a.Xa.Eb;h=g=0;m=a.A;q=0;u=a.G;x=0;y=a.Xa.Tc[4]&8?4:1;z=a.Xa.Sc[19]&15;n=a.I>a.A?a.I-a.A-z>>3:0;for(a.K=
0;c<l;){D=d[c-b];Z=4;z||(a.V&&D===a.F[k]?(g+=Z,Z=0):a.F[k]=D,k++);if(Z){g<m&&(m=g);for(E=0;E<Z;E++)ct(a.xa,g++,h,e[D&255]),D>>>=8;g>q&&(q=g);h<u&&(u=h);h>=x&&(x=h+1)}c+=y;if(g>=a.A){g=0;if(++h>=a.G)break;c+=n}}z&&(f=0);m<a.A&&(a.Ba.putImageData(a.xa,0,0,m,u,q-m,x-u),a.L.drawImage(a.ma,0,0,a.A,a.G,0,0,a.na,a.va));l=f}else{k=c;f=0;c=l-k;e=Ws(a);d=a.Xa.Eb;h=g=0;m=a.A;q=0;u=a.G;x=0;y=a.Xa.Sc[19]&15;z=a.I>a.A?a.I-a.A-y>>3:0;for(a.K=0;k<l;){n=k++-b;n=d[n];E=8;y?g?(D=a.A-g,E>D&&(E=D)):(n<<=y,E-=y,a.V=0):
(a.V&&n===a.F[f]?(g+=E,E=0):a.F[f]=n,f++);if(E){g<m&&(m=g);for(D=0;D<E;D++)Z=lt[n&2155905152]||0,ct(a.xa,g++,h,e[Z]),n<<=1;g>q&&(q=g);h<u&&(u=h);h>=x&&(x=h+1)}if(g>=a.A){g=0;if(++h>=a.G)break;k+=z}}y&&(c=0);m<a.A&&(a.Ba.putImageData(a.xa,0,0,m,u,q-m,x-u),a.L.drawImage(a.ma,0,0,a.A,a.G,0,0,a.na,a.va));l=c}k=l}a.lb=!1;return k}
var Pr=1,Qr=2,Kq=4,br=8,Ts=1,Gs=2,Rr=3,Ss=5,Rs=6,Tr=7,Ns=13,Os=14,Hs=15,Is=16,Ps=17,Qs=18,Js=19,Ks=20,Ls=21,Ms=22,Fs=255,Nr=60,Ir={mda:[Pr,Tr],cga:[Qr,Rr],ega:[Kq,Rr],vga:[br,Rr]},cr={2:{Ef:15700,Df:200,If:75,Jf:96}};cr[dn]={Ef:18432,Df:350,If:75,Jf:96};cr[4]={Ef:21850,Df:350,If:75,Jf:96};cr[7]={Ef:31500,Df:400,If:85,Jf:83};var Sr={6:[1,dn,!0],7:[2,dn,!0],8:[6,dn,!0],9:[4,dn,!0],10:[dn,1,!0],11:[dn,2,!0],0:[1,dn,!1],1:[2,dn,!1],2:[6,dn,!1],3:[4,dn,!1],4:[dn,1,!1],5:[dn,2,!1]},Jr=[];
Jr[Ts]=[40,25,1,.5,0,Qr];Jr[Rr]=[80,25,1,.5,0,Qr];Jr[4]=[320,200,8,4,192];Jr[Rs]=[640,200,16,8,192];Jr[Tr]=[80,25,1,.5,0,Pr];Jr[Ns]=[320,200,8,8];Jr[Os]=[640,200,8,8];Jr[Hs]=[640,350,8,8];Jr[Is]=[640,350,8,8];Jr[Ps]=[640,480,8,8];Jr[Qs]=[640,480,8,8];Jr[Js]=[320,200,4,1];Jr[Ks]=[320,200,4,4];Jr[Ls]=[320,240,4,4];Jr[Ms]=[320,400,4,4];Jr[0]=Jr[Ts];Jr[Gs]=Jr[Rr];Jr[Ss]=Jr[4];
var Bs=0,Xr=7,Es=8,Yr=0,Ds=112,Wr=128,it=256,dt=512,ft=[[0,0,0,255],[9,204,80,255],[9,204,80,255],[60,255,131,255],[60,255,131,255]],gt=[0,1,2,2,2,2,2,2,0,3,4,4,4,4,4,4],Xs=[[0,0,0,255],[0,0,170,255],[0,170,0,255],[0,170,170,255],[170,0,0,255],[170,0,170,255],[170,85,0,255],[170,170,170,255],[85,85,85,255],[85,85,255,255],[85,255,85,255],[85,255,255,255],[255,85,85,255],[255,85,255,255],[255,255,85,255],[255,255,255,255]],$s=[2,4,6],Zs=[3,5,Xr],at=[0,1,2,3,4,5,20,7,56,57,58,59,60,61,62,63],Gr=[0,
255,65280,65535,16711680,16711935,16776960,16777215,-16777216,-16776961,-16711936,-16711681,-65536,-65281,-256,-1],lt=[0];lt[128]=1;lt[32768]=2;lt[32896]=3;lt[8388608]=4;lt[8388736]=5;lt[8421376]=6;lt[8421504]=7;lt[-2147483648]=8;lt[-2147483520]=9;lt[-2147450880]=10;lt[-2147450752]=11;lt[-2139095040]=12;lt[-2139094912]=13;lt[-2139062272]=14;lt[-2139062144]=15;var Jq=[];Jq[Pr]=["MDA",948,720896,4096,4096,dn];Jq[Qr]=["CGA",980,753664,16384,16384,2];Jq[Kq]=["EGA",980,753664,16384,65536,4];
Jq[br]=["VGA",980,753664,16384,262144,7];
Jb(function(){for(var a=cc("pcx86","video"),b={},c=0;c<a.length;b={Hc:b.Hc},c++){var d=a[c],e=dc(d),f=void 0,g=cc("pcjs-canvas","",d);g&&g.length?f=g[0]:ya&&(f=document.createElement("canvas"))&&(f.setAttribute("class","pcjs-canvas"),f.setAttribute("width",e.screenWidth),f.setAttribute("height",e.screenHeight),d.appendChild(f));g=void 0;f&&f.getContext?g=f.getContext("2d"):d.innerHTML="<br>Missing &lt;canvas&gt; support. Please try a newer web browser.";0<=sb().indexOf("MSIE")&&(d.onresize=function(l,
n,m,q){return function(){n.style.height=(l.clientWidth*q/m|0)+"px"}}(d,f,e.screenWidth,e.screenHeight),d.onresize(null));var h=+(Ab("aspect")||e.aspect);h&&.3<=h&&3.33>=h&&(Ib("onresize",function(l,n,m){return function(){n.style.height=(l.clientWidth/m|0)+"px"}}(d,f,h)),r.onresize());b.Hc=void 0;(h=cc("pcjs-overlay","",d))&&h.length?b.Hc=h[0]:ya&&(b.Hc=document.createElement("textarea"),b.Hc.setAttribute("class","pcjs-overlay"),d.appendChild(b.Hc));b.Hc&&(b.Hc.setAttribute("autocapitalize","off"),
b.Hc.setAttribute("autocorrect","off"),h=function(l){return function(){l.Hc.style.fontSize=(.01875*l.Hc.clientWidth|0)+"px"}}(b),h(),Ib("onresize",h));h=cc("pcx86-video-diagnostic");var k=void 0;d.style&&(k=d);e=new Hr(e,f,g,b.Hc,k,h);bc(e,d)}});function mt(a){Sb.call(this,"ParallelPort",a,16777216);this.A=a.adapter;switch(this.A){case 1:break;case 2:break;case 3:break;default:lb(549755813888,"Unrecognized parallel adapter #"+this.A);return}a=a.binding;"console"!=a&&$b(this,a)}sa(mt,Sb);p=mt.prototype;
p.ub=function(a,b,c){return a&&"textarea"!=a?!1:(this.ca[b]=c,!0)};p.Mb=function(a,b){if(!b)if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};p.Lb=function(a){return a?this.save():!0};p.reset=function(){nt(this)};p.save=function(){var a=new Yg(this),b=0,c=[];c[b++]=this.C;c[b++]=this.we;c[b]=this.B;a.set(0,c);return a.data()};p.restore=function(a){return nt(this,a[0])};function nt(a,b){var c=0;void 0===b&&(b=[0,ot|pt,qt]);a.C=b[c++];a.we=b[c++];a.B=b[c];return!0}
var pt=7,ot=8,qt=224;Jb(function(){for(var a=cc("pcx86","parallel"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new mt(d);bc(d,c)}});
function rt(a){Sb.call(this,"SerialPort",a,33554432);this.M=+a.adapter;switch(this.M){case 1:this.H=Ho;break;case 2:this.H=Io;break;default:if("test"!=this.ad){lb(549755813888,"Unrecognized serial adapter #"+this.M);return}}this.I=null;this.Z=st|tt;this.L=!0;a=a.binding;"console"!=a&&$b(this,a);this.C=this.B=null;this.T=!1;this.exports={bind:this.Zk,connect:this.Oh,receiveData:this.qd,receiveStatus:this.sk}}sa(rt,Sb);p=rt.prototype;
p.Zk=function(a,b,c){return this.C?!1:(this.C=a,this.B=b,this.T=void 0===c?!1:c,!0)};p.zh=function(a,b){var c=null;a!=this.ad||this.C||(this.C=b,this.L=!1,c=this);return c};
p.ub=function(a,b,c){if(!a||"textarea"==a){var d=this;this.ca[b]=this.I=c;this.I.onkeydown=function(e){e=e||window.event;var f=e.keyCode;if(8===f||e.ctrlKey&&65<=f&&90>=f)e.preventDefault&&e.preventDefault(),64<f&&(f-=64),d.qd(f);return!0};this.I.onkeypress=function(e){e=e||window.event;d.qd(e.which||e.keyCode);e.preventDefault&&e.preventDefault();return!0};this.I.removeAttribute("readonly");return!0}return!1};
p.Oh=function(a){if(!this.C){var b=ut(this.ya,"connection");if(b){var c=b.split("->");if(2==c.length){var d=cb(c[0]);if(d!=this.ad)return;c=cb(c[1]);if(this.C=fc(c)){var e=this.C.exports;if(e){var f=e.connect;f&&f.call(this.C,this.L);if(this.B=e.receiveData){this.L=a;this.N(137438953472,"Connected %s.%s to %s\n",this.Ac,d,c);return}}}}this.N(137438953472,"Unable to establish connection: %s\n",b)}}};
p.Mb=function(a,b){if(!b)if(this.Oh(this.L),!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};p.Lb=function(a){return a?this.save():!0};p.reset=function(){vt(this)};p.save=function(){var a=new Yg(this),b=0,c=[];c[b++]=this.P;c[b++]=this.aa;c[b++]=this.V;c[b++]=this.K;c[b++]=this.F;c[b++]=this.Y;c[b++]=this.O;c[b++]=this.G;c[b++]=this.A;c[b]=this.D;a.set(0,c);return a.data()};p.restore=function(a){return vt(this,a[0])};
function vt(a,b){var c=0;void 0===b&&(b=[0,0,wt,0,xt,0,0,yt|zt,a.Z,[]]);a.P=b[c++];a.aa=b[c++];a.V=b[c++];a.K=b[c++];a.F=b[c++];a.Y=b[c++];a.O=b[c++];a.G=b[c++];a.A=b[c++];a.D=b[c];return!0}
p.qd=function(a){if(null!=a)if("number"==typeof a)this.D.push(a);else if("string"==typeof a)for(var b=0;b<a.length;b++)this.D.push(a.charCodeAt(b));else this.D=this.D.concat(a);0<this.D.length&&!(this.G&At)&&(!this.T||this.O&Bt)&&(this.P=this.D.shift(),this.G|=At,this.D.length&&this.J&&Pe(this.J,this.ba,1E3/(1843200/((this.V||1)<<7))|0));Ct(this);return!0};p.sk=function(a){var b=this.A;this.A&=~(st|tt);a&32&&(this.A=this.A|st|Dt);a&64&&(this.A=this.A|tt|Et);b!=this.A&&Ct(this)};
function Ct(a){var b=-1;a.G&At&&a.K&Ft?b=Gt:a.G&yt&&a.K&Ht?b=It:a.A&(Dt|Et)&&a.K&Jt&&(b=Kt);0<=b?(a.F&=~(xt|Lt),a.F|=b,a.la&&a.H&&li(a.la,a.H,100)):(a.F=xt,a.la&&a.H&&ji(a.la,a.H))}var wt=384,Ft=1,Ht=2,Jt=8,xt=1,Gt=4,It=2,Kt=0,Lt=6,Bt=2,At=1,yt=32,zt=64,Dt=1,Et=2,st=16,tt=32;Jb(function(){for(var a=cc("pcx86","serial"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new rt(d);bc(d,c)}});
function Mt(a){Sb.call(this,"TestController",a);this.bd=null;var b=!1;this.H=a.tests;this.C="";this.mf=this.Ae=this.Be=this.B=this.A=null;if(this.F=a.binding){if(this.G=fc(this.F,this.id))if(a=this.G.exports){var c=a.bind;c&&c.call(this.G,this,this.qd,!0)&&(this.B=a.receiveData.bind(this.G),this.H&&(Nt(this,this.H),b=!0))}this.B||lb(549755813888,this.id+": binding '"+this.F+"' unavailable")}b||oc(this)}sa(Mt,Sb);
function Nt(a,b){var c="Loading "+b+"...";kb(b,null,!0,function(d,e,f){if(f)a.N(0>f?137438953472:274877906944,"Unable to load tests (error %d: %s)\n",f,d);else try{a.bd=JSON.parse(e),a.Be&&(a.Be(a.bd),a.bd=null),Tb(a.Ac,d,e)}catch(g){a.N(274877906944,"Test parsing error: %s\n",g.message)}oc(a)},function(){a.N(4398046511104,"%s\n",c)})}
Mt.prototype.ub=function(a,b,c){var d=this;return"textarea"!=a||this.A?!1:(this.A=this.ca[b]=c,this.C=null,c.onkeydown=function(e){e=e||window.event;var f=e.keyCode;if(8===f||e.ctrlKey&&65<=f&&90>=f)e.preventDefault&&e.preventDefault(),64<f&&(f-=64),d.Ae&&d.Ae(f);return!0},c.onkeypress=function(e){e=e||window.event;var f=e.which||e.keyCode;d.Ae&&d.Ae(f);e.preventDefault&&e.preventDefault();return!0},c.removeAttribute("readonly"),this.B&&Ot(new Pt,this,this.B,this.D,this.N,this.F),!0)};
Mt.prototype.D=function(a){if("number"==typeof a)this.N("%c",a);else if("string"==typeof a)this.N("%s",a);else for(var b=0;b<a.length;b++)this.N("[0x%02x]",a[b])};
Mt.prototype.N=function(a){var b=eb.apply(Ra,[a.toString()].concat(da(ta.apply(1,arguments))));null!=this.A&&"\r"!=b&&(this.A.value="\b"==b||"\b \b"==b?this.A.value.slice(0,-1):this.A.value+b,8192<this.A.value.length&&(this.A.value=this.A.value.substr(this.A.value.length-4096)),this.A.scrollTop=this.A.scrollHeight);if(null!=this.C){var c=b.lastIndexOf("\n");0<=c&&(console.log(this.C+b.substr(0,c)),this.C="",b=b.substr(c+1));this.C+=b}};
Mt.prototype.qd=function(a){if("number"==typeof a)this.mf(a);else if("string"==typeof a)for(var b=0;b<a.length;b++)this.mf(a.charCodeAt(b));else for(b=0;b<a.length;b++)this.mf(a[b])};Jb(function(){for(var a=cc("pcx86","testctl"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Mt(d);bc(d,c)}});function Pt(){this.H=[];this.F=0;this.O=this.T.bind(this);this.K=!1}
function Ot(a,b,c,d,e,f){a.B=c.bind(b);a.D=d.bind(b);a.N=e.bind(b);c=a.P;d=a.ca;b.mf=a.qd.bind(a);b.Ae=c.bind(a);b.Be=d.bind(a);b.bd&&b.Be&&(b.Be(b.bd),b.bd=null);a.N("%s TestMonitor v%s\n","PCx86","2.20");a.N("Use Ctrl-T to toggle terminal mode%s\n",f?" ("+f.toUpperCase()+")":"");Qt(a,Rt)}
function St(a,b){if(!b)return!0;var c=a.bd[a.G].commands,d=b.split(" "),e=d[0],f=!1;c[e]&&(f=!0,e=c[e]);if("string"==typeof e){if(c=e,Tt(a,c))return!0}else{c=e.op;var g=e.mode}if(c){var h="";c=c.replace(/([$%])([0-9]+)/g,function(n,m,q){n=+q;n>=d.length?(m+=q,h="missing value for "+m):m=n?"$"==m?d[n]:eb("%x",d[n]):b;return m});if(h)a.N("%s\n",h);else{var k=c.indexOf("(");e=0<k?c.substr(0,k):"";if(0<=Ut.indexOf(e)){f||(c=b);f=!0;var l=c.lastIndexOf(")");0<l&&(g=c.substr(k+1,l-k-1),c=e)}else 0<=Ut.indexOf(c)&&
(f=!0,g=d[1]);if(f)return Vt(a,c,g),!0;a.N("unrecognized command: %s\n",b)}}else a.N("missing operation for command: %s\n",d[0]);return!1}function Tt(a,b){var c=!1,d=b.match(/^\s*for\s+([a-z]+)\s*=\s*([0-9]+)\s+to\s+([0-9]+)\s*{\s*([\s\S]*?)\s*}\s*$/i);if(d){c=!0;b=d[1];var e=+d[3],f=d[4].split(";");for(d=+d[2];d<=e&&c;d++)for(var g=0;g<f.length;g++){var h=f[g].trim();if(h&&(h=h.replace(new RegExp("\\$"+b,"g"),d.toString()),!St(a,h))){c=!1;break}}}return c}
function Vt(a,b,c){a.H.push(c?[b,c]:b);Wt(a)}function Xt(a){a.F&&(clearTimeout(a.F),a.F=0);a.H=[];a.K=!1}function Wt(a,b){a.K=!1;a.H.length?a.F||(a.F=setTimeout(a.O,b||0)):a.N("done\n")}
Pt.prototype.T=function(){this.F=0;var a=this.H.shift();if(a){if("string"!=typeof a){var b=a[1];a=a[0]}if(a==Yt){a="nothing to print";var c=[];b&&(b=b.match(/^\s*(["'])([\s\S]*?)\1\s*,?\s*([\s\S]*)$/))&&(a=b[2],c=b[3].split(","));this.N.apply(this,[a].concat(da(c)))}else{if(a==Zt){if(b){Wt(this,+b);return}this.N("press a key to continue...");this.K=!0;return}this.B(a);if(b){Xt(this);Qt(this,b);return}}Wt(this)}};
function Qt(a,b,c){if(b!=a.mode){switch(b){case Rt:a.G=null;break;case $t:a.L=[];a.M=[];a.I=0;for(var d in a.bd)if(c=a.bd[d][$t]){"string"==typeof c&&(c=[c]);for(var e=0;e<c.length;e++)a.L.push(d),a.M.push(c[e]),a.I<c[e].length&&(a.I=c[e].length)}a.C="";a.G=null;break;case au:c&&(a.G=c);a.A="";break;default:a.N("unrecognized mode: %s\n",b);return}a.mode=b;a.N("mode: %s\n",a.G||a.mode)}}Pt.prototype.ca=function(a){this.bd=a;Qt(this,$t)};
Pt.prototype.qd=function(a){this.mode==$t?(this.C.length>=this.I&&(this.C=this.C.slice(-(this.I-1))),10==a&&(this.C=""),this.C+=String.fromCharCode(a),a=this.M.indexOf(this.C),0<=a&&Qt(this,au,this.L[a])):this.mode==Rt&&this.D(a)};
Pt.prototype.P=function(a){a==v.th?Qt(this,this.mode==Rt?this.G?au:$t:Rt):this.mode==Rt||this.mode==$t?this.B(a):this.mode==au&&(this.K?(this.D(10),Wt(this)):13==a?(this.D(10),Xt(this),St(this,this.A.replace(/\\n/g,"\n")),this.A=""):a==v.sh||a==v.hk?this.A.length&&(this.A=this.A.slice(0,-1),this.D("\b \b")):32<=a&&127>a&&(this.A+=String.fromCharCode(a),this.D(a)))};var Rt="terminal",$t="prompt",au="command",Yt="printf",Zt="wait",Ut=[Yt,Zt];
function bu(a){Sb.call(this,"Mouse",a,67108864);this.P=a.serial||a.binding;this.Y=a.type||(this.P?cu:du);this.T=this.Y==cu?"SerialPort":null;this.C=null;this.V=a.scaleMouse;this.zc=this.O=this.M=!1;this.I=[];this.B=[]}sa(bu,Sb);p=bu.prototype;p.isActive=function(){return this.zc&&(this.J?this.J.flags.Oa:!1)};
p.Mb=function(a,b){if(!b){if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;if(this.T&&!this.C){for(a=null;(a=eu(this.ya,this.T,a))&&(!a.zh||!(this.C=a.zh(this.P,this,this.tk))););if(this.C)for(this.B=[],a=0;a<this.I.length;a++)b=this.I[a],b.Y=this,(b=b.C)&&this.B.push(b);else lb(549755813888,this.id+": "+this.T+" "+this.P+" unavailable")}this.zc?fu(this):gu(this)}return!0};p.Lb=function(a){return a?this.save():!0};p.reset=function(){hu(this)};
p.save=function(){var a=new Yg(this),b=0,c=[];c[b++]=this.zc;c[b++]=this.G;c[b++]=this.H;c[b++]=this.D;c[b++]=this.F;c[b++]=this.K;c[b++]=this.L;c[b]=this.A;a.set(0,c);return a.data()};p.restore=function(a){return hu(this,a[0])};function hu(a,b){var c=0;void 0===b&&(b=[!1,-1,-1,0,0,!1,!1,0]);var d=b[c++];a.zc=d;a.G=b[c++];a.H=b[c++];a.D=b[c++];a.F=b[c++];a.K=b[c++];a.L=b[c++];a.A=b[c];a.A&(1|Bt)&&(a.A=(a.A&1?1048576:0)|(a.A&Bt?16:0));return!0}p.Ne=function(a){this.M=a};
function fu(a){if(!a.O)for(var b=0;b<a.B.length;b++)iu(a,a.B[b])&&(a.O=!0)}function gu(a){if(a.O)for(var b=0;b<a.B.length;b++){var c=a.B[b];c&&(c.style.cursor="auto")}}function iu(a,b){return b?(b.addEventListener("mousemove",function(c){ju(a,c)},!1),b.addEventListener("mousedown",function(c){ju(a,c,!0)},!1),b.addEventListener("mouseup",function(c){ju(a,c,!1)},!1),b.style.cursor="none",!0):!1}
function ju(a,b,c){if(void 0!==c){var d;!(d=!1!==a.M)&&(d=a.I.length)&&(d=a.I[0],d=d.wd?d.Md(!0):!1);d||(a.M=null);a.be(b.button,c)}else{if(0>a.G||0>a.H)a.G=b.screenX,a.H=b.screenY;a.M?(c=b.movementX||b.mozMovementX||b.webkitMovementX||0,d=b.movementY||b.mozMovementY||b.webkitMovementY||0):(c=b.screenX-a.G,d=b.screenY-a.H);a.G=b.screenX;a.H=b.screenY;a.Fe(c,d,a.G,a.H)}}
p.be=function(a,b){if(this.isActive()){var c="mouse button"+a+" "+(b?"dn":"up");switch(a){case ku:if(this.K!=b){this.K=b;lu(this,c);return}break;case mu:if(this.L!=b){this.L=b;lu(this,c);return}}this.N("%s: ignored\n",c)}};p.Fe=function(a,b,c,d){this.isActive()&&(a=Math.round(Math.abs(a)*this.V)*Math.sign(a)||Math.sign(a),b=Math.round(Math.abs(b)*this.V)*Math.sign(b)||Math.sign(b),a||b)&&(this.N(67108864,"moveMouse(%s,%s)\n",a,b),this.D=a,this.F=b,lu(this,null,c,d))};
function lu(a,b,c,d){var e=64|(a.K?32:0)|(a.L?16:0)|(a.F&192)>>4|(a.D&192)>>6,f=a.D&63,g=a.F&63;a.N(33554433,"%s%sserial packet [%#04x,%#04x,%#04x]\n",b?b+": ":"",void 0!==d?"mouse ("+c+","+d+"): ":"",e,f,g);a.C.qd([e,f,g]);a.D=a.F=0}
p.tk=function(a){var b=1048592==(a&1048592);if(b){if(!this.zc){var c=!1;this.A&16||(this.reset(),this.N("serial mouse reset\n"),c=!0);this.A&1048576||(this.N("serial mouse ID requested\n"),c=!0);c&&(this.C.qd([nu,nu]),this.N("serial mouse ID sent\n"));fu(this);this.zc=b}}else this.zc&&(this.N("serial mouse inactive\n"),gu(this),this.zc=b);this.A=a};var du="bus",cu="serial",ku=0,mu=2,nu=77;Jb(function(){for(var a=cc("pcx86","mouse"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new bu(d);bc(d,c)}});
function ou(a,b,c){Sb.call(this,"Disk",{id:a.Ac+".disk"+w(++pu,4)},131072);this.controller=a;this.print=a.print;this.ya=a.ya;this.ga=a.ga;this.ce=b;this.tc=b.name;this.Ce=b.Ce;this.sf=this.B=!1;this.create(c,b.pb,b.jb,b.ab,b.Zb);this.D=[];this.I=[];this.C=null;this.O=0;this.K=!1;oc(this)}sa(ou,Sb);p=ou.prototype;p.Mb=function(a,b){b||!this.sf||this.B||(oc(this,!1),this.load(this.tc,this.Cb,null,this.kl,this));return!0};p.kl=function(){oc(this,!0)};
p.Lb=function(a,b){if(this.B){var c,d=0;if(this.K&&!Xb("Disk writes are still in progress, shut down anyway?"))return!1;for(;c=qu(this,!1);)if(d=c[0]){this.N(274877906944,'Unable to save "%s" (error %d)\n',this.tc,d);break}b&&this.B&&(b="action=close&volume="+this.Cb,b+="&machine="+ru(this.controller),b+="&user="+su(this.controller),kb(ob()+"/api/v1/disk?"+b,null,!0),this.B=!1);!d&&a&&this.N(274877906944,'"%s" saved\n',this.tc)}return!0};
p.create=function(a,b,c,d,e){this.mode=a;this.pb=b;this.jb=c;this.ab=d;this.Zb=e;this.A=[];if("preload"!=this.mode){a=Array(this.pb);for(b=0;b<a.length;b++){c=Array(this.jb);for(d=0;d<c.length;d++){e=Array(this.ab);for(var f=1;f<=e.length;f++)e[f-1]=tu(null,b,d,f,this.Zb,"local"==this.mode?0:null);c[d]=e}a[b]=c}this.A=a}this.G=null};
p.load=function(a,b,c,d,e){var f=b;if(this.F)return!0;this.tc=a;this.Cb=b;this.jh=Xa(b);this.P="json";var g=this;this.F=d;this.T=e||this.controller;if(c){var h=new FileReader;h.onload=function(){uu(g,h.result,!0)};h.onerror=function(){uu(g,null,!1,h.error.message)};h.readAsArrayBuffer(c);return!0}0>b.indexOf("/api/v1/dump")&&(a=Ya(b),"json"==a||"gz"==a?f=encodeURI(b):"demandrw"==this.mode||"demandro"==this.mode?(f=vu(this,b),this.sf=!0):this.P="arraybuffer");var k="Loading "+f+"...";return!!kb(f,
this.P,!0,function(l,n,m){wu(g,l,n,m)},function(){g.N(4398046511104,"%s\n",k)})};
function uu(a,b,c,d){var e=b?b.byteLength:0,f=La[e];if(f){a.pb=f[0];a.jb=f[1];a.ab=f[2];a.Zb=f[3]||512;d=0;b=new DataView(b,0,e);e=a.Zb>>2;var g=0;a.A=Array(a.pb);for(f=0;f<a.A.length;f++)for(var h=a.A[f]=Array(a.jb),k=0;k<h.length;k++)for(var l=h[k]=Array(a.ab),n=0;n<l.length;n++){for(var m=tu(null,f,k,n+1,a.Zb,0),q=m[xu],u=0;u<e;u++,d+=4){var x=q[u]=b.getInt32(d,!0);g=g+x&-1}c&&(m.yc=e);l[n]=m}a.G=g;g=a}else a.N(274877906944,"%s\n",d||"Unrecognized disk format ("+e+" bytes)");a.F&&(a.F.call(a.controller,
a.ce,g,a.tc,a.Cb),a.F=null)}
function wu(a,b,c,d){var e=null;a.H=!1;var f=0>d&&a.ya&&!a.ya.flags.Nb?137438953472:274877906944;if(a.sf)d?a.N(f,'Unable to connect to disk "%s" (error %d: %s)\n',a.Cb,d,c):(a.B=!0,e=a);else if(d)a.N(f,'Unable to load disk "%s" (error %d: %s)\n',a.tc,d,b);else{if("string"!=typeof c){uu(a,c);return}try{if(0<Xa(a.jh,!0).toLowerCase().indexOf("-readonly"))a.H=!0;else{var g=c.indexOf("\n");0<g&&1024>g&&0<c.substring(0,g).indexOf("write-protected")&&(a.H=!0)}if("<"==c.charAt(0))var h=["Missing disk image: "+
a.tc];else if("{"==c[0]){var k=JSON.parse(c);h=k.diskData;var l=k.fileTable;var n=k.imageInfo}else h=0>c.indexOf("0x")&&'["'!=c.substr(0,2)?JSON.parse(c.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+c+")");if(h.length)if(1==h.length)Wb(h[0]);else{a.pb=h.length;a.jb=h[0].length;a.ab=h[0][0].length;var m=h[0][0][0];a.Zb=m&&(m[yu]||m.length)||512;for(g=f=0;g<a.pb;g++)for(k=0;k<a.jb;k++)for(var q=0;q<a.ab;q++)if(m=h[g][k][q]){var u=m[zu];void 0==u&&(u=m.sector,m[zu]=u,delete m.sector);
var x=m[yu];void 0==x&&(x=m.length||512,m[yu]=x,delete m.length);var y=m.pattern;void 0==y?y=0:delete m.pattern;var z=m[xu];if(void 0==z)if(z=m.data,void 0!=z)m[xu]=z,delete m.data;else{var D=m.bytes;if(void 0!==D&&D.length){for(var E=D.length;E<x;E++)D[E]=y;a.fill(m,D,0)}else m[xu]=z=[],D&&(y=y|y<<8|y<<16|y<<24);delete m.bytes}else z.length<x>>2&&(y=z[z.length-1],z.length&&z.length--);tu(m,g,k,u,a.Zb,y);for(var Z=0;Z<z.length;Z++)f=f+z[Z]&-1}a.A=h;a.G=f;a.M=n;Au(a,l);e=a}else Wb("Empty disk image: "+
a.tc)}catch(aa){Wb("Disk image error ("+b+"): "+aa.message),c=null}c&&Tb(a.controller.Ac,b,c)}a.F&&(a.F.call(a.T,a.ce,e,a.tc,a.Cb,d),a.F=null)}function Au(a,b){if(b){var c=a.A;a.L=[];for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g){var h=g[Bu];if(void 0!=h){var k=a.L[h];k||(k=b[h],k=new Cu(a,k.path,Xa(k.path),+k.Pk,k.size||0,k.module),a.L[h]=k);g.file=k;g.vm=g[Du]}delete g[Bu];delete g[Du]}}}}
function Eu(a,b){var c=a.jb*a.ab,d=b/c|0;return d<a.pb?(b%=c,a.seek(d,b/a.ab|0,b%a.ab+1)):null}function tu(a,b,c,d,e,f){a?(a[Fu]=b,a[Gu]=c):(a={},a=(a[Fu]=b,a[Gu]=c,a[zu]=d,a[yu]=e,a[xu]=[],a));a[Hu]=f;a.Rc=a.yc=0;a.qf=!1;return a}function vu(a,b){b="action=open&volume="+b+("&mode="+a.mode);b+="&chs="+a.pb+":"+a.jb+":"+a.ab+":"+a.Zb;b+="&machine="+ru(a.controller);b+="&user="+su(a.controller);return ob()+"/api/v1/disk?"+b}
function Iu(a,b,c,d,e,f,g){if(a.B){var h="action=read&volume="+a.Cb;h+="&chs="+a.pb+":"+a.jb+":"+a.ab+":"+a.Zb;h=h+("&addr="+b+":"+c+":"+d+":"+e)+("&machine="+ru(a.controller));h+="&user="+su(a.controller);kb(ob()+"/api/v1/disk?"+h,null,f,function(k,l,n){k=[b,c,d,e,f,g];var m=!1,q=k[0],u=k[1],x=k[2],y=k[3];if(!n){l=JSON.parse(l);for(m=0;y--;){var z=a.seek(q,u,x,null,!0);if(!z)break;a.fill(z,l,m);m+=z[yu];x++}m=k[4]}(k=k[5])&&k(n,m)})}else g&&g(-1,!1)}
function Ju(a,b,c,d,e,f,g){if(a.B){var h={};a.K=!0;h.action="write";h.volume=a.Cb;h.chs=a.pb+":"+a.jb+":"+a.ab+":"+a.Zb;h.addr=b+":"+c+":"+d+":"+e;h.machine=ru(a.controller);h.user=su(a.controller);h.data=JSON.stringify(f);kb(ob()+"/api/v1/disk",h,g,function(k,l,n){var m=[b,c,d,e,g];k=m[0];l=m[1];var q=m[2],u=m[3];m=m[4];a.K=!1;if(0<=k&&k<a.A.length&&0<=l&&l<a.A[k].length)for(--q;0<u--&&0<=q&&q<a.A[k][l].length;q++){var x=a.A[k][l][q];n?Ku(a,x,!1):x.qf||(x.Rc=x.yc=0)}m&&Lu(a)})}return!1}
function Ku(a,b,c){b.qf=!0;var d=a.D.indexOf(b);0<=d&&(a.D.splice(d,1),a.I.splice(d,1));a.D.push(b);a.I.push(Vb());c&&Lu(a)}function Lu(a){if(a.D.length){var b=a.I[0]+2E3;a.C&&a.O<b&&(clearTimeout(a.C),a.C=null);if(!a.C){var c=Vb();b-=c;0>b&&(b=0);2E3<b&&(b=2E3);a.C=setTimeout(function(){qu(a,!0)},b);a.O=c+b}}else a.C&&(clearTimeout(a.C),a.C=null)}
function qu(a,b){b&&(a.C=null);var c=a.D[0];if(c){var d=c[Fu],e=c[Gu];c=c[zu];for(var f=0,g=[],h=c-1;h<a.A[d][e].length;h++){var k=a.A[d][e][h];if(!k.qf)break;var l=a.D.indexOf(k);a.D.splice(l,1);a.I.splice(l,1);l=g.concat;var n=k[yu],m=Array(n),q=0;n>>=2;for(var u=k[xu],x=k[Hu],y=0;y<n;y++){var z=y<u.length?u[y]:x;m[q++]=z&255;m[q++]=z>>8&255;m[q++]=z>>16&255;m[q++]=z>>24&255}g=l.call(g,m);k.qf=!1;f++}a=Ju(a,d,e,c,f,g,b);return b||a}return!1}
p.info=function(){return this.A.length?[this.A.length,this.A[0].length,this.A[0][0].length,this.A[0][0][0][yu]]:[0,0,0,0]};
p.seek=function(a,b,c,d,e,f){var g=null,h=this.ce,k=this.A[a];if(k){var l,n=k[b];if(!n&&h.Sk&&2>b){n=Array(h.Xd);for(l=0;l<n.length;l++)n[l]=tu(null,a,b,l+1,h.nc,0);b<h.jb&&(k[b]=n,this.jb=b+1)}if(n){for(l=0;l<n.length;l++)if(n[l]&&n[l][zu]==c){g=n[l];if(d&&d==g)for(d=l,k=void 0;;){++d>=n.length&&(d=0);k=n[d];if(!k||k==g)break;if(k[zu]==c){g=k;l=d;break}}if(null===g[Hu])if(e)g[Hu]=0;else{for(e=1;++l<n.length;)null===n[l][Hu]&&e++;Iu(this,a,b,c,e,null!=f,function(m,q){m&&(g=null);f&&f(g,q)});return f?
null:g}break}!g&&h.Sk&&9==h.hb&&(g=n[l]=tu(null,a,b,h.hb,h.nc,0),this.ab<h.hb&&(this.ab=h.hb))}}f&&f(g,!1);return g};p.fill=function(a,b,c){for(var d=a[yu]>>2,e=Array(d),f=0;f<d;f++)e[f]=b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24,c+=4;a[xu]=e};p.read=function(a,b){var c=-1;if(a&&b<a[yu]){c=a[xu];var d=b>>2;c=(d<c.length?c[d]:a[Hu])>>((b&3)<<3)&255}return c};
p.write=function(a,b,c){if(this.H)return!1;if(b<a[yu]){if(c!=this.read(a,b,!0)){var d=a[xu],e=a[Hu],f=b>>2;b=(b&3)<<3;for(var g=d.length;g<=f;g++)d[g]=e;a.yc?f<a.Rc?(a.yc+=a.Rc-f,a.Rc=f):f>=a.Rc+a.yc&&(a.yc+=f-(a.Rc+a.yc)+1):(a.Rc=f,a.yc=1);d[f]=d[f]&~(255<<b)|c<<b;this.B&&Ku(this,a,!0)}return!0}return null};
function Mu(a){for(var b=[],c=0,d;d=Eu(a,c++);)for(var e=0,f=d[yu];e<f;e++){for(var g=b,h=g.push,k=a,l=d,n=e,m=1,q=0,u=0;m--;){var x=k.read(l,n++);if(0>x)break;q|=x<<u;u+=8}h.call(g,q)}return new Uint8Array(b)}
p.save=function(){var a=0,b=[];b[a++]=[this.Cb,this.G,this.pb,this.jb,this.ab,this.Zb];if(!this.B&&!this.H)for(var c=this.A,d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g&&g.yc){for(var h=[],k=0,l=g.Rc,n=g.Rc+g.yc;l<n;)h[k++]=g[xu][l++];b[a++]=[d,e,f,g.Rc,h]}}return b};
p.restore=function(a){var b=0,c="unsupported restore format";if(a&&0<a.length){var d=0,e=a[d++];e&&2<=e.length&&(!this.A.length&&6<=e.length?this.create("local",e[2],e[3],e[4],e[5]):null!=e[0]&&null!=e[1]&&null!=this.G&&e[1]!=this.G&&(c="original checksum ("+e[1]+") differs from current checksum ("+this.G+")",b=-2));for(this.A.length||(b=-1);d<a.length&&0<=b;){var f=0,g=a[d++],h=g[f++],k=g[f++],l=g[f++];if(h>=this.A.length||k>=this.A[h].length||l>=this.A[h][k].length){c="sector (CHS="+h+":"+k+":"+
l+") out of range ("+b+" changes applied)";b=-1;break}if(this.H){c="unable to modify write-protected disk";b=-1;break}e=g[f++];f=g[f++];g=e+f.length;if(h=this.A[h][k][l]){for(k=h[xu].length;k<e;)h[xu][k++]=h[Hu];k=0;h.Rc=e;for(h.yc=f.length;e<g;)h[xu][e++]=f[k++];b++}}}0>b?-2!=b&&this.N(274877906944,'Unable to restore disk "%s": %s\n',this.tc,c):Au(this);return b};
function Nu(a){for(var b=0,c;c=Eu(a,b++);)Ou(c);a=JSON.stringify(a.A,function(d,e){if("file"!=d)return e});a=a.replace(/,"length":512/g,"").replace(/,"data":\[]/g,"");a=a.replace(/"(c|h|s|l|d|sector|length|data|pattern)":/g,"$1:");a=a.replace(/,"[^"]*":([0-9]+|true|false)/g,"");return a=a.replace(/(c|h|s|l|d|sector|length|data|pattern):/g,'"$1":')}function Ou(a){var b=a[xu],c=b.length;if(c<<2==a[yu]){for(var d=c-1,e=b[d],f=0;d--&&b[d]===e;)f++;f++&&(b.length=c-f,a[Hu]=e)}}
var Fu="c",Gu="h",zu="s",yu="l",xu="d",Bu="f",Du="o",Hu="pattern",pu=0;function Cu(a,b,c,d,e,f){this.ua=a;this.path=b;this.name=c;this.Pk=d;this.size=e;this.module=f}
function Pu(a){Sb.call(this,"FDC",a,32768);this.dmaRead=Pu.prototype.uk;this.dmaWrite=Pu.prototype.vk;this.dmaFormat=Pu.prototype.gl;this.T=Qu(a.autoMount);this.Z=a.sortBy||"name";"none"==this.Z&&(this.Z=null);this.C=[];this.L=!zb()&&"FileReader"in r;this.V=null;this.F={};this.D=null;this.K=!1;this.exports={loadDisk:this.yf,wait:this.Ql}}sa(Pu,Sb);p=Pu.prototype;
p.ub=function(a,b,c){var d=this;switch(b){case "listDisks":return this.ca[b]=c,c.onchange=function(){Ru(d)},!0;case "descDisk":case "listDrives":return this.ca[b]=c,c.onchange=function(){var e=Sa(c.value,10);null!=e&&Su(d,e,!0)},!0;case "loadDisk":return this.ca[b]=c,c.onclick=function(){if(d.D){var e=d.F[d.D];e.controller.yf(e.ce.fc,e.Fh)}else d.yf()},!0;case "saveDisk":if(!this.L){c.parentNode.style.display="none";break}this.ca[b]=c;c.onclick=function(){var e=d.ca.listDrives;e&&e.options&&d.B&&
((e=d.B[Sa(e.value,10)||0])?(e=e.ua)?(e=Eb(Mu(e),"octet-stream",!0,e.jh.replace(".json",".img")),nb(e)):d.N(274877906944,"No diskette loaded in drive\n"):d.N(274877906944,"No diskette drive selected\n"))};return!0;case "mountDisk":if(this.L)return this.ca[b]=c,c.onchange=function(){var e=c.children[0];e.children[1].disabled=!e.children[0].files.length},c.onsubmit=function(e){if(e=e.currentTarget[1].files[0]){var f=e.name;Tu(d,Xa(f,!0),f,e)}return!1},!0;c.parentNode.removeChild(c)}return!1};
p.Mf=function(a){this.G&&this.G.Mf("fdcState",a)};function Qu(a){if(a){if("string"==typeof a)try{a=eval("("+a+")")}catch(d){Wb("FDC auto-mount error: "+d.message+" ("+a+")"),a={}}}else a={};for(var b in a){var c=a[b];"string"==typeof c&&(a[b]={name:c})}return a}
p.Mb=function(a,b){if(!b){if(!a){if(this.reset(!0),this.ya.Z){this.C=[];for(a=0;a<this.B.length;a++)Uu(this,a,!0);for(var c in this.T){a=this.T[c];if(!(b=a.path))a:{if(b=a.name){var d=this.ca.listDisks;if(d&&d.options)for(var e=0;e<d.options.length;e++){var f=d.options[e];if(f.text==b){b=f.value;break a}}this.N(274877906944,'Unable to find diskette "%s"\n',b)}b=""}b&&(d=c.charCodeAt(0)-65,0<=d&&d<this.B.length?!Vu(this,d,a.name||Wu(this,b)||Xa(b,!0),b,!0)&&oc(this,!1):this.N(274877906944,"Incorrect auto-mount settings for drive %s (%s)\n",
c,JSON.stringify(a)))}}}else if(!this.restore(a))return!1;Xu(this)}return!0};p.Lb=function(a){return a?this.save():!0};p.reset=function(a){Yu(this);a||Xu(this)};
function Xu(a){var b;if(b=a.ca.listDrives){for(;b.firstChild;)b.removeChild(b.firstChild);var c=0;for(b.value="";c<a.Y;){var d=document.createElement("option");d.value=c.toString();d.text=String.fromCharCode(65+c)+":";b.appendChild(d);d=document.createElement("option");d.value=c.toString();d.text=String.fromCharCode(65+c)+"*";d.title="write-protected";b.appendChild(d);c++}for(var e in a.F)d=document.createElement("option"),d.value=c.toString(),d.text=e,b.appendChild(d),c++;0<a.Y&&(b.value="0",Su(a,
0,!1))}}
p.save=function(){var a=new Yg(this),b=a.set,c=0,d=[];d[c++]=this.fc;d[c++]=0;d[c++]=this.A;d[c++]=this.M;d[c++]=this.O;d[c++]=this.P;d[c++]=this.aa;for(var e=c++,f=0,g=[],h=0;h<this.B.length;h++){var k=f++,l=this.B[h],n=0,m=[];m[n++]=l.sd;m[n++]=[l.name,l.pb,l.jb,l.ab,l.Zb,l.Ce,l.Cf,l.Ge,l.He];m[n++]=l.sb;m[n++]=l.ve+100;m[n++]=l.jd;m[n++]=l.hb;m[n++]=l.Xd;m[n++]=l.nc;m[n++]=l.Va;m[n++]=l.ee;m[n++]=l.tc;m[n++]=l.Cb;m[n]=l.Bd;g[k]=m}d[e]=g;e=c++;for(f=0;f<this.B.length;f++)g=this.B[f],g.ua&&Zu(this,
g.Cb,g.ua);d[e]=this.C;d[c++]=this.H;d[c]=this.Sb;b.call(a,0,d);return a.data()};p.restore=function(a){return Yu(this,a[0])};
function Yu(a,b){var c=0,d=!0;b||(b=[0,0,$u,Array(9),0,0,0,[]]);a.fc=b[c++];c++;a.A=b[c++];a.M=b[c++];a.O=b[c++];a.P=b[c++];a.aa=b[c++];var e=b[c++];var f=b[c++];null!=f&&(a.C=f);a.Y=a.la?+gg(a.la,Hm):4;void 0===a.B&&(a.B=Array(4));for(f=0;f<a.B.length;f++){var g=!1,h=a.B[f];if(void 0===h){g=!0;h=a.B[f]={};if(a.la)a:{var k=a.la;if(f<+gg(k,Hm)){if(!k.D){k=360;break a}if(f<k.D.length){k=k.D[f];break a}}k=0}else k=0;switch(k){case 160:case 180:h.jb=1;default:h.pb=40;h.ab=9;break;case 720:h.pb=80;h.ab=
9;break;case 1200:h.pb=80;h.ab=15;break;case 1440:h.pb=80,h.ab=18}}var l=a;k=f;var n=e[f],m=g,q=0;g=!0;h.fc=k;h.Kd=h.ee=!1;h.ge=null;h.gg=null;null==h.gg&&(h.gg=!0);m&&(h.Bd=!0,h.gg||l.N(137438953472,"drive %d configured as non-bootable\n",k));void 0===n&&(n=[av,!0,0,2,0]);"boolean"==typeof n[1]&&(n[1]=[bv,h.pb||40,h.jb||n[3],h.ab||9,h.Zb||512,n[1],h.Cf,h.Ge,h.He]);h.sd=n[q++];m=n[q++];h.name=m[0];h.pb=m[1];h.jb=m[2];h.ab=m[3];h.Zb=m[4];h.Ce=m[5];(h.Cf=m[6])?(h.Ge=m[7],h.He=m[8]):(h.Cf=h.pb,h.Ge=
h.jb,h.He=h.ab);h.sb=n[q++];h.ve=n[q++];h.jd=n[q++];h.ve=100<=h.ve?h.ve-100:h.ve-h.jd;h.hb=n[q++];h.Xd=n[q++];h.nc=n[q++];h.Va=n[q++];h.eb=null;h.Lf=null;h.ua||(h.Cb="");var u=n[q++];102==u&&(u=!1);if("boolean"==typeof u){var x=n[q++];m=n[q++];null!=n[q]&&(h.Bd=n[q]);u?(n=x,q=m,m=l.B[k],Uu(l,k,!0,!0),m.ee=!0,k=new ou(l,m,"preload"),cv(l,m,k,n,q)):Vu(l,k,x,m,!0)?h.ua&&m&&dv(l,x,m,h.ua):oc(l,!1)}else void 0!==u&&h.ua&&0>h.ua.restore(u)&&(g=!1);g&&h.ua&&void 0!==h.Va&&(h.eb=h.ua.seek(h.jd,h.sb,h.hb));
g||(d=!1)}a.H=b[c++]||0;a.Sb=b[c]||ev;a.N("FDC initialized for %d drive(s)\n",a.B.length);return d}p.Gh=function(a){a=this.B[a];if(void 0!==a){var b={};for(var c in a)b[c]=a[c]}return b};p.wj=function(a,b,c){if(a.ua){var d=a.ua.info(),e=d[2],f=d[1]*e;if(b+c<=d[0]*f)return a.jd=Math.floor(b/f),b%=f,a.sb=Math.floor(b/e),a.hb=b%e+1,a.nc=c*d[3],a.sd=fv,!0}return!1};
p.yf=function(){var a=ta.apply(0,arguments),b=this.ca.listDisks;if(b){var c=b.options[b.selectedIndex].text;b=b.value;this.K="scroll"==a[0];return Tu(this,c,b)}return!1};
function Tu(a,b,c,d){var e,f=a.ca.listDrives;if(f&&!isNaN(e=Sa(f.value,10))&&0<=e&&e<a.B.length){if(!c)return Uu(a,e),!0;if("?"==c)return a.N(274877906944,'Use "Choose File" and "Mount" to select and load a local disk\n'),!1;if("??"==c){c="";r.prompt&&(c=r.prompt("Enter the URL of a remote disk image.","")||"");if(!c)return!1;b=Xa(c)}for(;0>Vu(a,e,b,c,!1,d);){if(!("localhost"==qb()||r.confirm&&r.confirm("Click OK to reload the original disk and discard any changes.")))return!1;var g=a,h=c;for(f=0;f<
g.C.length;f++)if(g.C[f][1]==h){g.C.splice(f,1);break}Uu(a,e,!1,!0)}return!0}a.N(274877906944,"Unable to load the selected drive\n");return!1}function Vu(a,b,c,d,e,f){function g(l,n,m,q){cv(a,l,n,m,q)}var h=-1,k=a.B[b];if(!k)h=-2;else if(d&&(d=rb(d),k.Cb.toUpperCase()!=d.toUpperCase())){h=1;Uu(a,b,e,!0);if(k.Kd)return a.N(274877906944,"Drive %d busy\n",b),0;k.Kd=!0;e&&(k.de=!0,a.I++,a.N('loading diskette "%s"\n',c));k.ee=!!f;(new ou(a,k,"preload")).load(c,d,f,g)||(h=0)}return h}
function cv(a,b,c,d,e){b.Kd=!1;if(c){var f=c.info();if(c&&f[0]>b.pb||f[1]>b.jb)a.N(274877906944,'Diskette "%s" too large for drive %s\n',d,String.fromCharCode(65+b.fc)),c=null}if(c){b.ua=c;b.tc=d;b.Cb=e;if(!Wu(a,e))a:if((f=a.ca.listDisks)&&f.options){for(var g=0;g<f.options.length;g++)if(f.options[g].value==e)break a;g=document.createElement("option");g.text=d;g.value=e;f.appendChild(g)}dv(a,d,e,c);f=c.info();a.H|=gv;b.ge||a.N(137438953472,'Mounted "%s" (format %s) in drive %s\n',d,c.M&&c.M.format||
"unknown",String.fromCharCode(65+b.fc));b.Cf=f[0];b.Ge=f[1];b.He=f[2];a.ya&&a.ya.wc(a.K)}else b.ee=!1;b.de&&(b.de=!1,--a.I||oc(a));Su(a,b.fc);b.ge&&(b.ge(),b.ge=null);a.K=!1}function Wu(a,b){if((a=a.ca.listDisks)&&a.options)for(var c=0;c<a.options.length;c++){var d=a.options[c];if(d.value==b)return d.text}return null}
function Su(a,b,c){var d=a.ca.listDrives;if(d&&d.options&&(d=d.options[d.selectedIndex])){var e=d.textContent;var f=a.ca.listDisks;if(a.F[e]){if(!a.D){var g=a.F[e].Fh;a.D=e}e=a.F[e].ce}else a.D&&(g=f,f=a.F[a.D].Fh,a.D=null),e=a.B[b]}if(f&&g){d=g.nextSibling;var h=g.parentNode;d===f?h.insertBefore(f,g):(f.parentNode.insertBefore(g,f),d?h.insertBefore(f,d):h.appendChild(f));g.style.width=f.scrollWidth+"px";f.style.display="none";g.style.display="inline-block";f=g}e?a.V=e:f=void 0;if(f){g=a.V;e=a.ca.listDrives;
h=Sa(e.value,10);d=g.ee?"?":g.Cb;if(!isNaN(h)&&h==b){for(b=0;b<f.options.length;b++)if(f.options[b].value==d){f.selectedIndex!=b&&(f.selectedIndex=b);break}b==f.options.length&&(f.selectedIndex=0)}if(!1===c)for(b=0;b<e.options.length;b++){if(+e.options[b].value==g.fc){e.selectedIndex!=b&&(e.selectedIndex=b);!1===g.Bd&&e.selectedIndex++;break}}else!0===c&&void 0!==g.Bd&&0<=e.selectedIndex&&g.Bd!=!(e.selectedIndex&1)&&(g.Bd=!g.Bd,g.Bd||a.N(274877906944,"Any diskette loaded in this drive will now be write-protected."))}}
function Ru(a){var b=a.ca.listDisks,c=a.ca.descDisk,d=b.options[b.selectedIndex];if(c&&d){b={};if(d=d.getAttribute("data-value"))try{b=eval("("+d+")")}catch(e){Wb(a.type+" option error: "+e.message)}a=b.desc;void 0===a&&(a="");b=b.href;void 0!==b&&(a='<a href="'+b+'" target="_blank">'+a+"</a>");c.innerHTML=a}}p.Ql=function(a){for(var b=0;b<this.B.length;b++){var c=this.B[b];if(c&&c.Kd)return c.ge||(c.ge=a),!1}return!0};
function Uu(a,b,c,d){var e=a.B[b];e.ua&&(Zu(a,e.Cb,e.ua),e.tc="",e.Cb="",e.ua=null,e.ee=!1,a.H|=gv,d||a.N(137438953472,"Drive %s unloaded\n",String.fromCharCode(65+b)),c||d||Su(a,b))}function dv(a,b,c,d){var e;for(e=0;e<a.C.length;e++)if(a.C[e][1]==c){d.restore(a.C[e][2]);return}a.C[e]=[b,c,[]]}function Zu(a,b,c){var d;for(d=0;d<a.C.length;d++)if(a.C[d][1]==b){a.C[d][2]=c.save();break}}p.uk=function(a,b,c){void 0===b||0>b?this.Kf(a,c):c(-1,!1)};p.vk=function(a,b){return void 0!==b&&0<=b?hv(a,b):-1};
p.gl=function(a,b){if(void 0!==b&&0<=b)a:if(a.sd)a=-1;else{a.Oc[a.ze++]=b;if(a.ze==a.Oc.length){a.jd=a.Oc[0];a.sb=a.Oc[1];a.hb=a.Oc[2];a.nc=128<<a.Oc[3];a.ze=0;vc(this)&&this.N("%s.writeFormat(drive=%d,CHS=%d:%d:%d,len=%d)\n",this.ad,a.fc,a.jd,a.sb,a.hb,a.nc);for(var c=0;c<a.nc;c++)if(0>hv(a,a.Rk)){a=-1;break a}a.$f++}a.$f>=a.Xd&&(b=-1);a=b}else a=-1;return a};
p.Kf=function(a,b){var c=-1,d=null,e=0;if((!a.sd||a.sd==(iv|jv))&&a.ua){do{if(a.eb&&(e=a.Va,0<=(c=a.ua.read(a.eb,a.Va++)))){d=a.eb;break}a.eb=a.ua.seek(a.jd,a.sb,a.hb,a.Lf);if(!a.eb){a.sd=kv|jv;break}a.Lf=a.eb;a.eb.dataError&&(a.sd=iv|jv);a.Va=0;lv(a)}while(1)}b(c,!1,d,e)};
function hv(a,b){if(a.sd||!a.ua)return-1;do{if(a.eb){if(a.eb.dataError&&a.Va>=a.eb.dataError)break;if(a.ua.write(a.eb,a.Va++,b))break}a.eb=a.ua.seek(a.jd,a.sb,a.hb,a.Lf);if(!a.eb){a.sd=iv|jv;b=-1;break}a.Lf=a.eb;a.Va=0;lv(a)}while(1);return b}function lv(a){a.hb++;a.hb>=a.He+1&&(a.hb=1,a.sb++,a.sb>=a.Ge&&(a.sb=0,a.jd++))}var bv="Floppy Drive",$u=128,fv=0,jv=64,av=192,kv=1024,iv=8192,gv=128,ev=0;Jb(function(){for(var a=cc("pcx86","fdc"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Pu(d);bc(d,c)}});
function mv(a){Sb.call(this,"HDC",a,65536);this.dmaRead=mv.prototype.wk;this.dmaWrite=mv.prototype.xk;this.dmaWriteBuffer=mv.prototype.hl;this.dmaWriteFormat=mv.prototype.il;this.V=[];this.D=this.Y=!1;this.H=(a.type||"XT").toUpperCase();"AT"==this.H.slice(0,2)&&(this.D=!0,this.Y="ATAPI"==this.H.slice(0,5));this.L=this.Y?1:0;a=this.H.slice(-1);"1"==a?this.L=0:"2"==a&&(this.L=1);this.Z=!zb()&&"FileReader"in r}sa(mv,Sb);p=mv.prototype;
p.ub=function(a,b,c){var d=this;switch(b){case "listDisks":this.ca[b]=c;break;case "saveHD0":case "saveHD1":if(this.Z)return this.ca[b]=c,c.onclick=function(e){return function(){var f=d.B&&d.B[e];if(f&&f.ua){f=f.ua;var g=f.jh||f.tc,h=g.lastIndexOf(".");0<=h&&(g=g.substr(0,h));g+=".img";f=Eb(Mu(f),"octet-stream",!0,g);nb(f)}else d.N(274877906944,"Hard drive %d is not available.\n",e)}}(+b.slice(-1)),!0;c.parentNode.style.display="none"}return!1};
p.Mb=function(a,b){if(!b)if(!a){if(nv(this),this.ya.Z)for(a=0;a<this.B.length;a++){var c=this.B[a];if(c.name&&c.Cb){if(!c.ua||!c.ua.sf){b=c.name;c=c.Cb;var d=this.B[a];d.type?d.Kd?(this.N(274877906944,"Drive %d busy\n",a),b=!0):(d.Kd=!0,d.de=!0,this.I++,this.N('loading "%s"\n',b),d=d.ua||new ou(this,d,d.mode),c=rb(c),d.load(b,c,null,this.jl),b=!1):b=!0;!b&&oc(this,!1)}}else void 0!==c.type&&(c.ua=null,ov(this,c,c.type))}}else if(!this.restore(a))return!1;return!0};
p.Lb=function(a){return a?this.save():!0};function ru(a){return a.ya?a.ya.ia:""}function su(a){return a.ya?a.ya.D||"":""}p.reset=function(){nv(this,null,!0)};
p.save=function(){var a=new Yg(this),b=a.set,c=0,d=[];this.D?(d[c++]=this.ha,d[c++]=this.va,d[c++]=this.na,d[c++]=this.ta,d[c++]=this.fa,d[c++]=this.ba,d[c++]=this.T,d[c++]=this.A,d[c++]=this.aa,d[c++]=[this.G,this.fc]):(d[c++]=this.F,d[c++]=this.A,d[c++]=this.M,d[c++]=this.O,d[c++]=this.P,d[c++]=this.ma,d[c++]=this.ka,d[c++]=this.ia,d[c++]=this.K);for(var e=0,f=[],g=0;g<this.B.length;g++){var h=e++,k=this.B[g],l=0,n=[];n[l++]=k.errorCode;n[l++]=k.Pl;n[l++]=k.Ce;n[l++]=k.af;n[l++]=k.buffer;n[l++]=
k.sb;n[l++]=k.jb;n[l++]=k.Dd;n[l++]=k.hb;n[l++]=k.Xd;n[l++]=k.nc;n[l++]=k.Va;n[l]=k.ua?k.ua.save():null;f[h]=n}d[c]=f;b.call(a,0,d);return a.data()};p.restore=function(a){return nv(this,a[0])};
function nv(a,b,c){var d=0,e=!0;a.fc=-1;if(a.D){if(null==b&&(b=[0,0,0,0,0,0,0,pv,0,[0,-1]]),a.ha=b[d++],a.va=b[d++],a.na=b[d++],a.ta=b[d++],a.fa=b[d++],a.ba=b[d++],a.T=b[d++],a.A=b[d++],a.aa=b[d++],a.G=b[d++],"object"==typeof a.G){var f=a.G;a.G=f[0];a.fc=f[1]}}else null==b&&(b=[0,qv,Array(14),0,0]),a.F=b[d++],a.A=b[d++],a.M=b[d++],a.O=b[d++],a.P=b[d++],a.ma=b[d++],a.ka=b[d++],a.ia=b[d++],f=b[d++],void 0!==f?a.K=f:void 0===a.K&&(a.K=-1);void 0===a.B&&(a.B=Array(a.V.length));b=b[d];void 0===b&&(b=[]);
for(d=0;d<a.B.length;d++){void 0===a.B[d]&&(a.B[d]={});f=a.B[d];var g=a,h=d,k=f,l=a.V[d],n=b[d],m=c,q=0,u=!0;void 0===n&&(n=[rv,0,!1,Array(8)]);k.fc=h;k.errorCode=n[q++];k.Pl=n[q++];k.Ce=n[q++];k.af=n[q++];k.buffer=n[q++];k.sb=n[q++];k.jb=n[q++];k.Dd=n[q++];k.hb=n[q++];k.Xd=n[q++];k.nc=n[q++];k.ef=g.D?0:1;k.name=l.name;void 0===k.name&&(k.name=sv);k.path=k.Cb=l.path;k.mode=l.mode||(k.path?"preload":"local");"demandro"!=k.mode&&"demandrw"!=k.mode||su(g)||(k.mode="local");k.type=l.type;if(void 0===
k.type||void 0===tv[g.C][k.type])k.type=g.wa;l=tv[g.C][k.type];k.ab=l[2]||17;k.Zb=k.om=l[3]||512;if(m&&g.la){var x=g.la;l=k.type;if(x.A){m=null;var y=x.A[18];15<l&&(m=l,l=15);2*g.L+h?(y=y&240|l,l=26):(y=y&15|l<<4,l=25);var z=x;z.A&&(z.A[18]=y,wn(z));null!=m&&x.A&&(x.A[l]=m,wn(x))}}void 0===k.ua&&(k.ua=null,g.N(137438953472,'Type %d "%s" is fixed disk %d\n',k.type,k.name,h));ov(g,k);k.Va=n[q++];k.eb=null;k.Bj=!1;k.cl=[];k.dl=[];k.ua&&(g=n[q],void 0!==g&&0>k.ua.restore(g)&&(u=!1),u&&void 0!==k.Va&&
(k.eb=k.ua.seek(k.Dd,k.sb,k.hb+k.ef)));u||(e=!1);null!=a.F&&1>=d&&(a.F|=(f.type&3)<<(1-d<<1))}0<=a.fc&&(a.ce=a.B[a.fc]);a.N("HDC initialized for %d drive(s)\n",a.B.length);return e}p.Gh=function(a){a=this.B[a];if(void 0!==a){var b={};for(var c in a)b[c]=a[c]}return b};
function ov(a,b,c){if(b){var d=0,e=0;null==c&&((d=b.af[2])?e=b.af[0]<<8|b.af[1]:c=b.type);null==c||d||(d=tv[a.C][c][1],e=tv[a.C][c][0]);d&&((c=tv[a.C][b.type])&&e!=c[0]&&d!=c[1]&&a.N(274877906944,"Warning: drive parameters (%d,%d) do not match drive type %d (%d,%d)\n",e,d,b.type,c[0],c[1]),b.pb=e,b.jb=d,null==b.ua&&(b.ua=new ou(a,b,b.mode)))}}
p.wj=function(a,b,c){if(a.ua){var d=a.ua.info(),e=d[0];if(e){var f=d[2],g=d[1]*f;if(b+c<=e*g)return a.Dd=Math.floor(b/g),b%=g,a.sb=Math.floor(b/f),a.hb=b%f,a.nc=c*d[3],a.errorCode=rv,!0}}return!1};p.yf=function(a,b){a=this.B[a];a.Cb=b.options[b.selectedIndex].value;a.cl=[];a.dl=[]};
p.jl=function(a,b,c){a.Kd=!1;if(a.ua=b)this.N(a.de?137438953472:274877906944,'Mounted disk "%s" in drive %s\n',c,String.fromCharCode(67+a.fc)),b=b.info(),b[0]==a.pb&&b[1]==a.jb&&b[2]==a.ab&&b[3]==a.Zb||this.N(274877906944,"Warning: disk geometry (%d:%d:%d) does not match %s drive type %d (%d:%d:%d)\n",b[0],b[1],b[2],uv[this.C],a.type,a.pb,a.jb,a.ab);a.de&&(a.de=!1,--this.I||oc(this))};p.wk=function(a,b,c){void 0===b||0>b?this.Kf(a,c):c(-1,!1)};
p.xk=function(a,b){return void 0!==b&&0<=b?vv(this,a,b):-1};p.hl=function(a,b){void 0!==b&&0<=b?(a.Va<a.buffer.length?a.buffer[a.Va++]=b:(a.errorCode=wv,b=-1),a=b):a=-1;return a};
p.il=function(a,b){if(void 0!==b&&0<=b)a:if(a.errorCode)a=-1;else{a.Oc[a.ze++]=b;if(a.ze==a.Oc.length){a.Dd=a.Oc[0];a.sb=a.Oc[1];a.hb=a.Oc[2];a.nc=128<<a.Oc[3];a.ze=0;this.N("%s.writeFormat(%d:%d:%d:%d)\n",this.ad,a.Dd,a.sb,a.hb,a.nc);for(var c=0;c<a.nc;c++)if(0>vv(this,a,a.Rk)){a=-1;break a}a.$f++}a.$f>=a.Xd&&(b=-1);a=b}else a=-1;return a};
p.Kf=function(a,b){var c=-1,d=null,e=0;if(a.errorCode)b&&b(c,!1,d,e);else if(a.Bj)a.Va<a.buffer.length&&(c=a.buffer[a.Va],a.Va+=1,b&&b(c,!1,d,e));else{if(a.eb&&(e=a.Va,c=a.ua.read(a.eb,a.Va),a.Va+=1,0<=c)){d=a.eb;b&&b(c,!1,d,e);return}if(b){var f=this;a.ua?a.ua.seek(a.Dd,a.sb,a.hb+a.ef,null,!1,function(g,h){(a.eb=g)?(d=g,e=a.Va=0,xv(f,a),c=a.ua.read(a.eb,a.Va),a.Va+=1):a.errorCode=wv;b(c,h,d,e)}):(a.errorCode=wv,b(c,!1,d,e))}}};
function vv(a,b,c){if(b.errorCode)return-1;do{if(b.Bj){if(b.Va<b.buffer.length){b.buffer[b.Va++]=c;break}return-1}if(b.eb&&b.ua.write(b.eb,b.Va++,c))break;b.ua&&b.ua.seek(b.Dd,b.sb,b.hb+b.ef,null,!0,function(d){b.eb=d});if(!b.eb){b.errorCode=wv;c=-1;break}b.Va=0;xv(a,b)}while(1);return c}function xv(a,b){b.hb++;var c=1-b.ef;b.hb>=b.ab+c&&(b.hb=c,b.sb++,b.sb>=b.jb&&(b.sb=0,b.Dd++),a.T=a.T&~yv|b.sb&yv)}
var sv="Hard Drive",uv=["XTC","ATC","COMPAQ"],tv=[{0:[306,2],1:[375,8],2:[306,6],3:[306,4]},{0:[1024,16,21,2048],1:[306,4],2:[615,4],3:[615,6],4:[940,8],5:[940,6],6:[615,4],7:[462,8],8:[733,5],9:[900,15],10:[820,3],11:[855,5],12:[855,7],13:[306,8],14:[733,7],16:[612,4],17:[977,5],18:[977,7],19:[1024,7],20:[733,5],21:[733,7],22:[733,5],23:[306,4]},{0:[1024,16,21,2048],1:[306,4],2:[615,4],3:[615,6],4:[1023,8],5:[940,6],6:[697,5],7:[462,8],8:[925,5],9:[900,15],10:[980,5],11:[925,7],12:[925,9],13:[612,
8],14:[980,4],16:[612,4],17:[980,5],18:[966,6],19:[1023,8],20:[733,5],21:[733,7],22:[524,4,40],23:[924,8],24:[966,14],25:[966,16],26:[1023,14],27:[832,6,33],28:[1222,15,34],29:[1240,7,34],30:[615,4,25],31:[615,8,25],32:[905,9,25],33:[832,8,33],34:[966,7,34],35:[966,8,34],36:[966,9,34],37:[966,5,34],38:[612,16,63],39:[1023,11,33],40:[1023,15,34],41:[1630,15,52],42:[1023,16,63],43:[805,4,26],44:[805,2,26],45:[748,8,33],46:[748,6,33],47:[966,5,25]}],yv=15,pv=64,rv=0,wv=20,qv=0;
Jb(function(){for(var a=cc("pcx86","hdc"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new mv(d);bc(d,c)}});function zv(a,b,c){Sb.call(this,a,b,c);this.D=+b.base||16;this.ba=["{","}"];this.va=["[","]"];this.V=this.fa=this.M=0;this.aa=!1;this.A=-1;this.C=[];this.G={}}sa(zv,Sb);zv.prototype.kg=function(){return-1};zv.prototype.lg=function(){};zv.prototype.ej=function(a,b){return a.replace("["+b+"]","unimplemented")};
zv.prototype.Pe=function(a,b,c){if(b)if(a){0>this.A&&this.C.length&&(this.A=0);if(0>this.A||a!=this.C[this.A])this.C.splice(0,0,a),this.A=0;this.A--}else this.aa?a="end":a=this.C[this.A+1];b=[];if(a){a=a.replace(/""/g,"'");var d=0,e=null;c=c||";";for(var f=0;f<=a.length;f++){var g=a.charAt(f);if('"'==g||"'"==g)e?g==e&&(e=null):e=g;else if(g==c&&!e||!g)b.push(cb(a.substring(d,f))),d=f+1}}return b};
function Av(a,b,c){var d=a;b=b||32;if(c)if(32==b)d=a>>>0;else if(32>b)d=a&(1<<b)-1;else{if(b=Math.pow(2,b),0>a||a>=b)d=a%b,0>d&&(d+=b)}else 32>=b?d=a<<32-b>>32-b:(b=Math.pow(2,b-1),a>=b?(d=a%b,(a/b|0)&1&&(d-=b)):a<-b&&(d=a%b,((-a-1)/b|0)&1?d&&(d+=b):d||(d-=b)));a!=d&&(a=d);return a}
function Bv(a,b,c){for(c=void 0===c?-1:c;c--&&b.length;){var d=b.pop();if(2>a.length)return!1;var e=a.pop();var f=a.pop();switch(d){case "*":f*=e;break;case "/":if(!e)return!1;f=Math.trunc(f/e);break;case "^/":if(!e)return!1;f%=e;break;case "+":f+=e;break;case "-":f-=e;break;case "<<":f<<=e;break;case ">>":f>>=e;break;case ">>>":f>>>=e;break;case "<":f=f<e?1:0;break;case "<=":f=f<=e?1:0;break;case ">":f=f>e?1:0;break;case ">=":f=f>=e?1:0;break;case "==":f=f==e?1:0;break;case "!=":f=f!=e?1:0;break;
case "&":f&=e;break;case "!":case "|":f|=e;break;case "^!":f^=e;break;case "&&":f=f&&e?1:0;break;case "||":f=f||e?1:0;break;case ",,":f=Av(f,18,!0)*Math.pow(2,18)+Av(e,18,!0);break;case "_":case "^_":"^_"==d&&(e=35-(e&255));e&&(f=Av(f,0,!0),f=0<e?f*Math.pow(2,e):Math.trunc(f/Math.pow(2,-e)));break;default:return!1}a.push(Av(f))}return!0}
function Cv(a,b,c,d,e,f){var g,h=!1,k=0,l=[],n=[],m=a.D;for(a.D=e;c<d;){var q=b[c++].trim();var u=c<d?b[c++]:"";if(q)var x=Dv(a,q,void 0,f,k);else if("{"==u){q=1;for(x=c;c<d;)if(c++,u=c<b.length?b[c++]:"","{"==u)q++;else if("}"==u&&!--q)break;x=Cv(a,b,x,c-1,a.D,f);null!=x&&k&&(x=Ev(x,k));q=c<d?b[c++].trim():"";u=c<d?b[c++]:""}else{if(" "==u)continue;if("^B"==u){a.D=2;continue}if("^O"==u){a.D=8;continue}if("^D"==u){a.D=10;continue}if(!(k&-1073741824)){if("+"==u)continue;if("-"==u){k=k<<2|1;continue}if("~"==
u||"^-"==u){k=k<<2|2;continue}if("^L"==u){k=k<<2|3;continue}}h=!0;break}if(void 0===x)if(f)f.push(q),x=0;else{h=!0;f=[];break}l.push(Av(x));if(" "==u)if(c<b.length-1&&!b[c])c++,u=b[c++];else{h=!0;break}if(!u)break;k="<"==a.ba[0]?Fv:Gv;if(!k[u]){h=!0;break}n.length&&k[u]<=k[n[n.length-1]]&&Bv(l,n,1);n.push(u);a.D="^_"==u?10:e;k=0}if(h||!Bv(l,n)||1!=l.length)h=!0;h?f||a.N("parse error (%s)\n",q||u):g=l.pop();a.D=m;return g}
function Hv(a,b,c,d,e){for(var f;0<=(f=b.indexOf(c));){for(var g=0,h=f+1,k=e;h<b.length;){var l=b[h++];if(l==c){k=-1;break}if(!k)break;k--;l=l.charCodeAt(0);7==d?l&=127:l=l-32&63;g=Av(g*Math.pow(2,d)+l,d*e,!0)}if(0<=k){a.N("parse error (%s%s%s)\n",c,b,c);return}b=b.substr(0,f)+Iv(a,g,-1)+b.substr(h)}return b}
function Jv(a,b,c){var d=void 0,e=!1===c;c=Array.isArray(c)?c:void 0;if(b){"{"!=a.ba[0]&&(b=b.split(a.ba[0]).join("{").split(a.ba[1]).join("}"));b=Hv(a,b,'"',7,5);if(!b)return d;b=Hv(a,b,"'",6,6);if(!b)return d;16!=a.D&&(b=b.replace(/(^|[^A-Z0-9$%.])([0-9]+)B/,"$1$2^_").replace(/\s+/g," "));b=b.split(/({|}|\|\||&&|\||\^!|\^B|\^O|\^D|\^L|\^-|~|\^_|_|&|!=|!|==|>=|>>>|>>|>|<=|<<|<|-|\+|\^\/|\/|\*|,,| )/);d=Cv(a,b,0,b.length,a.D,c);void 0!==d&&e&&Kv(a,null,d)}return d}
function Lv(a,b){var c=a.ba[0],d=a.ba[1];var e="("==c||"{"==c||"["==c?"\\":"";var f="["==c?"\\":"";for(f=new RegExp(e+c+"([^"+f+c+f+d+"]+)"+e+d);e=b.match(f);){var g=Jv(a,e[1]);if(void 0===g)return;b=b.replace(c+e[1]+d,null!=g?Iv(a,g):"undefined")}if(a.va.length)for(c=a.va[0],d=a.va[1],e="("==c||"{"==c||"["==c?"\\":"",f="["==c?"\\":"",f=new RegExp(e+c+"([^"+f+c+f+d+"]+)"+e+d);e=b.match(f);)b=a.ej(b,e[1]);for(;c=b.match(/\$([a-z]+)/i);){d=null;switch(c[1].toLowerCase()){case "ops":d=a.V-a.fa}if(null==
d)break;b=b.replace(c[0],d.toString())}return b}function Ev(a,b){for(;b;){var c;switch(b&3){case 1:a=-Av(a);break;case 2:a^=-1;break;case 3:for(c=35;0<=c&&!(a&Math.pow(2,c));)c--;a=35-c}b>>>=2}return a}
function Dv(a,b,c,d,e){e=void 0===e?0:e;var f=Array.isArray(d)?d:void 0;if(void 0!=b){var g=a.kg(b);if(0<=g)g=a.lg(g);else if(g=b,a.G[g]?g=a.G[g].value:(g=g.substr(0,6),g=a.G[g]&&a.G[g].value),void 0!=g){var h=a.G[b]&&a.G[b].Ol;h&&(f?f.push(h):(f=Jv(a,h,d),void 0!==f?g+=f:(d||a.N("undefined %s: %s (%s)\n",c||"value",b,h),g=void 0)))}else g=Sa(b,1<b.length||10<a.D?a.D:10);void 0!=g?g=Av(Ev(g,e)):d||a.N("invalid %s: %s\n",c||"value",b)}else d||a.N("missing %s\n",c||"value");return g}
function Kv(a,b,c){var d=!1;if(void 0!==c){d=!0;var e=8==a.D?Iv(a,c,32,8,1)+"  "+c+".":Iv(a,c,32,16,1)+"  "+Iv(a,c,32,8,1)+"  "+Iv(a,c,32,2,8)+"  "+c+".";32<=c&&127>c&&(e+=" '"+String.fromCharCode(c)+"'")}a.N("%s%s\n",null!=b?b+": ":"",e);return d}function Mv(a,b){var c=0;if(a.G){if(b)return Kv(a,b,a.G[b]&&a.G[b].value);b=Object.keys(a.G);b.sort();for(var d=0;d<b.length;d++)Kv(a,b[d],a.G[b[d]].value),c++}return 0<c}
function Iv(a,b,c,d,e){c=void 0===c?0:c;e=void 0===e?0:e;switch((void 0===d?0:d)||a.D){case 2:b=Va(b,0<c?c:0,e);break;case 8:b=Wa(b,0<c?(c+2)/3|0:0,!!e);break;case 10:(a=0<c?Math.ceil(.3*c):0)?11<a&&(a=11):a=99999>=Math.abs(b)?5:11;b=Ua(b,10,a);break;default:b=w(b,0<c?c+3>>2:0,!!e)}return c=0>c?b.replace(/^0+([0-9A-F]+)$/i,"$1"):b}
var Gv={"||":5,"&&":6,"!":7,"|":7,"^!":8,"&":9,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,_:19,"^_":19,"{":20,"}":20},Fv={",,":1,"||":5,"&&":6,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,"!":15,"|":15,"^!":15,"&":15,_:19,"^_":19,"{":20,"}":20};
function Nv(a){zv.call(this,"Debugger",a,-1);this.ma=4;this.oa=1048575;this.L=Ov(this,0,0);this.na=Ov(this,0,0);this.Z=Ov(this,0,0);this.I=[];this.B=this.O=this.H=[];Pv(this);this.ia=0;Qv(this);this.Aa={};Rv(this,a.messages);this.xa=a.commands;var b=this;void 0===r.pcx86&&(r.pcx86=function(c){return Sv(b,c)})}sa(Nv,zv);p=Nv.prototype;
p.ub=function(a,b,c){var d=this;switch(b){case "debugInput":return this.T=this.ca[b]=c,c.onkeydown=function(e){if(13==e.keyCode){var f=d.T.value;d.T.value="";Sv(d,f,!0)}else if(27==e.keyCode)d.T.value=f="";else if(38==e.keyCode?(f=null,d.A<d.C.length-1&&(f=d.C[++d.A])):40==e.keyCode&&(0<d.A?f=d.C[--d.A]:(f="",d.A=-1)),null!=f){var g=f.length;d.T.value=f;d.T.setSelectionRange(g,g)}null!=f&&e.preventDefault&&e.preventDefault()},!0;case "debugEnter":return this.ca[b]=c,Hb(c,function(){if(d.T){var e=
d.T.value;d.T.value="";Sv(d,e,!0);return!0}return!1}),!0;case "step":return this.ca[b]=c,Hb(c,function(e){var f=!1;pc(d,!0)||(rc(d,!0),f=Tv(d,e?1:0),rc(d,!1));return f}),!0}return!1};p.wc=function(){this.T&&this.T.focus()};function Uv(a){return!(!(a.J&&a.J.ia&1)||a.J.P&131072)}
function Vv(a,b,c){var d=Uv(a)?Wv:Xv;c||(c=d);if(c==d){if(b===Sg(a.J))return a.J.aa;if(b===a.J.wa.W)return a.J.wa;if(b===a.J.ka.W)return a.J.ka;if(b===a.J.T.W)return a.J.T;if(80386<=a.J.model){if(b===a.J.Fa.W)return a.J.Fa;if(b===a.J.Ga.W)return a.J.Ga}if(a.wa&&c==Wv||!a.Ka)return null}a=a.Ka;if(c!=Wv)a.sg(b),a.Ra=65535,a.Bb=65536;else{c=a.vb;b&=65535;if(b&4){d=c.nb.pa;var e=d+c.nb.Ra|0}else d=c.wb,e=c.qc;d=d+(b&65528)|0;if(e-d|0){e=zh(c,d,2);var f=zh(c,d+4,2),g=f&7936,h=zh(c,d+2,2)|(f&255)<<16,k=
zh(c,d+6,2);80386<=c.model&&(h|=(k&65280)<<16,e|=(k&15)<<16,k&128&&(e=e<<12|4095));a.W=b;a.pa=h;a.Ra=e;a.Bb=(e>>>0)+1;a.gb=f;a.type=g;a.ext=k;a.Db=d;Xg(a,!0,!0,!1)}}return a}p.Qb=function(a,b,c){var d=a&&a.qa;if(void 0==d&&(d=-1,a)){var e=Vv(this,a.W,a.type);e&&(b=a.Da||0,c=c||1,e=-1===e.Db||e.Qc&&(b>>>0)+c>e.Bb||!e.Qc&&(b>>>0)+c<=e.Bb?e.pa+b|0:-1,d=e,a.qa=d)}return d};p.ra=function(a,b){var c=255,d=this.Qb(a,!1,1);-1!==d&&(c=zh(this.J,d,1,a.type==Yv)|0,b&&Zv(this,a,b));return c};
p.$a=function(a,b){return a.tb?$v(this,a,b?4:0):this.Sd(a,b?2:0)};p.Sd=function(a,b){var c=65535,d=this.Qb(a,!1,2);-1!==d&&(c=zh(this.J,d,2,a.type==Yv)|0,b&&Zv(this,a,b));return c};function $v(a,b,c){var d=-1,e=a.Qb(b,!1,4);-1!==e&&(d=zh(a.J,e,4,b.type==Yv)|0,c&&Zv(a,b,c));return d}p.kb=function(a,b,c,d){var e=this.Qb(a,!0,1);if(-1!==e){if(a.type!=Yv)this.J.kb(e,b);else{var f=this.sa;f.V[(e&f.B)>>>12].me(e&f.C,b&255,e)}c&&Zv(this,a,c);d||Ee(this.J,!0)}};
p.Xe=function(a,b,c,d){var e=this.Qb(a,!0,2);-1!==e&&(a.type!=Yv?this.J.Ta(e,b):Qd(this.sa,e,b),c&&Zv(this,a,c),d||Ee(this.J,!0))};function Ov(a,b,c,d,e,f,g){return aw(a,{},b,c,d,e,f,g)}function aw(a,b,c,d,e,f,g,h){b.Da=c||0;b.W=d;b.qa=e;b.type=f||(Uv(a)?Wv:Xv);b.tb=void 0!=g?g:!(!a.J||4!=a.J.aa.U);b.Hb=void 0!=h?h:!(!a.J||4!=a.J.aa.ac);b.Zc=!1;return b}function bw(a){return[a.Da,a.W,a.qa,a.Zc,a.tb,a.Hb,a.Yd,a.hg]}
function cw(a){return{Da:a[0],W:a[1],qa:a[2],Zc:a[3],tb:a[4],Hb:a[5],Yd:a[6],hg:a[7]}}function dw(a,b,c){if(void 0!=b.W&&(a=Vv(a,b.W,b.type))){var d=b.Da;if(!a.Qc){if(d>>>0>=a.Bb)return!1}else if(d>>>0<a.Bb)return!1;c&&(b.Da=d&a.oa,b.tb=4==a.U,b.Hb=4==a.ac)}return!0}
function ew(a,b,c,d){var e=c?a.L:a.na;c=d?fw:e.type;var f=e.Da,g=e.W;e=e.qa;if(void 0!==b){b=Lv(a,b);var h=b.charAt(0);e=b.indexOf(":");switch(h){case "&":c=Xv;break;case "#":c=Wv;break;case "%":c=gw;h=b.charAt(1);"%"==h&&(c=Yv,h+=h);f=0;g=void 0;break;default:0<=e&&(c=fw),h=""}h&&(b=b.substr(h.length),e-=h.length);if(b.match(/^[a-z_][a-z0-9_]*$/i))for(var k=b.toUpperCase(),l=0;l<a.I.length;l++){h=a.I[l];var n=h.zd[k];if(void 0!==n){k=n.o;if(void 0!==k){var m=n.s;void 0===m&&(m=h.W);m=Ov(a,k,m,n.p)}break}}if(h=
m)return h;0>e?void 0!=g?(f=Jv(a,b),e=void 0):(e=Jv(a,b),void 0==e&&(f=void 0)):(g=Jv(a,b.substring(0,e)),f=Jv(a,b.substring(e+1)),e=void 0)}void 0!=f&&(h=Ov(a,f,g,e,c),d||dw(a,h,!0)||(a.N("invalid offset: %s\n",hw(h)),h=void 0));return h}function iw(a,b,c){c&&(c=c.match(/(['"])(.*?)\1/))&&(b.Mk=a.Pe(b.uj=c[2]))}p.ej=function(a,b){var c=ew(this,b);return a.replace("["+b+"]",c?w(this.$a(c),c.tb?8:4):"undefined")};
function Zv(a,b,c){c=c||1;void 0!=b.qa&&(b.qa+=c);void 0!=b.W&&(b.Da+=c,dw(a,b)||(b.Da=0,b.qa=void 0))}function jw(a,b,c){return void 0!=b?w(b,4)+":"+w(a,a&-65536||c?8:4):w(a)}function hw(a){switch(a.type){case Xv:case kw:var b="&";break;case Wv:b="#";break;case gw:b="%";break;case Yv:b="%%";break;default:b=a.W?"":"%"}return a.type>=gw||void 0==a.W?b+w(a.qa):b+jw(a.Da,a.W,a.Hb)}
function lw(a,b,c){var d="";for(c=c||256;d.length<c;){var e=a.ra(b,1);if(!e||36==e||127<=e)break;d+=32<=e?String.fromCharCode(e):"."}return d}function mw(a,b,c){a=w(a)+" "+w(b)+" ";a=a+(c&&b&64?"D":"-")+(b&32?"A":"-")+(b&4?"U":"S");a+=b&2?"W":"R";return a+=b&1?"P":"N"}function Rv(a,b){a.ga=a;a.Tb=549755813888;a.ka=null;a.ta=[];b=a.Pe(b,!1,"|");if(b.length){a.Tb=0;for(var c in t)0<=ib(b,c)&&(a.Tb+=t[c],a.N("%s messages enabled\n",c))}Qv(a)}
p.kg=function(a,b){a=a.toUpperCase();if(null==b)var c=ib(nw,a);else c=ib(nw,a.substr(b,3)),0>c&&(c=ib(nw,a.substr(b,2)));return c};
function ow(a,b){var c=0,d=a.lg(b);if(null!=d)switch(b){case pw:case qw:case rw:case sw:case tw:case uw:case vw:case ww:c=2;break;case xw:case yw:case zw:case Aw:case Bw:case Cw:case Dw:case Ew:case Fw:case Gw+Hw:case Gw+Iw:case Gw+Jw:case Gw+Kw:case Gw+Lw:case Gw+Mw:c=4;break;case Nw:case Ow:case Pw:case Qw:case Rw:case Sw:case Tw:case Uw:case Vw:case Ww:case Xw:case Yw:case Zw:c=8;break;case $w:c=a.ma}return c?w(d,c):"??"}
p.lg=function(a){if(0<=a){var b=this.J;switch(a){case pw:var c=b.D&255;break;case qw:c=b.H&255;break;case rw:c=b.L&255;break;case sw:c=b.G&255;break;case tw:c=b.D>>8&255;break;case uw:c=b.H>>8&255;break;case vw:c=b.L>>8&255;break;case ww:c=b.G>>8&255;break;case xw:c=b.D&65535;break;case yw:c=b.H&65535;break;case zw:c=b.L&65535;break;case Aw:c=b.G&65535;break;case Bw:c=C(b)&65535;break;case Cw:c=b.M&65535;break;case Dw:c=b.K&65535;break;case Ew:c=b.I&65535;break;case Fw:c=G(b)&65535;break;case $w:c=
Tg(b);break;case Gw+Hw:c=b.ka.W;break;case Gw+Iw:c=Sg(b);break;case Gw+Jw:c=b.T.W;break;case Gw+Kw:c=b.wa.W;break;default:if(80286==this.J.model)a==Vw&&(c=b.ia);else if(80386<=this.J.model)switch(a){case Nw:c=b.D;break;case Ow:c=b.H;break;case Pw:c=b.L;break;case Qw:c=b.G;break;case Rw:c=C(b);break;case Sw:c=b.M;break;case Tw:c=b.K;break;case Uw:c=b.I;break;case Vw:c=b.ia;break;case Ww:c=b.qg;break;case Xw:c=b.Jc;break;case Yw:c=b.Rb;break;case Gw+Lw:c=b.Fa.W;break;case Gw+Mw:c=b.Ga.W;break;case Zw:c=
G(b)}}}return c};
function ax(a,b){b=Lv(a,b)||b;for(var c=0,d,e;0<=(c=b.indexOf("@",c));)e=a.kg(b,c+1),0<=e&&(b=b.substr(0,c)+ow(a,e)+b.substr(c+1+nw[e].length)),c++;for(c=0;0<=(c=b.indexOf("#",c));)e=b.substr(c+1,2),d=Sa(e,16),null!=d&&32<=d&&127>d?(d=e+" '"+String.fromCharCode(d)+"'",b=b.replace("#"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("$",c));)e=b.substr(c+1,9),(d=ew(a,e))?(d=e+' "'+lw(a,d)+'"',b=b.replace("$"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("^",c));)e=b.substr(c+1,9),(d=ew(a,e))?(Zv(a,d),
d=e+' "'+lw(a,d,11)+'"',b=b.replace("^"+e,d),c+=d.length):c++;return b}p.message=function(a,b){b=void 0===b?0:b;if(b&1&&this.J){var c=eb(" at %s (%%%X)$1",hw(Ov(this,G(this.J),Sg(this.J))),this.J.Y);a=a.replace(/(\n?)$/,c)}uc(this.Tb,0x800000000000)?this.ta.push(a):this.ka&&a==this.ka||(this.ka=a,uc(this.Tb,70368744177664)&&(a=a.replace(/(\n?)$/," (cpu halted)$1"),Jl(this)),this.print(a,b),this.J&&(a=this.J,a.flags.Nf=!0,Ee(a)))};
function wm(a,b,c,d){var e=d,f;e||(e=vc(a,2)&&0>bx.indexOf(b),e||(f=cx[b])&&(e=vc(a,f)?!0:32768==f&&vc(a,f=65536)));if(e){var g=a.J.D>>8&255;d=a.J.L&255;if(33==b&&11==g||32768==f&&128<=d||65536==f&&128>d)e=!1}e&&((f=(f=zc[b])&&f[g]||"")&&(f=ax(a,f)),a.N("INT %#04X: AH=%#04X at %s %s\n",b,g,jw(c-2-a.J.aa.pa,Sg(a.J)),f))}
function Td(a,b,c,d,e){var f=tc(f||0,32);f=tc(f,549755813888);if(void 0==e||uc(a.Tb,f))f="",void 0!=e&&(f=Sg(a.J),e-=a.J.aa.pa,f="at "+jw(e,f)),void 0==d?a.N("%s.inPort(%#06X,%s): %#04X %s\n",b.ad,c,"unknown",void 0,f):a.N("%s.outPort(%#06X,%s,%#04X) %s\n",b.ad,c,"unknown",d,f)}p.ng=function(){this.N("Type ? for help with PCx86 Debugger commands\n");dx(this);if(this.xa){var a=this.xa;this.xa=null;Sv(this,a)}};
function Qv(a){var b;if(Qh(a)){if(!a.P||!a.P.length){a.P=Array(ex);for(b=0;b<a.P.length;b++)a.P[b]=Ov(a);a.ha=0;a.N("instruction history buffer allocated\n")}if(!a.K||!a.K.length)for(a.K=Array(256),b=0;b<a.K.length;b++)a.K[b]=[b,0]}else a.P&&a.P.length&&a.N("instruction history buffer freed\n"),a.ha=0,a.P=[],a.K=[]}
function Tv(a,b,c,d){if(!fx(a))return!1;a.M=0;do{b||Qh(a)&&Uh(a,a.J.Y,0);try{var e=a.J.Rf(b);0<e&&(a.M+=e,Me(a.J,e,!0),Ue(a.J,e),He(a.J,e),a.V++)}catch(g){if("number"!=typeof g){var f=g;a.M=0;lc(a.J,f.stack||f.message)}}}while(a.J.O&3312);!1!==d&&Ee(a.J,!0);dx(a,c||!1);return 0<a.M}function Jl(a,b){return a.J&&Fe(a.J,b)||!1}function dx(a,b){void 0===b&&(b=!0);a.L=Ov(a,G(a.J),Sg(a.J));b&&1!=a.F?gx(a):hx(a)}
function fx(a,b){var c;(c=!a.J||!nc(a.J))||(c=a.J,c.flags.Nb?c=!0:(c.N(0,"%s not powered\n",c.toString()),c=!1),c=!c);return c||a.J.flags.Oa?(b||a.N("cpu busy or unavailable, command ignored\n"),!1):!mc(a.J)}p.Mb=function(a,b){if(!b){this.reset(!0);if(a&&this.restore&&!this.restore(a))return!1;this.rc=this.J.rc}return!0};p.Lb=function(a,b){b&&this.N("%s\n",a?"suspending":"shutting down");return a?this.save():!0};
p.reset=function(a){Qv(this);this.V=this.fa=0;this.ka=null;this.M=0;this.L=Ov(this,G(this.J),Sg(this.J));ix(this);a||this.flags.Oa||dx(this)};p.save=function(){var a=new Yg(this);a.set(0,bw(this.L));a.set(1,bw(this.na));a.set(2,bw(this.Z));a.set(3,[this.C,this.aa,tc(this.Tb,0x800000000000)]);a.set(4,this.I);a.set(5,[this.B,this.O,this.H]);return a.data()};
p.restore=function(a){var b=0;a[b]&&(this.L=cw(a[b++]));a[5]&&(this.na=cw(a[b++]));a[b]&&(this.Z=cw(a[b++]));if(a[b]){this.C=a[b][0];"string"==typeof this.C&&(this.C=[this.C]);this.aa=a[b][1];var c=a[b][2];uc(c,0x800000000000)&&(this.Tb=sc(c,0x800000000000));b++}a[b]&&(this.I=a[b++]);a[b]&&(jx(this,this.B,a[b][0]),jx(this,this.O,a[b][1]),jx(this,this.H,a[b][2]));return!0};p.start=function(a,b){this.F||this.N("running\n");this.flags.Oa=!0;this.Ga=a;this.nd=b};
p.stop=function(a,b){if(this.flags.Oa){this.flags.Oa=!1;this.M=b-this.nd;if(!this.F){b="stopped";if(this.M){a-=this.Ga;var c=0<a?Math.round(1E3*this.M/a):0;b+=" (";Qh(this)&&(b+=this.V+" opcodes, ",this.fa-=this.V,this.V=0);b+=this.M+" cycles, "+a+" ms, "+c+" hz)"}else vc(this,70368744177664)&&(b+=" (use the 't' command to execute blocked faults)");this.N("%s\n",b)}dx(this,!0);this.wc();ix(this,this.J.Y)}};function Qh(a){return 1<a.B.length||!!a.ia||vc(a,1024)}
function Uh(a,b,c){var d=a.J;if(0<c&&(a.ia&&!--a.ia||kx(a,b,1,a.B)))return!0;if(0<=c&&a.K.length&&(a.V++,b=zh(d,b),null!=b)){a.K[b][1]++;b=a.P[a.ha];aw(a,b,G(d),Sg(d));b.vg=Ie(d);if(a.la)c=a.la.Ua[0],b.xg=d.A,b.Yh=c.Pc[0]|c.Pc[1]<<8;else if(a.video&&(void 0===a.za&&(a.za=Qe(d,a.video.id)),a.za)){b.xg=a.za[1];d=a.video.Xa;c=0;var e=Ie(a.video.J),f=e-d.Af;d.Ha===br&&d.Tc[1]&32&&(f>>>=1);0>f&&(d.Af=e,f=0);f-=d.Xh-d.Wh;0>f?c|=9:f%d.wg>d.sl&&(c|=1);b.Yh=c}++a.ha==a.P.length&&(a.ha=0)}return!1}
function re(a,b,c){return kx(a,b,c||1,a.O)?(Jl(a,!0),!0):!1}function te(a,b,c){return kx(a,b,c||1,a.H)?(Jl(a,!0),!0):!1}function Sd(a,b,c){a.N("break on input from port %#06x: %x\n",b,c);Jl(a,!0)}function Vd(a,b,c){a.N("break on output to port %#06x: %x\n",b,c);Jl(a,!0)}function Pv(a){var b;a.B=["bp"];if(void 0!==a.O)for(b=1;b<a.O.length;b++){var c=a.O[b];Nf(a.J,a.Qb(c),!1,c.type==Yv)}a.O=["br"];if(void 0!==a.H)for(b=1;b<a.H.length;b++)c=a.H[b],Nf(a.J,a.Qb(c),!0,c.type==Yv);a.H=["bw"];a.wa=0}
p.hd=function(a,b,c,d){var e=!0;c||lx(this,a,b,!1,!0);if(a!=this.B){var f=this.Qb(b),g;if(!(g=-1===f)){g=this.J;var h=b.type==Yv,k=f>>>g.mb,l=h?g.pc:g.V;l[k]?(l[k].hd(f&g.lb,a==this.H),h&&Ad(g),f=!0):f=!1;g=!f}g&&(this.N("invalid address: %s\n",hw(b)),e=!1)}e&&(a.push(b),c?(void 0!=b.qa&&(b.W=void 0),b.Zc=!0):(d||mx(this,a,a.length-1,"set"),Qv(this)))};
function lx(a,b,c,d,e){for(var f=!1,g=nx(a,a.Qb(c)),h=1;h<b.length;h++){var k=b[h];if(-1!==g&&g==nx(a,a.Qb(k))||-1===g&&c.W==k.W&&c.Da==k.Da)if(!d||k.Zc){f=!0;k.Zc||e||mx(a,b,h,"cleared");b.splice(h,1);b!=a.B&&Nf(a.J,g,b==a.H,k.type==Yv);k.Zc||Qv(a);break}}return f}function ox(a,b){for(var c=1;c<b.length;c++)mx(a,b,c);return b.length-1}function mx(a,b,c,d){c=b[c];a.N("%s %s%s\n",b[0],hw(c),d?" "+d:c.uj?' "'+c.uj+'"':"")}
function jx(a,b,c){if(c[0]==b[0])for(var d=1;d<c.length;d++){var e=c[d];a.hd(b,e,e.Zc,!0)}}function ix(a,b){if(void 0!==b)kx(a,b,1,a.B,!0),a.F=0;else for(b=1;b<a.B.length;b++){var c=a.B[b];if(c.Zc){if(!lx(a,a.B,c,!0))break;b=0}}}function nx(a,b){-1!==b&&(a=a.oa&-65536,(b&a)==a&&(b&=1048575));return b}
function kx(a,b,c,d,e){var f=!1;if(!a.wa++){b=nx(a,b);vc(a,70368744178688)&&204==zh(a.J,b)&&(f=!0);for(var g=1;!f&&g<d.length;g++){var h=d[g];if(!e||h.Zc){null!=h.W&&(h.qa=void 0);for(var k=nx(a,a.Qb(h)),l=0;l<c;l++)if(b+l==k){var n;f=!0;h.Zc&&(lx(a,d,h,!0),e=!0);if(n=h.Mk){f=!1;for(var m=0;m<n.length;m++)if(!px(a,n[m],!0)){if(n[m].indexOf("if")){f=!0;break}for(var q=m+1;q<n.length&&n[q].indexOf("else");q++)m++;if(q==n.length){f=!0;break}}a.J.flags.Oa||(f=!0)}if(f){e||mx(a,d,g,"hit");break}}}}}a.wa--;
return f}
function qx(a,b,c,d){for(var e=Ov(a,b.Da,b.W,b.qa,b.type),f=a.ra(b,1),g=4,h=0,k=!1,l=!1;(102==f||103==f)&&g--;)102==f?k||(b.tb=!b.tb,k=!0):l||(b.Hb=!b.Hb,l=!0),h++,f=a.ra(b,1);g=-1;var n=rx;k=a.Ea[f];l=k[0];l==sx&&(l=a.ra(b,1),k=tx[l]||ux,f|=l<<8,l=k[0]);if(l==vx){g=a.ra(b,1);var m=null;var q=g>>3&7,u=(3>(g>>6&3)?0:48)+q;(217==f||219==f)&&52<=u&&(u=q<<4|g&7);(q=wx[f])&&(m=q[u]);m&&(n=xx,k=m,l=k[0])}l>=n.length&&(g=a.ra(b,1),k=yx[l-n.length][g>>3&7],l=k[0]);n=n[l];q=k.length-1;m="";b.tb&&(l==zx?n=
"CWDE":l==Ax?n="CDQ":l>=Bx&&l<=Cx&&(n+="D"));if(164<=f&&167>=f||170<=f&&175>=f)q=0,b.tb&&"W"==n.slice(-1)&&(n=n.slice(0,-1)+"D");f=-1;u=!0;for(var x=1;x<=q;x++){var y="";var z=k[x];if(void 0!==z){0>f&&(f=z>>Dx);l==Ex&&(f==Fx?m="[%800]":f==Gx&&(m="ES:["+(b.Hb?"E":"")+"DI]"));var D=z&Hx;if(D!=Ix)if(D==Jx)u=!1;else{var E=z&Kx;if(E>=S)if(0>g&&(g=a.ra(b,1)),E<Lx){E=a;y=z;var Z=q;z=b;var aa="",ua=g>>6,ja=g&7;if(3>ua){D=0==n.indexOf("FI");if(!ua&&(!z.Hb&&6==ja||z.Hb&&5==ja))ua=2;else{if(z.Hb)if(4!=ja)ja+=
8;else{aa=E;var pb=ua,ka=z,Ja=aa.ra(ka,1),qa=Ja>>6,za=Ja>>3&7;Ja&=7;var Ha="";if(pb||5!=Ja)Ha=Mx[Ja+8];4!=za&&(Ha&&(Ha+="+"),Ha+=Mx[za+8],qa&&(Ha+="*"+(1<<qa)));pb||5!=Ja||(Ha&&(Ha+="+"),Ha+=w($v(aa,ka,4)));aa=Ha}aa||(aa=Mx[ja])}1==ua?(E=E.ra(z,1),aa=E&128?aa+("-"+w(-(E<<24>>24),2)):aa+("+"+w(E,2))):2==ua&&(aa&&(aa+="+"),z.Hb?(E=$v(E,z,4),aa+=w(E)):(E=E.Sd(z,2),aa+=w(E,4)));aa="["+aa+"]";if(1==Z){E="";y&=Hx;y==T&&(y=z.tb?Nx:Ox);switch(y){case Px:E="FAR";break;case U:E="BYTE";break;case Ox:if(D){E=
"INT16";break}E="WORD";break;case Nx:E="DWORD";break;case Qx:if(D){E="INT32";break}case Rx:E="REAL32";break;case Sx:if(D){E="INT64";break}case Tx:E="REAL64";break;case Ux:E="REAL80";break;case Vx:E="BCD80"}E&&(aa=E+" "+aa)}}else aa=Wx(E,ja,y,z);y=aa}else y=E==Lx?Wx(a,g&7,z,b):Wx(a,g>>3&7,z,b);else if(E==Xx)y="1";else if(E==V){y=a;D=z;E=b;z=" ";switch(D&Hx){case U:D&W&&(z=w(y.ra(E,1),2));break;case Yx:z=w(y.ra(E,1)<<24>>24,E.tb?8:4);break;case T:if(E.tb){z=w($v(y,E,4));break}case Ox:z=w(y.Sd(E,2),
4);break;case Px:E=Ov(y,y.$a(E,!0),y.Sd(E,2),void 0,E.type,E.tb,E.Hb);z=hw(E);y=Zx(y,E);y[0]&&(z+=" ("+y[0]+")");break;default:z="imm("+w(D,4,!0)+")"}y=z}else E==$x?(b.Hb?(y=8,z=$v(a,b,4)):(y=4,z=a.Sd(b,2)),y="["+w(z,y)+"]"):E==ay?(y=D==U?a.ra(b,1)<<24>>24:a.$a(b,!0),z=b.Da+y&(b.tb?-1:65535),y=w(z,b.tb?8:4),z=Zx(a,Ov(a,z,b.W)),z[0]&&(y+=" ("+z[0]+")")):E==X?y=D==by?"ST":D==cy?"ST("+(g&7)+")":Wx(a,(z&dy)>>8,z,b):E==ey?y=Wx(a,(z&dy)>>8,fy,b):E==gy?y="DS:[SI]":E==hy&&(y="ES:[DI]");if(!y||!y.length){m=
"INVALID";break}0<m.length&&(m+=",");m+=y||"???"}}}g="";k=hw(e)+" ";if(-1!==e.qa&&-1!==b.qa){do if(g+=w(a.ra(e,1),2),-1===e.qa||void 0==e.qa)break;while(e.qa!=b.qa)}k+=bb(g,e.Hb?25:17);k+=bb(n,8);m&&(k+=" "+m);a.J.model<iy[f]&&(c=iy[f]+" CPU only");c&&u&&(k=bb(k,e.Hb?74:62)+";"+c,k=a.J.flags.ae?k+("cycles="+Ie(a.J).toString()+" cs="+w(a.J.oe)):k+(0<=d?"="+d.toString():""));jy(b,u,h);return k}
function Wx(a,b,c,d){var e=c&Kx;if(e==fy){if(b>Mw||b>=Lw&&80386>a.J.model)return"??";b+=Gw}else if(e==ky)b+=Vw;else if(e==ly)b+=my;else if(e==ny)b+=oy;else if(a=c&Hx,a>=Ox&&(b<xw&&(b+=xw-pw),a==Nx||a==T&&d.tb))b+=Nw-xw;return nw[b]}
function py(a,b){switch(b){case "V":a=lh(a.J);break;case "D":a=a.J.P&1024;break;case "I":a=a.J.P&512;break;case "T":a=a.J.P&256;break;case "S":a=kh(a.J);break;case "Z":a=jh(a.J);break;case "A":a=ih(a.J);break;case "P":a=hh(a.J);break;case "C":a=gh(a.J);break;default:a=0}return b+(a?"1":"0")+" "}function qy(a,b){b>=xw&&b<=Ew&&4<a.ma&&(b+=Nw-xw);var c=nw[b];b==Vw&&80286==a.J.model&&(c="MS");return c+"="+ow(a,b)+" "}
function ry(a,b){b?(b=a.Ra,b="["+w(a.pa,5)+","+w(b,b&-65536?8:4)+"]"):b="";return a.Se+"="+w(a.W,4)+b}function sy(a,b,c,d){return a+"="+(null!=b?w(b,4):"")+"["+w(c,5)+","+w(d-c,4)+"]"}p.Eh=function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0};
function Zx(a,b,c){for(var d=[],e=b.Da>>>0,f=a.Qb(b)>>>0,g=0;g<a.I.length;g++){var h=a.I[g],k=h.W,l=h.Da>>>0,n=h.qa;null!=n&&(n>>>=0);var m=h.ol;48==k&&(k=40);if(k==b.W&&e>=l&&e<l+m||null!=n&&f>=n&&f<n+m){b=fb(h.vh,[e],a.Eh);0<=b?ty(a,g,b,d):c&&(b=~b,ty(a,g,b-1,d),ty(a,g,b,d));break}}return d}function ty(a,b,c,d){var e={},f=a.I[b].vh,g=0,h=null;0<=c&&c<f.length&&(g=f[c][0],h=f[c][1]);h&&(e=a.I[b].zd[h],h="."==h.charAt(0)?null:e.l||h);d.push(h);d.push(g);d.push(e.a);d.push(e.c)}
function uy(a,b){if("?"==b)a.N("frequency commands:\n"),a.N("\tclear\tclear all frequency counts\n");else{var c=0;if(a.K)if("clear"==b){for(b=0;b<a.K.length;b++)a.K[b]=[b,0];a.N("frequency data cleared\n");c++}else if(void 0!==b)a.N("unknown frequency command: %s\n",b),c++;else{var d=a.K.slice();d.sort(function(g,h){return h[1]-g[1]});for(b=0;b<d.length;b++){var e=d[b][0],f=d[b][1];f&&(a.N("%s (%#04x): %d times\n",(rx[a.Ea[e][0]]+"  ").substr(0,5),e,f),c++)}}c||a.N("no frequency data available\n")}}
function vy(a,b){var c=b.match(/^\s*([A-Z_]?[A-Z0-9_]*)\s*(=?)\s*(.*)$/i);if(c){if(!c[1])return Mv(a)||a.N("no variables\n"),!0;if(!c[2])return Mv(a,c[1]);if(!c[3])return delete a.G[c[1]],!0;b=Jv(a,c[3]);return void 0!==b?(a.G[c[1]]={value:b,Ol:void 0},!0):!1}a.N("invalid assignment:%s\n",b);return!1}
function wy(a,b,c){var d=null;if(b=ew(a,b,!0)){a.Qb(b);var e=Zx(a,b,!0);if(e.length){var f;if(e[0]){var g="";(f=b.Da-e[1])&&(g=" + "+w(f,0,!0));f=e[0]+" ("+jw(e[1],b.W)+")"+g;c&&a.N("%s\n",f);d=f}4<e.length&&e[4]&&(g="",(f=e[5]-b.Da)&&(g=" - "+w(f,0,!0)),f=e[4]+" ("+jw(e[5],b.W)+")"+g,c&&a.N("%s\n",f),d||(d=f))}else c&&a.N("no symbols\n")}return d}
function xy(a,b){if(b[1]&&"?"!=b[1]){var c="json"==b[1],d=0,e=0,f=c?{}:ew(a,b[1]);if(f){var g=Dv(a,b[2],"drive #");if(void 0!==g){if(!c){d=Dv(a,b[3],"sector #");if(void 0===d)return;e=Dv(a,b[4],"# of sectors");void 0===e&&(e=1)}var h=a.Na;2<=g&&a.Fa&&(g-=2,h=a.Fa);if(h){var k=h.Gh(g);if(k)if(k.ua)if(c)yy(a.ya),a.N("%s\n",Nu(k.ua));else if(h.wj(k,d,e)){var l=0,n=!1;for(b=hw(f);!n&&0<k.nc--;)(function(m,q){h.Kf(k,function(u){0>u?(m.N("out of data at address %s\n",hw(q)),n=!0):(m.kb(q,u,1,!0),l++)})})(a,
f);Ee(a.J,!0);a.N("%d bytes read at %s\n",l,b)}else a.N("sector %d request out of range\n",d);else a.N("drive %d not loaded\n",g);else a.N("invalid drive: %d\n",g)}else a.N("disk controller not present\n")}}}else a.N("load commands:\n"),a.N("\tl [address] [drive #] [sector #] [# sectors]\n")}
function gx(a,b){var c;if(b&&"?"==b[1])a.N("register commands:\n"),a.N("\tr\tdump registers\n"),a.rc&&a.N("\trfp\tdump floating-point registers\n"),a.N("\trp\tdump all registers\n"),a.N("\trx [#]\tset flag or register x to [#]\n");else{null==c&&(c=!0);if(null!=b&&1<b.length){var d=b[1];if(a.rc&&"fp"==d){c=a.rc;var e=Xh(c);b=c.Sb;for(var f=0;8>f;f++){var g=c;d=null;if(f<g.G.length){d=[];var h=g.C+f&7;d[0]=h;d[1]=vi(g,h);d[2]=g.G[h];h<<=1;d[3]=g.M[h];d[4]=g.M[h+1];g=zi(g,d[3],d[4]);d[5]=g[0];d[6]=g[1];
d[7]=g[2]}if(!d)break;a.N("ST%d: %s  %x,%x  [%d:%s]\n",f,bb(d[2].toFixed(15),24,!0),d[4],d[3],d[0],zy[d[1]])}a.N("    B3SSS210ESPUOZDI               xxxIRRPPIxPUOZDI\n");a.N("SW: %s (%#06x)  CW: %s (%#06x)\n",Va(e,16),e,Va(b,16),b);return}if("p"==d)e=80286<=a.J.model;else{f=d.indexOf("=");if(0<f)b=d.substr(f+1),d=d.substr(0,f);else if(2<b.length)b=b[2];else{a.N("missing value for %s\n",b[1]);return}g=Jv(a,b);if(void 0===g)return;f=!0;var k=d.toUpperCase();"E"==k.charAt(0)&&4>=a.ma&&(k=null);switch(k){case "AL":a.J.D=
a.J.D&-256|g&255;break;case "AH":a.J.D=a.J.D&-65281|g<<8&255;break;case "AX":a.J.D=a.J.D&-65536|g&65535;break;case "BL":a.J.G=a.J.G&-256|g&255;break;case "BH":a.J.G=a.J.G&-65281|g<<8&255;break;case "BX":a.J.G=a.J.G&-65536|g&65535;break;case "CL":a.J.H=a.J.H&-256|g&255;break;case "CH":a.J.H=a.J.H&-65281|g<<8&255;break;case "CX":a.J.H=a.J.H&-65536|g&65535;break;case "DL":a.J.L=a.J.L&-256|g&255;break;case "DH":a.J.L=a.J.L&-65281|g<<8&255;break;case "DX":a.J.L=a.J.L&-65536|g&65535;break;case "SP":F(a.J,
C(a.J)&-65536|g&65535);break;case "BP":a.J.M=a.J.M&-65536|g&65535;break;case "SI":a.J.K=a.J.K&-65536|g&65535;break;case "DI":a.J.I=a.J.I&-65536|g&65535;break;case "DS":ah(a.J,g);break;case "ES":bh(a.J,g);break;case "SS":og(a.J,g);break;case "CS":$g(a.J,g);a.L=Ov(a,G(a.J),Sg(a.J));break;case "IP":case "EIP":H(a.J,g);a.L=Ov(a,G(a.J),Sg(a.J));break;case "PC":case "PS":ug(a.J,g);break;case "C":g?nh(a.J):oh(a.J);break;case "P":g?(d=a.J,d.resultType&=-3,d.P|=4):(d=a.J,d.resultType&=-3,d.P&=-5);break;case "A":g?
vh(a.J):th(a.J);break;case "Z":g?wh(a.J):uh(a.J);break;case "S":g?(d=a.J,d.resultType&=-17,d.P|=128):(d=a.J,d.resultType&=-17,d.P&=-129);break;case "I":g?(d=a.J,d.P|=512):(d=a.J,d.P&=-513);break;case "D":g?(d=a.J,d.P|=1024):(d=a.J,d.P&=-1025);break;case "V":g?ph(a.J):qh(a.J);break;default:h=!0;if(80286<=a.J.model)switch(h=!1,k){case "MS":xh(a.J,g);break;case "TR":-1===a.J.ha.load(g)&&(f=!1);break;default:if(h=!0,80386<=a.J.model)switch(h=!1,k){case "EAX":a.J.D=g;break;case "EBX":a.J.G=g;break;case "ECX":a.J.H=
g;break;case "EDX":a.J.L=g;break;case "ESP":F(a.J,g);break;case "EBP":a.J.M=g;break;case "ESI":a.J.K=g;break;case "EDI":a.J.I=g;break;case "FS":a.J.Fa.load(g);break;case "GS":a.J.Ga.load(g);break;case "CR0":a.J.ia=g;Al.call(a.J,g);break;case "CR2":a.J.Jc=g;break;case "CR3":a.J.Rb=g;a.J.Rb=g;Ad(a.J);break;default:h=!0}}if(h){a.N("unknown register: %s\n",d);return}}if(!f){a.N("invalid value: %s\n",b);return}Ee(a.J);a.N("updated registers:\n")}}b=a.N;void 0===e&&(e=Uv(a));f=qy(a,xw)+qy(a,Aw)+qy(a,yw)+
qy(a,zw)+(4<a.ma?"\n":"")+qy(a,Bw)+qy(a,Cw)+qy(a,Dw)+qy(a,Ew)+"\n"+ry(a.J.T,e)+" "+ry(a.J.wa,e)+" "+ry(a.J.ka,e)+" ";e?(d="TR="+w(a.J.ha.W,4),g=a.sa,g="A20="+(g.D||g.P!=g.B?"OFF ":"ON "),80386>a.J.model&&(d="\n"+d,f+=g,g=""),f+="\n"+ry(a.J.aa,e)+" ",80386<=a.J.model&&(g+="\n",f+=ry(a.J.Fa,e)+" "+ry(a.J.Ga,e)+"\n"),f+=sy("LD",a.J.nb.W,a.J.nb.pa,a.J.nb.pa+a.J.nb.Ra)+" "+sy("GD",null,a.J.wb,a.J.qc)+" "+sy("ID",null,a.J.zb,a.J.Fc)+" ",f=f+(d+" "+g)+qy(a,Vw),80386<=a.J.model&&(f+=qy(a,Xw)+qy(a,Yw))):80386<=
a.J.model&&(f+=ry(a.J.Fa,e)+" "+ry(a.J.Ga,e)+" ");f+=qy(a,$w)+py(a,"V")+py(a,"D")+py(a,"I")+py(a,"T")+py(a,"S")+py(a,"Z")+py(a,"A")+py(a,"P")+py(a,"C");b.call(a,"%s\n",f);c&&(a.L=Ov(a,G(a.J),Sg(a.J)),hx(a,hw(a.L)))}}function Ay(a,b){b=cb(b);var c=b.match(/^(['"])(.*?)\1$/);c?a.N("%s\n",ax(a,c[2])):Jv(a,b,!1)}
function By(a,b,c){for(var d=null,e=b.Da,f=e,g=1;6>=g&&e;g++){if(2<g){b.Da=e;b.qa=void 0;var h=qx(a,b);if(0<=h.indexOf("CALL")||c&&0<=h.indexOf("INT")){var k=h.indexOf(" ");if(e+(h.indexOf(" ",k+1)-k-1)/2==f){d=h;break}}}e--}b.Da=f;return d}function Cy(a,b,c){var d="t"!=b;c=Dv(a,c,void 0,!0)||1;var e=1==c?0:1;"tc"==b&&(e=c,c=1);Gb(c,function(){return rc(a,!0)&&Tv(a,e,d,!1)},function(){Ee(a.J,!0);rc(a,!1)})}
function jy(a,b,c){if(a.hg=b)null!=a.Jh&&(a.tb=a.Jh),null!=a.Ih&&(a.Hb=a.Ih),a.Jh=a.tb,a.Ih=a.Hb;a.Yd=c||0}
function hx(a,b,c,d){if(b=ew(a,b,!0)){void 0===d&&(d=1);var e=256;if(void 0!==c){d=ew(a,c,!0);if(!d||d.Da<b.Da)return;e=d.Da-b.Da+1;0>e&&(e=1);4096<e&&(e=4096);d=-1}c=0;for(jy(b,!0);0<e&&d--;){var f=pc(a,!1)||a.F?a.M:-1;var g=0<=f?"cycles":"",h=Zx(a,b),k=b.qa;if(h[0]&&d&&(!c&&d||0>h[0].indexOf("+"))){var l=h[0]+":";h[2]&&(l+=" "+h[2]);a.N("%s\n",l)}h[3]&&(g=h[3],f=-1);f=qx(a,b,g,f);b.hg||d||d++;a.N("%s\n",f);a.L=b;e-=b.qa-k;c++}}}
p.Pe=function(a,b,c){c=void 0===c?";":c;if(b)if(a){0>this.A&&this.C.length&&(this.A=0);if(0>this.A||a!=this.C[this.A])this.C.splice(0,0,a),this.A=0;this.A--}else a=this.C[this.A+1];b=[];if(a){a=a.replace(/""/g,"'");for(var d=0,e=null,f=!1,g=0,h=null;g<=a.length;g++){var k=a.charAt(g);if('"'==k||"'"==k)e?k==e&&(e=null):(e=k,f=!0);else if(k==c&&!e&&k!=h||!k)d=cb(a.substring(d,g)),f||(d=d.toLowerCase()),b.push(d),d=g+1,f=!1;h=k}if(" "==c&&b.length)for(a=b[0],c=a.charAt(0),e=1;e<a.length;e++)if(f=a.charAt(e),
"?"==c||"r"==c||"a">f||"z"<f){b[0]=a.substr(e);b.unshift(a.substr(0,e));break}}return b};
function px(a,b,c){var d=!0;if(!a.J)return a.N("no CPU attached\n"),!1;try{if(!b.length||"end"==b)a.aa&&(a.N("ended assemble at %s\n",hw(a.Z)),a.L=a.Z,a.aa=!1),b="";else if(!c){var e=">> ";a.J.ia&1&&(e=a.J.P&131072?"-- ":"## ");a.N("%s%s\n",e,b)}var f=b.charAt(0);if('"'==f||"'"==f)return!0;a.ka=null;if(nc(a)&&0<b.length){a.aa&&(b="a "+hw(a.Z)+" "+b);var g=a.Pe(b,!1," ");switch(g[0].charAt(0)){case "a":var h=ew(a,g[1],!0);if(h)if(a.Z=h,void 0===g[2])a.N("begin assemble at %s\n",hw(h)),a.aa=!0,Ee(a.J);
else{a.N("not supported yet\n");var k=[];if(k.length){for(var l=0;l<k.length;l++)a.kb(h,k[l],1);a.N("%s\n",qx(a,a.Z))}}break;case "b":a:{var n=g[0],m=g[1],q=b;if("?"==m)a.N("breakpoint commands:\n"),a.N("\tbi [p]\ttoggle break on input port [p]\n"),a.N("\tbo [p]\ttoggle break on output port [p]\n"),a.N("\tbp [a]\tset exec breakpoint at addr [a]\n"),a.N("\tbr [a]\tset read breakpoint at addr [a]\n"),a.N("\tbw [a]\tset write breakpoint at addr [a]\n"),a.N("\tbc [a]\tclear breakpoint at addr [a]\n"),
a.N("\tbl\tlist all breakpoints\n"),a.N("\tbn [n]\tbreak after [n] instruction(s)\n");else{var u=n.charAt(1);if("l"==u){var x=ox(a,a.B);x+=ox(a,a.O);(x+=ox(a,a.H))||a.N("no breakpoints\n")}else if("n"==u)a.ia=Dv(a,m),a.N("break after %d instruction(s)\n",a.ia);else if(void 0===m)a.N("missing breakpoint address\n");else{var y={};if("*"!=m&&(y=ew(a,m,!0,!0),!y))break a;m=null==y.Da?m:w(y.Da,4,!0);if("c"==u)null==y.Da?(Pv(a),a.N("all breakpoints cleared\n")):lx(a,a.B,y)||lx(a,a.O,y)||lx(a,a.H,y)||a.N("breakpoint missing: %s\n",
hw(y));else if("i"==u){var z=a.N;var D=a.sa,E=y.Da;if(null==E){D.H=!D.H;var Z=D.H}else void 0===D.F[E]&&(D.F[E]=[null,!1]),D.F[E][1]=!D.F[E][1],Z=D.F[E][1];z.call(a,"breakpoint %s: port %s (input)\n",Z?"enabled":"cleared",m)}else if("o"==u){var aa=a.N;var ua=a.sa,ja=y.Da;if(null==ja){ua.I=!ua.I;var pb=ua.I}else void 0===ua.G[ja]&&(ua.G[ja]=[null,!1]),ua.G[ja][1]=!ua.G[ja][1],pb=ua.G[ja][1];aa.call(a,"breakpoint %s: port %s (output)\n",pb?"enabled":"cleared",m)}else null!=y.Da&&(iw(a,y,q),"p"==u?a.hd(a.B,
y):"r"==u?a.hd(a.O,y):"w"==u?a.hd(a.H,y):a.N("unknown breakpoint command: %s\n",u))}}}break;case "c":yy(a.ya);break;case "d":a:{var ka=g,Ja,qa=ka[0],za=ka[1],Ha=ka[2],Be=ka[3];if("?"==za){var od="";for(Ja in t)a.Aa[Ja]&&(od&&(od+=","),od+=Ja);od+=",state,symbols";a.N("dump memory commands:\n");a.N("\tda [a] [#]    dump # ASCII chars at address a\n");a.N("\tdb [a] [#]    dump # bytes at address a\n");a.N("\tdw [a] [#]    dump # words at address a\n");a.N("\tdd [a] [#]    dump # dwords at address a\n");
a.N("\tdh [n] [#]    dump # instructions from history n\n");a.N("\tdi [#]        dump descriptor info for IDT #\n");a.N("\tds [#]        dump descriptor info for selector #\n");a.N("\tdby,dwy,ddy   dump data in binary\n");od.length&&a.N("dump extension commands:\n\t%s\n",od)}else if("state"==za){var Cf=Dy(a.ya,!0);Cf?"console"==Ha?console.log(Cf):(yy(a.ya),a.N("%s\n",Cf)):a.N("powerOff() error\n")}else if("symbols"==za)for(var Ub=0;Ub<a.I.length;Ub++){var Ce=a.I[Ub],Bc;for(Bc in Ce.zd)if("."!=Bc.charAt(0)){var Df=
Ce.zd[Bc],Ef=Df.o;if(void 0!==Ef){var De=Df.s;void 0===De&&(De=Ce.W);var Zr=Ce.zd[Bc].l;Zr&&(Bc=Zr);a.N("%s %s\n",jw(Ef,De),Bc)}}}else{if("ds"==qa||"dg"==qa||"dl"==qa)qa="d",ka=[qa,"desc",za];"d"==qa&&"page"==za&&(qa="dp",ka.shift());if("dp"==qa){ka.shift();var $k=ka[0];if($k){var Pf=a.Qb(ew(a,$k));if(-1===Pf)a.N("invalid address: %s\n",$k);else{var Se,Pa=null;if(80386<=a.J.model){var ai=a.sa;Pa={};Pa.cj=(Pf&-4194304)>>>20;Pa.xh=a.J.Rb+Pa.cj;Pa.bb=ai.V[(Pa.xh&ai.B)>>>12];Pa.Rh=Pa.bb.pd(Pa.cj);Pa.dj=
(Pf&4190208)>>>10;Pa.yh=(Pa.Rh&-4096)+Pa.dj;Pa.cb=ai.V[(Pa.yh&ai.B)>>>12];Pa.Sh=Pa.cb.pd(Pa.dj);Pa.Ok=(Pa.Sh&-4096)+(Pf&4095)}if(Se=Pa){a.N("linear     PDE addr   PDE             PTE addr   PTE             physical\n");a.N("---------  ---------- --------        ---------- --------        ----------\n");var bi="%"+w(Pf);bi+="  %%"+mw(Se.xh,Se.Rh);bi+="  %%"+mw(Se.yh,Se.Sh,!0);bi+="  %%"+w(Se.Ok);a.N("%s\n",bi)}else a.N("unsupported operation\n")}}else a.N("missing address\n")}else{if("d"==qa){if("disk"==
za){ka[0]="l";ka[1]="json";xy(a,ka);break a}for(Ja in t)if(ka[1]==Ja){var $r=a.Aa[Ja];$r?(ka.shift(),ka.shift(),$r(ka)):a.N("no dump registered for %s\n",za);break a}za||(qa=a.Ia||"db")}if("dh"==qa){var as=za,bs=Ha,Qf=Be;Qf=void 0===Qf?"history":Qf;var cs="",ds=0,Cc=a.ha,Yc=a.P;if(Yc.length){var qc=+as||a.Ba,Rf=+bs||10;isNaN(qc)?qc=Rf:cs="more ";qc>Yc.length&&(a.N("note: only %d available\n",Yc.length),qc=Yc.length);Cc-=qc;0>Cc&&(null==Yc[Yc.length-1].W?(qc=Cc+qc,Cc=0):Cc+=Yc.length);var al=[];"call"==
bs&&(Rf=1E5,al=["CALL"]);void 0!==as&&a.N("%d instructions earlier:\n",qc);for(var ci="",bl=0,fz="cycles"==Qf;0<Rf&&Cc!=a.ha;){var Nb=Yc[Cc++];if(null==Nb.W)break;var Sf=Ov(a,Nb.Da,Nb.W,Nb.qa,Nb.type,Nb.tb,Nb.Hb),cl=qc--;fz&&(cl=bl,null!=Nb.vg&&(cl=Nb.vg-bl,bl=Nb.vg));var dl=qx(a,Sf,Qf,cl);null!=Nb.xg&&(dl+=" ("+Nb.xg+","+w(Nb.Yh,2,!0)+")");if(!al.length||0<=dl.indexOf(al[0]))ci+=(ci?"\n":"")+dl;Sf.Yd&&(Cc+=Sf.Yd,Rf-=Sf.Yd,qc-=Sf.Yd);Cc>=Yc.length&&(Cc=0);a.Ba=qc;ds++;Rf--}ci&&a.N("%s\n",ci)}ds||
(a.N("no %shistory available\n",cs),a.Ba=void 0)}else if("di"==qa){ka.shift();var el=ka[0];if(el){var Tf=Dv(a,el);if(void 0===Tf||0>Tf||255<Tf)a.N("invalid vector: %s\n",el);else{var es="&",fs=!!(a.J.ia&1),gs=!1,di=a.J.zb+(Tf<<(fs?3:2)),hs=a.J.ea(di+0),gz=a.J.ea(di+2);fs&&(es="#",a.J.ea(di+4)&2048&&(gs=!0,hs|=a.J.ea(di+6)<<16));a.N("dumpIDT(%#06x): %s%04x:%0*x\n",Tf,es,gz,gs?8:4,hs)}}else a.N("no IDT vector\n")}else if("dt"==qa)ka.shift(),a.N("%s\n","no information");else if(qa[1]&&0>"abwd".indexOf(qa[1]))a.N("unrecognized dump command\n");
else{a.Ia=qa;var Zc=ew(a,za);if(Zc&&(null!=Zc.W||null!=Zc.qa)){var $c=0;if(Ha){if("l"==Ha.charAt(0))Ha=Ha.substr(1)||Be,$c=Dv(a,Ha);else{var fl=ew(a,Ha);if(!fl)break a;$c=Zc.type!=gw?fl.Da-Zc.Da+1:fl.qa-Zc.qa+1}if(0>$c||65536<$c)$c=0}var Zd="",gl=!1,ei=0,sd="d"==qa[1]?4:"w"==qa[1]?2:1,$d=sd*$c||128,fi=$d+15>>4||1,Uf=4==sd?16:a.D;"a"==qa[1]?(gl=!0,Uf=160,fi=1>=$c?25:Math.ceil($c/Uf),$d=fi*Uf):"y"==qa[2]&&(Uf=sd,$c||($d=8),fi=$d,ei=8*sd);for(;fi--&&0<$d;){var Vf=0,hl=0,Wf=void 0,il="",Xf="";za=hw(Zc);
for(Wf=Uf;0<Wf&&0<$d;Wf--){var gi=a.ra(Zc,1);Vf|=gi<<(hl++<<3);hl==sd&&(il+=8==a.D?Wa(Vf,3*sd):w(Vf,2*sd),il+=1==sd?9==Wf?"-":" ":"  ",ei&&(Xf+=Va(Vf,ei)),Vf=hl=0);ei||(Xf+=32<=gi&&127>gi?String.fromCharCode(gi):gl?"":".");$d--}Zd&&(Zd+="\n");Zd=gl?Zd+Xf:Zd+(za+"  "+il+bb(Xf,Xf.length+3*Wf+1,!0))}Zd&&a.print(Zd.replace(/\s*$/,"")+"\n");a.na=Zc}}}}}break;case "e":if("else"==g[0])break;var is=g[1];if(null==is)a.N("edit memory commands:\n"),a.N("\teb [a] [...]  edit bytes at address a\n"),a.N("\tew [a] [...]  edit words at address a\n");
else{var td=ew(a,is);if(td)if("ev"==g[0])for(var ad=0;256>ad;ad++){var js=w(ad,2);!ad||ad&15||Zv(a,td,64);a.Xe(td,ad<<8|js.charCodeAt(0),2,!0);a.Xe(td,ad<<8|js.charCodeAt(1),2,!0);a.Xe(td,ad<<8|32,2,255>ad)}else{var hi=1,ks=255,ls=a.ra,ms=a.kb;"ew"==g[0]&&(hi=2,ks=65535,ls=a.Sd,ms=a.Xe);for(var ns=hi<<1,jl=!1,Yf=2;Yf<g.length;Yf++){var bd=g[Yf];if('"'==bd[0]||"'"==bd[0]){for(var kl=[],ll=1;ll<bd.length;ll++){var os=bd[ll];if(os==bd[0])break;kl.push(w(os.charCodeAt(0),2,!0))}kl.push("");g.splice.apply(g,
[Yf,1].concat(da(kl)));bd=g[Yf];jl=!0}if(bd){var ae=Jv(a,bd);if(void 0===ae){a.N("unrecognized value: %s\n",bd);break}ae&~ks&&a.N("warning: %x exceeds %s-byte value\n",ae,hi);var ps=ls.call(a,td);jl&&(ae=ps&-256|ae&127);a.N("changing %s from %#0*2x to %#0*2x\n",hw(td),ns,ps,ns,ae);ms.call(a,td,ae,hi)}else jl=!1}}}break;case "f":uy(a,g[1]);break;case "g":a:{var qs=g[1],hz=b;if(void 0!==qs){var ml=ew(a,qs,!0);if(!ml)break a;iw(a,ml,hz);a.hd(a.B,ml,!0)}fx(a,c)&&Ge(a.J,!0,c)}break;case "h":Jl(a)||pc(a,
!0)||c||a.N("already halted\n");break;case "i":if("if"==g[0]){var Zf=b.substr(2);Zf=cb(Zf);if(Jv(a,Zf)){c||a.N("true: %s\n",Zf);var rs=!0}else c||a.N("false: %s\n",Zf),rs=!1;rs||(d=!1);break}if("int"==g[0]){a:switch(Dv(a,g[1])){case 19:wm(a,19,a.J.Y,!0);a.fa=a.V;var nl=!0;break a;case 33:wm(a,33,a.J.Y,!0);a.fa=a.V;nl=!0;break a;default:nl=!1}nl||(d=!1);break}var ol=g[1];if(ol&&"?"!=ol){var pl=Dv(a,ol);if(void 0!==pl){var iz=Rd(a.sa,pl,1);a.N("%#06x: %#04x\n",pl,iz)}}else a.N("input commands:\n"),
a.N("\ti [p]\tread port [p]\n"),a.N("warning: port accesses can affect hardware state\n");break;case "k":var jz=g[0];if("?"==g[1])a.N("stack trace commands:\n"),a.N("\tk\tshow frame addresses\n"),a.N("\tks\tshow symbol information\n");else{var ql=0,ss=a.J.aa.W,Te=Ov(a),ud=Ov(a,C(a.J),a.J.T.W);for(a.N("stack trace for %s\n",hw(ud));10>ql;){for(var Dc=null,ts=null,kz=256;ud.Da>>>0<a.J.qe;){Te.Da=a.$a(ud,!0);if(null==ud.qa||!kz--)break;Te.W=ss;if(Dc=By(a,Te))break;Te.W=a.$a(ud);if(Dc=By(a,Te,!0)){ss=
a.$a(ud,!0);0<Dc.indexOf("INT")&&a.$a(ud,!0);break}}if(!Dc||Dc==ts)break;var us=null;if("ks"==jz){var vs=Dc.match(/[0-9A-F]+$/);vs&&(us=wy(a,vs[0]))}Dc=bb(Dc,Te.Hb?74:62)+";"+(us||"stack="+hw(ud));a.N("%s\n",Dc);ts=Dc;ql++}ql||a.N("no return addresses found\n")}break;case "l":if("ln"==g[0]){wy(a,g[1],!0);break}xy(a,g);break;case "m":if("mouse"==g[0]){a:{var rl=g[1],$f=g[2];if(a.Y){var vd=0,ws=1;if($f){"-"==$f.charAt(0)&&(ws=-1,$f=$f.substr(1));vd=Dv(a,$f,rl);if(void 0===vd)break a;vd=vd*ws|0}switch(rl){case "x":a.Y.Fe(vd,
0);break;case "y":a.Y.Fe(0,vd);break;case "click":a.Y.be(vd,!0);a.Y.be(vd,!1);break;default:a.N("unknown action: %s\n",rl)}}else a.N("no mouse\n")}break}a:{var be,cd=null,Fb=g[1];"?"==Fb&&(Fb=void 0);if(void 0!==Fb){var wd=0;if("all"==Fb)wd=-0xbff000000002,Fb=null;else if("on"==Fb)cd=!0,Fb=null;else if("off"==Fb)cd=!1,Fb=null;else{for(be in t)if(Fb==be){wd=t[be];cd=uc(a.Tb,wd);break}if(!wd){a.N("unknown message category: %s\n",Fb);break a}}wd&&("on"==g[2]?(a.Tb=tc(a.Tb,wd),cd=!0):"off"==g[2]&&(a.Tb=
sc(a.Tb,wd),cd=!1,0x800000000000==wd&&(a.N("%s\n",a.ta.join("\n")),a.ta=[])))}var lz=0,ag="";for(be in t)if(!Fb||Fb==be){var mz=uc(a.Tb,t[be]);if(null===cd||cd==mz)ag&&(ag+=","),++lz%10||(ag+="\n\t"),ag+=be}void 0===Fb&&a.N("message commands:\n\tm [category] [on|off]\tturn categories on/off\n");a.N("%s%s\n",null!==cd?cd?"messages on:  ":"messages off: ":"message categories:\n\t",ag||"none");Qv(a)}break;case "o":var sl=g[1],nz=g[2];if(sl&&"?"!=sl){var tl=Dv(a,sl,"port #"),ul=Dv(a,nz);void 0!==tl&&
void 0!==ul&&(Ud(a.sa,tl,1,ul),a.N("%#06x: %#04x\n",tl,ul))}else a.N("output commands:\n"),a.N("\to [p] [b]\twrite byte [b] to port [p]\n"),a.N("warning: port accesses can affect hardware state\n");break;case "p":if("print"==g[0]){Ay(a,b.substr(5));break}var xs="pr"==g[0]?1:0,ce=1+xs;if(a.F)a.N("step in progress\n");else{var ys=!1,Ta=Ov(a,G(a.J),Sg(a.J));do{var vl=!1;var wl=void 0;switch(a.ra(Ta)){case 38:case 46:case 54:case 62:case 100:case 101:case 102:case 103:case 240:Zv(a,Ta,1);vl=!0;break;
case 204:case 206:a.F=ce;Zv(a,Ta,1);break;case 205:a.F=ce;Zv(a,Ta,1);wl=a.ra(Ta);Zv(a,Ta,1);if(50==wl){var zs=a.J.D>>8&255;if(4<=zs&&6>=zs){for(var oz=128;(wl=a.ra(Ta))&&oz--;)Zv(a,Ta,1);Zv(a,Ta,1)}}break;case 224:case 225:case 226:a.F=ce;Zv(a,Ta,Ta.tb?4:2);break;case 232:a.F=ce;Zv(a,Ta,Ta.tb?5:3);break;case 154:a.F=ce;Zv(a,Ta,Ta.tb?7:5);break;case 255:var As=a.$a(Ta)&14591;if(4351==As||6399==As)a.F=ce,qx(a,Ta);break;case 243:case 242:Zv(a,Ta,1);ys=vl=!0;break;case 108:case 109:case 110:case 111:case 164:case 165:case 166:case 167:case 170:case 171:case 172:case 173:case 174:case 175:ys&&
(a.F=ce,Zv(a,Ta,1))}}while(vl);a.F?(a.hd(a.B,Ta,!0),fx(a)&&Ge(a.J)||(a.ya&&a.ya.wc(),a.F=0)):Cy(a,xs?"tr":"t")}break;case "r":if("reset"==b){a.ya&&a.ya.reset();break}gx(a,g);break;case "t":Cy(a,g[0],g[1]);break;case "u":hx(a,g[1],g[2],8);break;case "v":if("var"==g[0]){vy(a,b.substr(3))||(d=!1);break}a.N("%s version %s (%s%s%s%s%s)\n","PCx86","2.20",a.J.model,",RELEASE",",NOPREFETCH",",TYPEDARRAYS",",NOBACKTRACK");a.N("%s\n",sb());break;case "x":a:if(g[1]&&"?"!=g[1]){var bg;switch(g[1]){case "cs":void 0!==
g[3]&&(bg=+g[3]);switch(g[2]){case "int":a.J.fd=bg;break;case "start":a.J.pe=bg;break;case "stop":a.J.vd=bg;break;default:a.N("unknown cs option\n");break a}void 0!==bg&&Ae(a.J);a.N("checksums %s\n",a.J.flags.ae?"enabled":"disabled");break;case "sp":void 0!==g[2]&&(Ke(a.J,+g[2])||a.N("warning: using 1x multiplier, previous target not reached\n"));a.N("target speed: %s (%dx)\n",Le(a.J),a.J.sc);break;default:a.N("unknown option: %s\n",g[1])}}else a.N("execution options:\n"),a.N("\tcs int #\tset checksum cycle interval to #\n"),
a.N("\tcs start #\tset checksum cycle start count to #\n"),a.N("\tcs stop #\tset checksum cycle stop count to #\n"),a.N("\tsp #\t\tset speed multiplier to #\n");break;case "?":if(g[1]){Ay(a,b.substr(1));break}var xl="debugger commands:",yl;for(yl in Ey)xl+="\n  "+bb(yl,7)+Ey[yl];Qh(a)||(xl+="\nnote: frequency/history disabled if no exec breakpoints");a.N("%s\n",xl);break;default:a.N("unknown command: %s\n",b),d=!1}}}catch(Cs){a.N("debugger error: %s\n",Cs.stack||Cs.message),d=!1}return d}
function Sv(a,b,c){var d=void 0===d?!1:d;b=a.Pe(b,void 0===c?!1:c);for(var e in b)if(!px(a,b[+e],d))return!1;return!0}
var cx={16:536870912,19:32768,21:268435456,22:8388608,28:524288,33:4294967296,51:67108864},bx=[26,28,40,42,109],Ey={"?":"help/print","a [#]":"assemble","b [#]":"breakpoint",c:"clear output","d [#]":"dump memory","e [#]":"edit memory",f:"frequencies","g [#]":"go [to #]",h:"halt","i [#]":"input port #","if":"eval expression",k:"stack trace",l:"load sector(s)",ln:"list nearest symbol(s)",m:"messages",mouse:"mouse action","o [#]":"output port #",p:"step over",print:"print expression",r:"dump/set registers",
reset:"reset machine","t [#]":"trace","u [#]":"unassemble",x:"execution options",v:"print version","var":"assign variable"},fw=0,Xv=1,Wv=2,kw=3,gw=4,Yv=5,zx=18,Ax=28,vx=36,Ex=81,Bx=105,Cx=108,sx=177,rx="INVALID AAA AAD AAM AAS ADC ADD AND ARPL AS: BOUND BSF BSR BT BTC BTR BTS CALL CBW CLC CLD CLI CLTS CMC CMP CMPSB CMPSW CS: CWD DAA DAS DEC DIV DS: ENTER ES: ESC FS: GS: HLT IBTS IDIV IMUL IN INC INS INT INT1 INT3 INTO IRET JBE JC JCXZ JG JGE JL JLE JMP JA JNC JNO JNP JNS JNZ JO JP JS JZ LAHF LAR LDS LEA LEAVE LES LFS LGDT LGS LIDT LLDT LMSW LOADALL LOCK LODSB LODSW LOOP LOOPNZ LOOPZ LSL LSS LTR MOV MOVSB MOVSW MOVSX MOVZX MUL NEG NOP NOT OR OS: OUT OUTS POP POPA POPF PUSHF PUSHA PUSH RCL RCR REPNZ REPZ RET RETF ROL ROR SAHF SALC SAR SBB SCASB SCASW SETBE SETC SETG SETGE SETL SETLE SETNBE SETNC SETNO SETNP SETNS SETNZ SETO SETP SETS SETZ SGDT SHL SHLD SHR SHRD SIDT SLDT SMSW SS: STC STD STI STOSB STOSW STR SUB TEST VERR VERW WAIT XBTS XCHG XLAT XOR".split(" "),
xx="FLD FST FSTP FXCH FILD FIST FISTP FBLD FBSTP FADD FADDP FIADD FSUB FSUBP FISUB FSUBR FSUBRP FISUBR FMUL FMULP FIMUL FDIV FDIVP FIDIV FDIVR FDIVRP FIDIVR FSQRT FSCALE FPREM FRNDINT FXTRACT FABS FCHS FCOM FCOMP FCOMPP FICOM FICOMP FTST FXAM FPTAN FPATAN F2XM1 FYL2X FYL2XP1 FLDZ FLD1 FLDPI FLDL2T FLDL2E FLDLG2 FLDLN2 FINIT FNINIT FDISI FNDISI FENI FNENI FLDCW FSTCW FNSTCW FSTSW FNSTSW FCLEX FNCLEX FSTENV FNSTENV FLDENV FSAVE FNSAVE FRSTOR FINCSTP FDECSTP FFREE FFREEP FNOP FWAIT FSETPM FSINCOS FSTSWAX".split(" "),
zy=["VALID","ZERO ","SPEC ","EMPTY"],Fx=2,Gx=3,iy=[8086,80186,80286,80386],pw=0,qw=1,rw=2,sw=3,tw=4,uw=5,vw=6,ww=7,xw=8,yw=9,zw=10,Aw=11,Bw=12,Cw=13,Dw=14,Ew=15,Gw=16,Fw=22,$w=23,Nw=24,Ow=25,Pw=26,Qw=27,Rw=28,Sw=29,Tw=30,Uw=31,Vw=32,Ww=33,Xw=34,Yw=35,my=40,oy=48,Zw=56,nw=["AL","CL","DL","BL","AH","CH","DH","BH","AX","CX","DX","BX","SP","BP","SI","DI","ES","CS","SS","DS","FS","GS","IP","PS","EAX","ECX","EDX","EBX","ESP","EBP","ESI","EDI","CR0","CR1","CR2","CR3",null,null,null,null,"DR0","DR1","DR2",
"DR3",null,null,"DR6","DR7",null,null,null,null,null,null,"TR6","TR7","EIP"],Hw=0,Iw=1,Jw=2,Kw=3,Lw=4,Mw=5,Mx="BX+SI BX+DI BP+SI BP+DI SI DI BP BX EAX ECX EDX EBX ESP EBP ESI EDI".split(" "),Hx=15,Kx=240,dy=3840,Ix=0,U=1,Yx=2,Ox=3,T=4,Nx=5,Px=7,Jx=8,by=9,cy=10,Qx=11,Rx=11,Sx=12,Tx=12,Ux=13,Vx=14,V=0,Xx=16,$x=32,ay=48,gy=64,hy=80,X=96,ey=112,S=128,Lx=160,fy=192,ky=208,ly=224,ny=240,Fy=qw<<8|X|U,Gy=xw<<8|X|T,Hy=Lw<<8|ey|Ox,Iy=Mw<<8|ey|Ox,W=12288,Jy=Fx<<14,Y=Gx<<14,Dx=14,ex=1E3,ux=[0,Ix],tx={0:[178,
S|Ox|W],1:[179,S|Ox|W],2:[70,Ox|8368|Jy,Ox|4240],3:[88,Ox|8368|Jy,Ox|4240],5:[Ex,Jy],6:[22,Jy],7:[Ex,Y],32:[91,Lx|Nx|8192|Y,ky|Nx|4096],33:[91,Lx|Nx|8192|Y,ly|Nx|4096],34:[91,ky|Nx|8192|Y,Lx|Nx|4096],35:[91,ly|Nx|8192|Y,Lx|Nx|4096],36:[91,Lx|Nx|8192|Y,ny|Nx|4096],38:[91,ny|Nx|8192|Y,Lx|Nx|4096],128:[65,ay|T|4096|Y],129:[61,ay|T|4096|Y],130:[52,ay|T|4096|Y],131:[60,ay|T|4096|Y],132:[68,ay|T|4096|Y],133:[64,ay|T|4096|Y],134:[51,ay|T|4096|Y],135:[59,ay|T|4096|Y],136:[67,ay|T|4096|Y],137:[63,ay|T|4096|
Y],138:[66,ay|T|4096|Y],139:[62,ay|T|4096|Y],140:[56,ay|T|4096|Y],141:[55,ay|T|4096|Y],142:[57,ay|T|4096|Y],143:[54,ay|T|4096|Y],144:[136,S|U|8192|Y],145:[132,S|U|8192|Y],146:[125,S|U|8192|Y],147:[131,S|U|8192|Y],148:[139,S|U|8192|Y],149:[135,S|U|8192|Y],150:[124,S|U|8192|Y],151:[130,S|U|8192|Y],152:[138,S|U|8192|Y],153:[134,S|U|8192|Y],154:[137,S|U|8192|Y],155:[133,S|U|8192|Y],156:[128,S|U|8192|Y],157:[127,S|U|8192|Y],158:[129,S|U|8192|Y],159:[126,S|U|8192|Y],160:[109,Hy|4096|Y],161:[104,Hy|8192|
Y],163:[13,S|T|4096|Y,T|4272],164:[142,S|T|8192|Y,T|4272,V|U|4096],165:[142,S|T|8192|Y,T|4272,Fy|4096],166:[160,T|8368|Y,S|T|4096,Gy|4096,Fy|4096],167:[40,S|T|8192|Y,Gy|4096,Fy|4096,T|4272],168:[109,Iy|4096|Y],169:[104,Iy|8192|Y],171:[16,S|T|8192|Y,T|4272],172:[144,S|T|8192|Y,T|4272,V|U|4096],173:[144,S|T|8192|Y,T|4272,Fy|4096],175:[42,S|T|W|Y,T|4272],178:[89,T|8368,4246],179:[15,S|T|8192|Y,T|4272],180:[75,T|8368,4246],181:[77,T|8368,4246],182:[95,T|8368|Y,S|U|4096],183:[95,Nx|8368|Y,S|Ox|4096],186:[180,
S|T|W|Y,V|U|4096],187:[14,S|T|8192|Y,T|4272],188:[11,T|8368|Y,S|T|4096],189:[12,T|8368|Y,S|T|4096],190:[94,T|8368|Y,S|U|4096],191:[94,Nx|8368|Y,S|Ox|4096]},wx={216:{0:[9,S|Rx|4096],1:[18,S|Rx|4096],2:[34,S|Rx|4096],3:[35,S|Rx|4096],4:[12,S|Rx|4096],5:[15,S|Rx|4096],6:[21,S|Rx|4096],7:[24,S|Rx|4096],48:[9,X|by|8192,X|cy|4096],49:[18,X|by|8192,X|cy|4096],50:[34,X|by|8192,X|cy|4096],51:[35,X|by|8192,X|cy|4096],52:[12,X|by|8192,X|cy|4096],53:[15,X|by|8192,X|cy|4096],54:[21,X|by|8192,X|cy|4096],55:[24,
X|by|8192,X|cy|4096]},217:{0:[0,S|Rx|4096],2:[1,S|Rx|8192],3:[2,S|Rx|8192],4:[68,S|4111],5:[59,S|Ox|4096],6:[66,S|8207],7:[60,S|Ox|8192],48:[0,X|cy|8192],49:[3,X|cy|8192],50:[76],51:[2,X|cy|8192],64:[33],65:[32],68:[39],69:[40],80:[47],81:[49],82:[50],83:[48],84:[51],85:[52],86:[46],96:[43],97:[44],98:[41],99:[42],100:[31],102:[73],103:[72],112:[29],113:[45],114:[27],116:[30],117:[28]},218:{0:[11,S|Qx|4096],1:[20,S|Qx|4096],2:[37,S|Qx|4096],3:[38,S|Qx|4096],4:[14,S|Qx|4096],5:[17,S|Qx|4096],6:[23,
S|Qx|4096],7:[26,S|Qx|4096]},219:{0:[4,S|Qx|4096],2:[5,S|Qx|8192],3:[6,S|Qx|8192],5:[0,S|Ux|4096],7:[2,S|Ux|8192],64:[57],65:[55],66:[64],67:[53],68:[78,Jy],115:[79,Y]},220:{0:[9,S|Tx|4096],1:[18,S|Tx|4096],2:[34,S|Tx|4096],3:[35,S|Tx|4096],4:[12,S|Tx|4096],5:[15,S|Tx|4096],6:[21,S|Tx|4096],7:[24,S|Tx|4096],48:[9,X|cy|8192,X|by|4096],49:[18,X|cy|8192,X|by|4096],50:[34,X|cy|4096],51:[35,X|cy|4096],52:[15,X|cy|8192,X|by|4096],53:[12,X|cy|8192,X|by|4096],54:[24,X|cy|8192,X|by|4096],55:[21,X|cy|8192,
X|by|4096]},221:{0:[0,S|Tx|4096],2:[1,S|Tx|8192],3:[2,S|Tx|8192],4:[71,S|4111],6:[69,S|8207],7:[62,S|Ox|8192],48:[74,X|cy|4096],49:[3,X|cy|8192],50:[1,X|cy|4096],51:[2,X|cy|4096]},222:{0:[11,S|Ox|4096],1:[20,S|Ox|4096],2:[37,S|Ox|4096],3:[38,S|Ox|4096],4:[14,S|Ox|4096],5:[17,S|Ox|4096],6:[23,S|Ox|4096],7:[26,S|Ox|4096],48:[10,X|cy|8192,X|by|4096],49:[19,X|cy|8192,X|by|4096],50:[35,X|cy|4096],51:[36,X|cy|4096],52:[16,X|cy|8192,X|by|4096],53:[13,X|cy|8192,X|by|4096],54:[25,X|cy|8192,X|by|4096],55:[22,
X|cy|8192,X|by|4096]},223:{0:[4,S|Ox|4096],2:[5,S|Ox|8192],3:[6,S|Ox|8192],4:[7,S|Vx|4096],5:[4,S|Sx|4096],6:[8,S|Vx|8192],7:[6,S|Sx|8192],48:[75,X|cy|4096],49:[3,X|cy|8192],50:[2,X|cy|4096],51:[2,X|cy|4096],52:[80,Jy]}},yx=[[[6,S|U|W,V|U|4096],[100,S|U|W,V|U|4096],[5,S|U|W,V|U|4096],[121,S|U|W,V|U|4096],[7,S|U|W,V|U|4096],[155,S|U|W,V|U|4096],[163,S|U|W,V|U|4096],[24,S|U|4096,V|U|4096]],[[6,S|T|W,V|T|4096],[100,S|T|W,V|T|4096],[5,S|T|W,V|T|4096],[121,S|T|W,V|T|4096],[7,S|T|W,V|T|4096],[155,S|T|W,
V|T|4096],[163,S|T|W,V|T|4096],[24,S|T|4096,V|T|4096]],[[6,S|T|W,V|Yx|4096],[100,S|T|W,V|Yx|4096],[5,S|T|W,V|Yx|4096],[121,S|T|W,V|Yx|4096],[7,S|T|W,V|Yx|4096],[155,S|T|W,V|Yx|4096],[163,S|T|W,V|Yx|4096],[24,S|T|4096,V|Yx|4096]],[[116,S|U|W|Jy,V|U|4096],[117,S|U|W|Jy,V|U|4096],[110,S|U|W|Jy,V|U|4096],[111,S|U|W|Jy,V|U|4096],[141,S|U|W|Jy,V|U|4096],[143,S|U|W|Jy,V|U|4096],ux,[120,S|U|W|Jy,V|U|4096]],[[116,S|T|W|Jy,V|U|4096],[117,S|T|W|Jy,V|U|4096],[110,S|T|W|Jy,V|U|4096],[111,S|T|W|Jy,V|U|4096],[141,
S|T|W|Jy,V|U|4096],[143,S|T|W|Jy,V|U|4096],ux,[120,S|T|W|Jy,V|U|4096]],[[116,S|U|W,Xx|U|4096],[117,S|U|W,Xx|U|4096],[110,S|U|W,Xx|U|4096],[111,S|U|W,Xx|U|4096],[141,S|U|W,Xx|U|4096],[143,S|U|W,Xx|U|4096],ux,[120,S|U|W,Xx|U|4096]],[[116,S|T|W,Xx|U|4096],[117,S|T|W,Xx|U|4096],[110,S|T|W,Xx|U|4096],[111,S|T|W,Xx|U|4096],[141,S|T|W,Xx|U|4096],[143,S|T|W,Xx|U|4096],ux,[120,S|T|W,Xx|U|4096]],[[116,S|U|W,Fy|4096],[117,S|U|W,Fy|4096],[110,S|U|W,Fy|4096],[111,S|U|W,Fy|4096],[141,S|U|W,Fy|4096],[143,S|U|W,
Fy|4096],ux,[120,S|U|W,Fy|4096]],[[116,S|T|W,Fy|4096],[117,S|T|W,Fy|4096],[110,S|T|W,Fy|4096],[111,S|T|W,Fy|4096],[141,S|T|W,Fy|4096],[143,S|T|W,Fy|4096],ux,[120,S|T|W,Fy|4096]],[[156,S|U|4096,V|U|4096],ux,[99,S|U|W],[97,S|U|W],[96,S|U|4096],[42,S|U|W],[32,S|U|4096],[41,S|U|W]],[[156,S|T|4096,V|T|4096],ux,[99,S|T|W],[97,S|T|W],[96,S|T|4096],[42,S|T|W],[32,S|T|4096],[41,S|T|W]],[[44,S|U|W],[31,S|U|W],ux,ux,ux,ux,ux,ux],[[44,S|T|W],[31,S|T|W],[17,S|T|4096],[17,S|Px|4096],[58,S|T|4096],[58,S|Px|4096],
[109,S|T|4096],ux],[],[[146,S|Ox|8192|Jy],[154,S|Ox|8192|Jy],[79,S|Ox|4096|Jy],[90,S|Ox|4096|Jy],[157,S|Ox|4096|Jy],[158,S|Ox|4096|Jy],ux,ux],[[140,S|Ox|8192|Jy],[145,S|Ox|8192|Jy],[76,S|Ox|4096|Jy],[78,S|Ox|4096|Jy],[147,S|Ox|8192|Jy],ux,[80,S|Ox|4096|Jy],ux],[ux,ux,ux,ux,[13,S|T|4096|Y,V|U|4096],[16,S|T|8192|Y,V|U|4096],[15,S|T|8192|Y,V|U|4096],[14,S|T|8192|Y,V|U|4096]]];Jb(function(){for(var a=cc("pcx86","debugger"),b=0;b<a.length;b++){var c=a[b],d=dc(c);d=new Nv(d);bc(d,c)}});
function Ky(a,b,c){Sb.call(this,"Computer",a,1073741824);var d=this;Ly(this,b);this.Y=ut(this,"autoPower",a);this.A=+ut(this,"diagnostics",a);0<=this.A&&2>=this.A||(this.A=1);this.F=0;this.ha=a.busWidth||a.buswidth;this.B=My;this.P=null;this.L=this.ba=!1;this.url=ut(this,"url")||"";this.ia=(Math.random()+.1).toString(36).substr(2,12);this.D=Ny(this);if(this.J=ac("CPU",this.id)){(this.Jj=ac("FPU",this.id))||new Vh({id:this.Ac+".fpu"});this.ga=ac("Debugger",this.id);this.C=[];for(b=null;b=eu(this,"Video",
b);)this.C.push(b);this.sa=new pd({id:this.Ac+".bus",busWidth:this.ha},this.J,this.ga);var e=ec(this.id);this.K=(this.G=ac("Panel",this.id))&&this.G.ca.print;this.fa=this.print;this.K&&(this.fa=this.G.print);for(b=0;b<e.length;b++){var f=e[b];f.print=function(h,k){var l=k;l=void 0===l?0:l;if(d.I)for(var n=0;n<d.C.length;n++){var m=d.C[n];m&&(m=m.og)&&(4398046511104==l&&"...\n"==h.slice(-4)?Zb(m,h.slice(0,-1),h.slice(0,-1)+"."):Yb(m,h))}return d.fa.call(this,h,k)}.bind(f)}this.I=0;!this.K&&this.A&&
Oy(this);this.N(0,"%s v%s\n%s\n%s\n","PCx86","2.20","Copyright \u00a9 2012-2023 Jeff Parsons <Jeff@pcjs.org>","License: MIT <https://www.pcjs.org/LICENSE.txt>");Rc(this.J,this.id,function(){$e(d)},1E3/Py);b=null;f=ut(this,"resume");void 0!==f&&(1<f.length?b=this.O=f:this.B=parseInt(f,10));f=!1;e=Ab("state");e||(f=!0,e=ut(this,"state",a));e&&(b=this.T=e,f||(this.L=!0,this.B=My),this.B&&(this.V=new Yg(this,"2.20"),this.V.load()?b=null:delete this.V));!b&&this.B&&(b=Qy(this))&&(this.L=!0);if(this.la=
b){var g="Loading "+this.la+"...";kb(this.la,null,!0,function(h,k,l){l?(d.O=null,d.L=!1,d.N(274877906944,"Unable to load machine state (%s) from server (error %d%s)\n",h,l,k?": "+cb(k):"")):(Tb(d.Ac,h,k),d.P=k,d.ba=!0);oc(d)},function(){d.N(4398046511104,"%s\n",g)})}else oc(this);this.ca.power||(this.Y=!0);!c&&this.Y&&this.wait(this.je)}else Wb("Unable to find CPU component")}sa(Ky,Sb);function yy(a){a.K&&(a.K.value="")}
function Oy(a){if(!a.I)for(var b=0;b<a.C.length;b++){var c=a.C[b];c&&(c=c.og)&&(c.style.opacity="1",c.style.lineHeight="1",a.I++)}}function Ry(a){if(a.I){for(var b=0;b<a.C.length;b++){var c=a.C[b];c&&(c=c.og)&&(c.style.opacity="0",c.style.lineHeight="0",yb("MSIE")&&(c.style.fontSize="0"))}a.I=0}a.A=0}
function Sy(a,b){if(a.I&&(1==a.A&&(a.A+=2,setTimeout(function(c){return function(){gp(c)}}(a),2E3),a.N(0,"Initialization complete\n")),2==a.A&&(a.A+=2,a.N(0,"Initialization complete, press a key to continue...\n")),3==a.A||4==a.A))return oc(a,!1),a.wait(a.fg,b),!1;Ry(a);return!0}function gp(a,b,c){var d=a.A;b&&16==b.keyCode&&3==a.A&&(a.A++,a.N(0,"Machine paused, press another key to continue...\n"),b=null);if(!b&&3==a.A||b&&c&&4==a.A)a.A=5,oc(a);return!d}
function Ly(a,b){if(!b){var c,d,e=r.resources;if("object"==typeof e&&(c=e.parms)||(d=Ca.machines[a.Ac])&&(c=d.parms))try{b=eval("("+c+")")}catch(f){Wb(f.message+" ("+c+")")}}a.M=b}
function ut(a,b,c){var d=Ab(b);if(d)try{d=d.replace(/([^\\])"/g,'$1\\"'),d=eval('"'+d+'"')}catch(e){Wb(e.message+" ("+d+")"),d=void 0}void 0===d&&a.M&&(d=a.M[b]);void 0===d&&c&&(d=c[b]);a=r.resources;if(!d&&"object"==typeof a)if(a[b])d=b;else try{d=JSON.parse(a.parms)[b]}catch(e){Wb(e.message+" ("+a.parms+")")}return d}p=Ky.prototype;p.wait=function(a,b){for(var c=this,d=ec(this.id),e=0;e<=d.length;e++){var f=e<d.length?d[e]:this;if(!nc(f)){nc(f,function(){c.wait(a,b)});return}}a.call(this,b)};
function Ty(a,b){var c=new Yg(a,"2.20",Uy);if(c.load()&&Vy(c)){var d=c.get(Wy),e=b?b.get(Wy):"unknown";d!=e&&(a.N(274877906944,"Machine state may be out-of-date\n(%s vs. %s)\nCheck your browser's local storage limits\n",d,e),b||c.clear())}}
p.je=function(a){void 0===a&&(a=this.B||(this.P?Xy:My));if(!this.F){this.F++;var b=!1,c=!1;this.aa=!1;var d=this.V||new Yg(this,"2.20");if(a==Je)b=!0;else if(a>My){if(d.load(this.P)){this.H=new Yg(this,"2.20",Yy);this.H.load()&&(a!=Xy&&Zy(this)&&(a=$y),az(this.H));this.H.set(Wy,eb("%T",new Date));this.H.store();var e=this.B&&!this.L;if(a==Xy||Xb("Click OK to restore the previous PCx86 machine state.")){if(c=Vy(d)){var f=d.get("code"),g=d.get("data");f&&("ok"==f?d.load(g):("error"==f&&"no machine state"!=
g&&(this.N(274877906944,"Error: %s\n",g),"unable to verify user"==g&&(xb(bz,""),this.D=null)),az(d),d.load()?(c=Vy(d),e=!0):c=!1))}e&&Ty(this,c?d:null)}else a==$y&&d.clear()}else Ty(this);delete this.P;delete this.V}e=ec(this.id);for(f=0;f<e.length;f++)if(g=e[f],g!==this&&g!=this.J)try{c=cz(this,g,d,b,c)}catch(h){Wb(g.type+" restore failure: "+h.message)}b=[d,a,c];a!=Je?this.wait(this.fg,b):this.fg(b)}};
function cz(a,b,c,d,e){if(!b.flags.Nb){b.flags.Nb=!0;if(b.Mb){var f=null;e&&((f=c.get(b.id))||(f=c.get(b.id.replace(/-[0-9]+\./i,"."))));"string"===typeof f&&(f=null);!b.Mb(f,d)&&f&&(a.flags.Qd||(a.N(274877906944,"Unable to restore hardware state\n"),a.T&&!a.ba?(c.clear(),a.B=My,r.location&&r.location.reload()):a.aa=!0),b.Mb(null),e=!1)}b.flags.De=!0;if(!d&&b.Ij)for(a=b.Ij.split("|"),c=0;c<a.length;c++)b.N(137438953472,"%s\n",a[c])}return e}
p.fg=function(a){if(!this.flags.De){if(!Sy(this,a))return;this.flags.De=!0}var b=a[0],c=0>a[1];a=a[2];var d=this.ca.power;d&&(d.textContent="Shutdown");this.flags.Nb=!0;this.J&&(cz(this,this.J,b,c,a),this.J.Id());this.aa&&(Zy(this),b.clear());!c&&this.H&&(this.H.clear(),delete this.H);this.F=0;gc(this.Ac,ut(this,"autoScript"))};function Zy(a){return a.flags.Qd?!1:(Lb("There may be a problem with your PCx86 machine."),!0)}
function Dy(a,b,c){var d="none";if(a.F)return null;a.F--;var e=new Yg(a,"2.20"),f=new Yg(a,"2.20",Uy),g=eb("%T",new Date);f.set(Wy,g);e.set(Wy,g);e.set(dz,"2.20");e.set(ez,r.location?r.location.href:null);e.set(pz,sb());if(a.J&&a.J.Lb){var h=a.J.Lb(b,c);"object"===typeof h&&e.set(a.J.id,h);c&&(a.J.flags.Nb=!1,!1===h&&(d=null))}g=ec(a.id);for(var k=0;k<g.length;k++){var l=g[k];l.flags.Nb&&(l.Lb&&(h=l.Lb(b,c),"object"===typeof h&&e.set(l.id,h)),c&&(l.flags.Nb=!1,!1===h&&(d=null)))}d&&(c?(g=h=!1,b?(a.D&&
qz(a,a.D,e.toString()),f.store()&&e.store()||(d=null,h=g=!0)):a.B&&(h=!0,g=a.B==rz),h&&e.clear(g)):d=e.toString());c&&(a.flags.Nb=!1,b=a.ca.power)&&(b.textContent="Power");a.F=0;return d}p.reset=function(){this.sa&&this.sa.reset&&(this.N("Resetting %s\n",this.sa.type),this.sa.reset());for(var a=ec(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.sa&&c.reset&&(this.N("Resetting %s\n",c.type),c.reset())}};
p.start=function(a,b){for(var c=ec(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.start&&e.start(a,b)}};p.stop=function(a,b){for(var c=ec(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.stop&&e.stop(a,b)}};
p.ub=function(a,b,c){var d=this;switch(b){case "power":return this.ca[b]=c,c.onclick=function(){d.F||(d.flags.Nb?Dy(d,!1,!0):d.wait(d.je))},!0;case "reset":return this.ca[b]=c,c.onclick=function(){a:if(d.flags.Nb&&!d.F){d.J&&(d.J.flags.Id=d.J.flags.Oa);if(d.B&&!d.O){var e=d.flags.Qd||!Xb("Click OK to reset this machine and discard all disk modifications.");Dy(d,e,!0);if(!e&&d.T){r.location&&r.location.reload();break a}e||(d.Z=!0);d.je(My);d.Z=!1}else d.reset(),d.J&&d.J.Id();d.wc(!0)}},!0;case "save":if(Za(qb(),
"pcjs.org"))c.parentNode.removeChild(c);else return this.ca[b]=c,c.onclick=function(){var e=Ny(d,!0);if(e){var f=!!(d.B&&!d.O||d.T),g=Dy(d,f);f?qz(d,e,g):d.N(274877906944,"Resume disabled, machine state not saved\n")}},!0}return!1};
function Ny(a,b){var c=a.D;c||((c=wb(bz),void 0!==c)?!c&&b&&(b=null,r.prompt&&(b=r.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c=b)&&((c=sz(a,c))||a.N(274877906944,"The user ID is invalid.\n")):b&&a.N(274877906944,"Browser local storage is not available\n"));return c}
function sz(a,b){a.D=null;b=kb(ob()+"/api/v1/user?req=verify&user="+b);var c=b[1];if(!b[0]&&c)try{b=eval("("+c+")"),b.code&&"ok"==b.code&&(xb(bz,b.data),a.D=b.data)}catch(d){Wb(d.message+" ("+c+")")}return a.D}function Qy(a){var b=null;a.D&&(b=ob()+"/api/v1/user?req=load&user="+a.D+"&state="+tz(a,"2.20"));return b}
function qz(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=tz(a,"2.20");d.data=c;b=kb(ob()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var e=d.indexOf("\n");0<e&&(d=d.substr(0,e));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.N(274877906944,"Machine state saved to server\n"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.N(274877906944,"%s\n",c),xb(bz,""),a.D=null)}}
function eu(a,b,c){c=void 0===c?null:c;a=ec(a.id);for(var d=0;d<a.length;d++){var e=a[d];if(c)c==e&&(c=null);else if(e.type==b)return e}return null}p.wc=function(a){if(this.C.length){var b=0,c=0;!a&&ya&&(b=r.scrollX,c=r.scrollY);Lr(this.C[0],a);!a&&r.scrollTo&&r.scrollTo(b,c)}};
function $e(a,b){if(a.J){var c=a.J;if(c.Ej&&(b||!c.flags.Oa||c.flags.Hh)){Ph(c,"EAX",c.D);Ph(c,"EBX",c.G);Ph(c,"ECX",c.H);Ph(c,"EDX",c.L);Ph(c,"ESP",C(c));Ph(c,"EBP",c.M);Ph(c,"ESI",c.K);Ph(c,"EDI",c.I);Ph(c,"CS",Sg(c));Ph(c,"DS",c.wa.W);Ph(c,"SS",c.T.W);Ph(c,"ES",c.ka.W);Ph(c,"EIP",G(c));var d=Tg(c);Ph(c,"PS",d);Ph(c,"V",d&2048);Ph(c,"D",d&1024);Ph(c,"I",d&512);Ph(c,"T",d&256);Ph(c,"S",d&128);Ph(c,"Z",d&64);Ph(c,"A",d&16);Ph(c,"P",d&4);Ph(c,"C",d&1);80386==c.model&&(Ph(c,"FS",c.Fa.W),Ph(c,"GS",c.Ga.W),
Ph(c,"CR0",c.ia),Ph(c,"CR2",c.Jc),Ph(c,"CR3",c.Rb))}if(d=c.ca.speed)d.textContent=Oe(c)}if(a.G&&(c=a.G,c.canvas)){if(c.context&&c.B&&c.I){d=c.J;var e=c.B.width,f=c.B.height;c.I.fillStyle=kd;c.I.fillRect(0,0,e,f);dd(c,ed,c.B,c.I,c.canvas.style.color);ld(c,3);jd(c,"CPU");jd(c,"Target");jd(c,"Current");md(c);jd(c,d.model);jd(c,Le(d));jd(c,Oe(d));md(c,2);ld(c,8);var g=80386>d.model?4:8;c.Fa=16;c.ma=g;jd(c,"AX",d.D,2);jd(c,"DS",d.wa.W,0,1);jd(c,"DX",d.L,2);jd(c,"SI",d.K,0,1.5);jd(c,"BX",d.G,2);jd(c,"ES",
d.ka.W,0,1);jd(c,"CX",d.H,2);jd(c,"DI",d.I,0,1.5);jd(c,"CS",Sg(d),2);jd(c,"SS",d.T.W,0,1);jd(c,"IP",G(d),2);jd(c,"SP",C(d),0,1.5);jd(c,"PS",g=Tg(d),2);jd(c,"BP",d.M,0,1.5);80386<=d.model&&(jd(c,"FS",d.Fa.W,2),jd(c,"CR0",d.ia,0,1),jd(c,"GS",d.Ga.W,2),jd(c,"CR3",d.Rb,0,1.5));ld(c,9);jd(c,"V"+(g&2048?1:0));jd(c,"D"+(g&1024?1:0));jd(c,"I"+(g&512?1:0));jd(c,"T"+(g&256?1:0));jd(c,"S"+(g&128?1:0));jd(c,"Z"+(g&64?1:0));jd(c,"A"+(g&16?1:0));jd(c,"P"+(g&4?1:0));jd(c,"C"+(g&1?1:0),0,2);Xc(c,c.Z);c.context.drawImage(c.B,
0,0,e,f,c.ta,c.Za,c.aa,c.Ba)}Sc(c)}if(void 0!==b)for(c=0;c<a.C.length;c++)Mr(a.C[c],b)}var Yy="failsafe",Uy="validate",Wy="timestamp",dz="version",ez="url",pz="browser",bz="user",Je=-1,My=0,Xy=1,$y=2,rz=3,Py=2;Jb(function(){for(var a=cc("pcx86","machine"),b=0;b<a.length;b++){var c=a[b],d=dc(c);c=cc("pcx86","computer",c);for(var e=0;e<c.length;e++){var f=c[e],g=dc(f);g=new Ky(g,d,!0);bc(g,f);g.Y&&g.wait(g.je)}}});
Kb.show.push(function(){for(var a=cc("pcx86","computer"),b=0;b<a.length;b++){var c=dc(a[b]);if(c=ac("Computer",c.id))c.flags.Qd=!1,c.flags.De&&!c.flags.Nb&&c.je(Je)}});Kb.exit.push(function(){for(var a=cc("pcx86","computer"),b=0;b<a.length;b++){var c=dc(a[b]);if(c=ac("Computer",c.id))c.flags.Qd=!0,c.flags.Nb&&Dy(c,!(!c.B||c.O),!0)}});function Yg(a,b,c){this.id=a.id;this.ga=a.ga;this.A="";this.state={};this.B=this.C=!1;this.key=tz(a,b,c);az(this,a.hh)}p=Yg.prototype;
p.set=function(a,b){try{this.state[a]=b}catch(c){lb(1099511627776,c.message)}};p.get=function(a){return this.state[a]||null};p.data=function(){return this.state};p.load=function(a){return a?(this.A=a,this.B=!0,this.C=!1,!0):this.B?!0:tb()&&(a=wb(this.key))?(this.A=a,this.B=!0):!1};function Vy(a){var b=!0;if(!a.C)try{a.state=JSON.parse(a.A),a.C=!0}catch(c){Wb(c.message||c),b=!1}return b}
p.store=function(){var a=!0;if(tb()){var b=JSON.stringify(this.state);xb(this.key,b)||(lb(1099511627776,"Unable to store %d bytes in browser local storage\n",b.length),a=!1)}return a};p.toString=function(){return this.state?JSON.stringify(this.state):this.A};function az(a,b){a.A="";a.state={};a.B=a.C=!1;b&&a.set("parms",b)}
p.clear=function(a){az(this);var b=[];if(tb())try{for(var c=0,d=r.localStorage.length;c<d;c++)b.push(r.localStorage.key(c))}catch(e){vb(e)}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){if(tb())try{r.localStorage.removeItem(d)}catch(e){vb(e)}b.splice(c,1);c=0}};function tz(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}
function er(a){if(a){var b=0,c=[];if(void 0!==a[0])for(var d=0;2>d;d++)for(var e=d;e<a.length;){for(var f=a[e],g=e+2;g<a.length&&a[g]===f;)g+=2;c[b++]=g-e>>1;c[b++]=f;e=g}if(c.length<a.length)return c}return a}var uz=0;function vz(a,b,c,d,e,f,g,h,k){h("Loading "+a+"...");kb(a,null,!0,function(l,n,m){m?(n||(n="unable to load "+a+" ("+m+")"),k(l,n,null)):wz(n,a,b,c,d,e,f,g,h,k)})}
function wz(a,b,c,d,e,f,g,h,k,l){function n(m,q,u){if(u)l(m,u,null);else{c&&(Tb(c,b,q),(u=b)&&0>u.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(u=window.location.pathname+u),f?"}"==f.slice(-1)?(f=f.slice(0,-1),1<f.length&&(f+=",")):f='{state:"'+f+'",':f="{",f+='url:"'+u+'"}',"object"==typeof resources&&(u=null),f=f.replace(/\$/g,"$$$$").replace(/'/g,"&apos;"),g&&(m=q.match(/(<machine[^>]*\sclass=)(['"])(.*?)(\2[^>]*>)/))&&(q=q.replace(m[0],m[1]+m[2]+g+m[4]),g=""),(m=q.match(/(<machine[^>]*\sdebugger=)(['"])(available)(\2[^>]*>)/))&&
(q=q.replace(m[0],m[1]+m[2]+"optional"+m[4])),q=q.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(g?' class="'+g+'"':"")+(f?" parms='"+f+"'":"")+(u?' url="'+u+'"':"")));h||(q=q.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,"$1"+d+"$2"),q=q.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1"+e+"$2"),q=q.replace(/<xsl:variable name="APPVERSION"(\/>|>[^<]*<\/xsl:variable>)/,'<xsl:variable name="APPVERSION">2.20</xsl:variable>'));m=null;if("<"==q.charAt(0))try{h||
(q=q.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(m=new window.ActiveXObject("Microsoft.XMLDOM"),m.async=!1,m.loadXML(q)):m=(new window.DOMParser).parseFromString(q,"text/xml")}catch(x){m=null,q=x.message}else q="unrecognized XML: "+(255<q.length?q.substr(0,255)+"...":q);l(b,q,m)}}a?h?xz(b,a,k,n):n(b,a,""):l(b,"no data",null)}
function xz(a,b,c,d){var e;if(e=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(b)){var f=e[2];c("Loading "+f+"...");kb(f,null,!0,function(g,h,k){if(k||!h)d(g,b,"unable to resolve XML reference: "+e[0]+" ("+k+")");else{if(k=e[3]){var l=h.match(new RegExp("<"+e[1]+"[^>]*>"));if(l){for(var n=l[0],m,q=/( [a-z]+=)(['"])(.*?)\2/gi;m=q.exec(k);)n=0>n.toLowerCase().indexOf(m[1].toLowerCase())?n.replace(">",m[0]+">"):n.replace(new RegExp(m[1]+"(['\"])(.*?)\\1"),m[0]);l[0]!=n&&(h=h.replace(l[0],n))}else{d(g,b,"missing <"+
e[1]+"> in "+f);return}}h=h.replace(/<\?xml[^>]*>[\r\n]*/,"");b=b.replace(e[0],h);xz(g,b,c,d)}})}else d(a,b,"")}
function yz(a,b,c,d,e,f,g){function h(D){if(void 0===m){var E=n&&cc("machine-warning","",n);m=E&&E[0]||n}m&&(m.innerHTML=$a(D))}function k(D,E){if("string"==typeof E&&0<=E.indexOf("<!DOCTYPE html>")){var Z=E.match(/<title>(?:PCjs: |)(.*?)<\/title>/);Z&&(E=Z[1])}lb(1099511627776,"%s\n",E);h("Error: "+E+(D?" ("+D+")":""));q&&l();q=!1}function l(){--uz||Pb(!0)}var n,m,q=!0;uz++;Ca.machines[c]={};if(!d)return f&&Tb(c,"parms",f),l(),q;"true"==Ab("debugger")&&0>d.indexOf("/debugger")&&(d=d.replace("/machine.xml",
"/debugger/machine.xml"));try{if(n=document.getElementById(c)){var u,x=r.resources;if("object"==typeof x&&(u=x.css)){var y=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css";z.styleSheet?z.styleSheet.cssText=u:z.appendChild(document.createTextNode(u));y.appendChild(z)}e||(e="/machines/"+b+"/xsl/components.xsl");b=b.split("/").pop();u=function(D,E,Z){Z?vz(e||"","",a,b,"","",!1,h,function(aa,ua,ja){if(ja)if(Tb(c,e||"",ua),h("Processing "+d+"..."),
window.ActiveXObject||"ActiveXObject"in window)(ja=Z.transformNode(ja))?(n.outerHTML=ja,l()):k(aa,"transformNodeToObject failed");else if(document.implementation&&document.implementation.createDocument)if(ua=new XSLTProcessor,ua.importStylesheet(ja),ja=ua.transformToFragment(Z,document))if(ua=n.parentNode){var pb=aa=0,ka=n.getBoundingClientRect();0>ka.bottom&&(aa=window.scrollX,pb=window.scrollY);ua.replaceChild(ja,n);(n=document.getElementById(c))&&0>ka.bottom&&(ja=n.getBoundingClientRect(),pb=window.performance&&
window.performance.navigation.type==window.performance.navigation.TYPE_RELOAD?0:pb+Math.ceil(ja.height-ka.height),window.scrollTo(aa,pb));l()}else k(aa,"invalid machine element: "+c);else k(aa,"transformToFragment failed");else k(aa,"unable to transform XML: unsupported browser");else k(aa,ua)}):k(D,E)};"<"!=d.charAt(0)?vz(d,c,a,b,f||"",g||"",!0,h,u):wz(d,"",c,a,b,f||"",g||"",!1,h,u)}else k(d,"missing machine element: "+c)}catch(D){k(d,D.message)}return q}
function zz(a,b,c,d,e){Pb(!1);return yz("PCx86","pcx86",a,b,c,d,e)}r.embedC1P=function(a,b,c,d,e){Pb(!1);return yz("C1Pjs","osi/c1p",a,b,c,void 0,e)};r.embedPC=zz;r.embedPCx86=zz;r.embedPCx80=function(a,b,c,d,e){Pb(!1);return yz("PCx80","pcx80",a,b,c,d,e)};r.embedPDP10=function(a,b,c,d,e){Pb(!1);return yz("PDPjs","dec/pdp10",a,b,c,d,e)};r.embedPDP11=function(a,b,c,d,e){Pb(!1);return yz("PDPjs","dec/pdp11",a,b,c,d,e)};
r.commandMachine=function(a,b,c,d,e,f){if("script"==e)return gc(c,f)?(b&&(a.disabled=!0),!0):!1;if(d){var g=ac(d,c+".machine");if(g){var h=g.exports;if(h&&(h=h[e]))return h.call(g,f)?(b&&(a.disabled=!0),!0):!1}}console.log("unimplemented: commandMachine('"+c+"','"+d+"','"+e+"','"+f+"')");return!1};r.enableEvents=Pb;r.sendEvent=Mb;
function Az(a,b,c,d){if(!c&&b){d.push(b);a=Ca.machines[d[0]];b=null;for(var e in a)if(Za(e,"components.xsl")){b=e.replace(".xsl",".css");break}b?kb(b,null,!0,function(f,g){Bz(g,d)}):Bz("",d)}else nb("Error ("+c+") requesting "+a)}
function Bz(a,b){var c,d,e=b[0],f=b[1];var g=b[4];if(g=g.match(/^(\s*\(function\(\){)([\s\S]*)(}\)\(\);?)/)){var h=Ca.machines[e],k={},l;for(l in h){var n=h[l],m=Ya(l);if("xml"==m){for(m=/[ \t]*<disk [^>]*path=(['"])(.*?)\1.*?<\/disk>\n?/g;c=m.exec(h[l]);){var q=c[2];q&&(h[q]?lb('recording disk: "%s"\n',q):n=n.replace(c[0],""))}c=l=Xa(l)}else"xsl"==m&&(d=l=Xa(l));lb('saving resource: "%s" (%d bytes)\n',l,n.length);k[l]=n}a&&(k[l="css"]=a,lb('saving resource: "%s" (%d bytes)\n',l,a.length));b[2]&&
(a=k[l="parms"]=b[2],lb('saving resource: "%s" (%d bytes)\n',l,a.length));b[3]&&(a=k[l="state"]=b[3],lb('saving resource: "%s" (%d bytes)\n',l,a.length));c&&d?(b=JSON.stringify(k),f+=".js",g=g[1]+"var resources="+b+";"+g[2]+g[3],lb('saving machine: "%s" (%d bytes)\n',e,g.length),b=Eb(g,"javascript",!1,f),b=b+(', copy it to your web server as "'+f+'", and then add the following to your web page:\n\n<div id="')+(e+'"></div>\n<script src="')+(f+'">\x3c/script>\n<script>embedPCx86("')+(e+'","'+(c+'","')+
(d+'");\x3c/script>\n\nThe machine should appear where the <div> is located.')),nb(b)):nb("This feature is not currently available for machines created directly from XML files.")}else nb("Unsupported script")}r.savePC=function(a,b,c){var d=ac("Computer",a);if(d){var e=Dy(d,!0),f=d.M?JSON.stringify(d.M):null;b||(b="/machines/pcx86/releases/2.20/pcx86.js");if(c&&c({state:e,hh:f}))return!0;kb(b,null,!0,function(g,h,k){Az(g,h,k,[a,Xa(b,!0),f,e])});return!0}nb("Unable to identify machine '"+a+"'");return!1};})()

//# sourceMappingURL=pcx86.js.map
